<div class="view project-list">
    <header class="entries-head" *ngIf="showHeader">
        <div class="head-wrap">
            <label class="entry-select">
                <input type="checkbox" class="all" [checked]="isSelectedAll" (change)="toggleSelectAll()" />
            </label>
            <div class="entry-captions">
                <div class="project-list__name">{{'name' | translate}}</div>
                <div class="vw-icon"><i class="fa fa-paperclip"></i></div>
                <div class="project-list__status">{{'status' | translate}}</div>
                <div class="project-list__customer">{{'customer' | translate}}</div>
                <div class="project-list__manager">{{'manager' | translate}}</div>
                <div class="project-list__programmer">{{'programmer' | translate}}</div>
                <div class="project-list__tester">{{'tester' | translate}}</div>
                <div class="project-list__finish_date">{{'finish_date' | translate}}</div>
            </div>
        </div>
    </header>
    <div class="entries">
        <div class="entry-wrap" *ngFor="let project of projects" [class.active]="isSelected(project.id)">
            <div class="entry">
                <label class="entry-select">
                    <input type="checkbox" name="project-id" value="{{project.id}}" [checked]="isSelected(project.id)" (change)="toggleSelected(project.id)" />
                </label>
                <a class="entry-link" [routerLink]="['./', project.id]">
                    <div class="entry-fields">
                        <div class="project-list__name">{{project.name}}</div>
                        <div class="vw-icon">
                            <i class="fa fa-paperclip" *ngIf="project.hasAttachments"></i>
                        </div>
                        <div class="project-list__status">
                            <span class="status-{{project.status | text:'L'}}">{{project.status | text:'L' | translate}}</span>
                        </div>
                        <div class="project-list__customer">
                            <organization-input [org]="project.customer"></organization-input>
                        </div>
                        <div class="project-list__manager">
                            <employee-input [ids]="[project.managerUserId]"></employee-input>
                        </div>
                        <div class="project-list__programmer">
                            <employee-input [ids]="[project.programmerUserId]"></employee-input>
                        </div>
                        <div class="project-list__tester">
                            <employee-input [ids]="[project.testerUserId]"></employee-input>
                        </div>
                        <div class="project-list__finish_date">
                            {{project.finishDate | dateFmt:'DD.MM.YYYY'}}
                            <span>{{'now' | dateDuration:project.finishDate}}</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
