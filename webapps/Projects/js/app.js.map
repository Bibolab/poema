{"version":3,"sources":["webpack:///./app/main.browser.ts","webpack:///./app/shared/notification/index.ts","webpack:///./app/shared/notification/notification.service.ts","webpack:///./app/shared/notification/notification.ts","webpack:///./app/shared/notification/notification.component.ts","webpack:///./app/shared/markdown/index.ts","webpack:///./app/shared/markdown/markdown-converter.ts","webpack:///./app/shared/markdown/markdown-editor.ts","webpack:///./app/shared/markdown/marked.pipe.ts","webpack:///./app/components/application/app.ts","webpack:///./~/@angular/router/index.js","webpack:///./~/@angular/router/directives/router_link.js","webpack:///./~/@angular/router/router.js","webpack:///./~/rxjs/add/operator/scan.js","webpack:///./~/rxjs/add/operator/concat.js","webpack:///./~/rxjs/operator/concat.js","webpack:///./~/rxjs/add/operator/concatMap.js","webpack:///./~/rxjs/operator/concatMap.js","webpack:///./~/rxjs/add/operator/every.js","webpack:///./~/rxjs/operator/every.js","webpack:///./~/rxjs/add/operator/mergeAll.js","webpack:///./~/rxjs/add/observable/from.js","webpack:///./~/rxjs/observable/from.js","webpack:///./~/rxjs/observable/FromObservable.js","webpack:///./~/rxjs/observable/IteratorObservable.js","webpack:///./~/rxjs/observable/ArrayLikeObservable.js","webpack:///./~/@angular/router/apply_redirects.js","webpack:///./~/@angular/router/shared.js","webpack:///./~/@angular/router/url_tree.js","webpack:///./~/@angular/router/url_serializer.js","webpack:///./~/@angular/router/utils/collection.js","webpack:///./~/@angular/router/config.js","webpack:///./~/@angular/router/create_router_state.js","webpack:///./~/rxjs/BehaviorSubject.js","webpack:///./~/@angular/router/router_state.js","webpack:///./~/@angular/router/utils/tree.js","webpack:///./~/@angular/router/create_url_tree.js","webpack:///./~/@angular/router/recognize.js","webpack:///./~/@angular/router/resolve.js","webpack:///./~/rxjs/add/operator/toPromise.js","webpack:///./~/rxjs/observable/fromPromise.js","webpack:///./~/@angular/router/router_outlet_map.js","webpack:///./~/@angular/router/directives/router_link_active.js","webpack:///./~/@angular/router/directives/router_outlet.js","webpack:///./~/@angular/router/router_providers.js","webpack:///./~/@angular/router/common_router_providers.js","webpack:///./app/actions/index.ts","webpack:///./app/actions/environment.actions.ts","webpack:///./app/actions/app.actions.ts","webpack:///./app/actions/project.actions.ts","webpack:///./app/actions/task.actions.ts","webpack:///./app/actions/reference.actions.ts","webpack:///./app/actions/staff.actions.ts","webpack:///./app/services/index.ts","webpack:///./app/services/app.service.ts","webpack:///./app/utils/utils.ts","webpack:///./app/services/translate.service.ts","webpack:///./app/services/project.service.ts","webpack:///./app/models/index.ts","webpack:///./app/models/user.ts","webpack:///./app/models/organization.ts","webpack:///./app/models/attachment.ts","webpack:///./app/models/project.ts","webpack:///./app/models/task.ts","webpack:///./app/models/tag.ts","webpack:///./app/models/task-type.ts","webpack:///./app/models/comment.ts","webpack:///./app/models/request.ts","webpack:///./app/models/request-type.ts","webpack:///./app/services/task.service.ts","webpack:///./app/services/reference.service.ts","webpack:///./app/services/staff.service.ts","webpack:///./app/services/upload.service.ts","webpack:///./app/shared/dropdown/index.ts","webpack:///./app/shared/dropdown/dropdown.component.ts","webpack:///./app/shared/dropdown/dropdown-toggle.component.ts","webpack:///./app/components/navbar/navbar.ts","webpack:///./app/components/navbar/navbar.html","webpack:///./app/components/nav/nav.ts","webpack:///./app/components/nav/nav.html","webpack:///./app/components/application/app.html","webpack:///./app/app.routes.ts","webpack:///./app/auth.guard.ts","webpack:///./app/redirect.guard.ts","webpack:///./app/components/dashboard/dashboard.ts","webpack:///./app/components/shared/project-input.ts","webpack:///./app/components/project/projects.ts","webpack:///./app/pipes/index.ts","webpack:///./app/pipes/date-format.pipe.ts","webpack:///./app/pipes/text-transform.pipe.ts","webpack:///./app/pipes/values.pipe.ts","webpack:///./app/pipes/keys.pipe.ts","webpack:///./app/pipes/localizedName.pipe.ts","webpack:///./app/shared/pagination/index.ts","webpack:///./app/shared/pagination/pagination.ts","webpack:///./app/components/project/project-list.ts","webpack:///./app/components/shared/index.ts","webpack:///./app/components/shared/organization-input.ts","webpack:///./app/components/shared/request-type-input.ts","webpack:///./app/components/shared/tags-input.ts","webpack:///./app/components/shared/task-type-input.ts","webpack:///./app/components/shared/user-input.ts","webpack:///./app/components/project/templates/project-list.html","webpack:///./app/components/project/templates/projects.html","webpack:///./app/components/project/project.ts","webpack:///./app/shared/datepicker/datepicker.ts","webpack:///./app/shared/switch-button/index.ts","webpack:///./app/shared/switch-button/switch-button.ts","webpack:///./app/components/attachment/attachments.ts","webpack:///./app/components/project/templates/project.html","webpack:///./app/components/task/tasks.ts","webpack:///./app/components/task/task-filter.ts","webpack:///./app/components/task/task-list.ts","webpack:///./app/components/task/task-stream.ts","webpack:///./app/components/task/templates/task-stream.html","webpack:///./app/components/task/templates/task-list.html","webpack:///./app/components/task/templates/tasks.html","webpack:///./app/components/task/task.ts","webpack:///./app/shared/tabs/index.ts","webpack:///./app/shared/tabs/tabs.ts","webpack:///./app/shared/tabs/tab.ts","webpack:///./app/components/request/request-list.ts","webpack:///./app/components/request/request.ts","webpack:///./app/components/comment/comments.ts","webpack:///./app/components/comment/comment.ts","webpack:///./app/components/task/templates/task.html","webpack:///./app/components/user-profile/user-profile.ts","webpack:///./app/components/user-profile/user-profile.html","webpack:///./app/components/login.ts","webpack:///./app/store/index.ts","webpack:///./app/store/store.ts","webpack:///./~/@ngrx/core/compose.js","webpack:///./~/ngrx-store-logger/dist/index.js","webpack:///./app/reducers/environment.reducer.ts","webpack:///./app/reducers/authed.reducer.ts","webpack:///./app/reducers/projects.reducer.ts","webpack:///./app/reducers/tasks.reducer.ts","webpack:///./app/reducers/task.reducer.ts","webpack:///./app/reducers/staff.reducer.ts","webpack:///./app/reducers/reference.reducer.ts"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,2kE;;;;;;AC7B3C;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL,4DAA2D,+BAA+B;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,iFAAiF;AAClJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,2BAA2B;AACrD;AACA;AACA;AACA,EAAC;AACD;AACA,4CAA2C,uhM;;;;;;ACpF3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD,wEAAwE;AAC9H;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,yEAAyE;AAChI;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,gCAAgC,EAAE;AAC5D;AACA;AACA,MAAK;AACL;AACA,2BAA0B,+CAA+C,EAAE;AAC3E;AACA;AACA,MAAK;AACL;AACA,2BAA0B,0BAA0B,EAAE;AACtD;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,6CAA4C,yCAAyC;AACrF;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,aAAa;AAC7C;AACA;AACA,qDAAoD,0CAA0C;AAC9F,iDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA,qDAAoD,qDAAqD,EAAE;AAC3G;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,uCAAsC,wBAAwB,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,6DAA4D,sEAAsE,EAAE;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,uCAAsC,wBAAwB,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,uCAAsC,wBAAwB,EAAE;AAChE;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,6DAA4D,mEAAmE,EAAE;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,2DAA2D;AACxE,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,+CAA+C,EAAE;AAC3H;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,+w6C;;;;;;AC5Z3C;AACA;AACA;AACA;AACA,iC;;;;;;;;;ACJA;AACA;AACA;AACA;AACA,mC;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,UAAS;AACT,UAAS;AACT;AACA,YAAW,WAAW;AACtB;AACA,YAAW,UAAU;AACrB;AACA,aAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,UAAS;AACT,UAAS;AACT;AACA,YAAW,WAAW;AACtB,YAAW,WAAW;AACtB;AACA,YAAW,UAAU;AACrB;AACA,aAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;AC3GA;AACA;AACA;AACA;AACA,sC;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,gBAAgB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,UAAS;AACT,UAAS;AACT,UAAS;AACT,UAAS;AACT,UAAS;AACT;AACA,YAAW,+CAA+C;AAC1D;AACA;AACA,YAAW,oFAAoF;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,WAAW;AACvB;AACA;AACA,aAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;AC9DA;AACA;AACA;AACA;AACA,kC;;;;;;ACJA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,IAAI;AACf,aAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,kC;;;;;;ACnEA;AACA;AACA;AACA;AACA,qC;;;;;;ACJA;AACA;AACA;AACA;AACA,iC;;;;;;ACJA;AACA;AACA;AACA,iC;;;;;;ACHA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,0CAA0C,EAAE;AAC7E;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,cAAa;AACb,cAAa;AACb,cAAa;AACb;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA,gBAAe,+BAA+B;AAC9C;AACA;AACA,gBAAe,IAAI;AACnB;AACA,gBAAe,UAAU;AACzB;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,2C;;;;;;ACnIA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,8BAA6B,SAAS;AACtC,8BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA;AACA,oEAAmE,eAAe;AAClF;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,8BAA6B,SAAS;AACtC,8BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA,mEAAkE,aAAa;AAC/E;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+C;;;;;;AChMA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,4BAA2B,0CAA0C;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,gD;;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,gBAAgB;AACjD;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF,qEAAqE;AACrJ;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,gEAA+D,qBAAqB,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kDAAkD,EAAE;AAC9H;AACA;AACA,wCAAuC,sBAAsB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE;AACjE;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,6DAA6D;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC,uCAAsC,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD,wBAAwB,EAAE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD;AACxD;AACA;AACA,4CAA2C,uupB;;;;;;AC9L3C;AACA;AACA,4CAA2C,ue;;;;;;ACF3C;AACA;AACA;AACA;AACA;AACA,6CAA4C,KAAK;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,oEAAoE;AAClH;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD,yBAAyB,EAAE;AACnF;AACA,kDAAiD,8CAA8C;AAC/F;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD,6CAA6C;AACrG;AACA,EAAC;AACD;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,4CAA2C,mib;;;;;;AChJ3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,sDAAqD,yBAAyB,EAAE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,WAAW,8BAA8B,EAAE;AACtF;AACA;AACA,gDAA+C,mCAAmC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,uCAAuC;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE;AAClE,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,4CAA2C,uzwB;;;;;;ACtQ3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,eAAe,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,m8J;;;;;;AC9D3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,2hF;;;;;;ACnB3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,sBAAsB,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA,gEAA+D,2DAA2D,EAAE;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,+xK;;;;;;ACzC3C;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,4C;;;;;;ACrDA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,iCAAiC;AACnF;AACA,EAAC;AACD;AACA;AACA;AACA,kGAAiG;AACjG,+DAA8D;AAC9D,oEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,qBAAqB,EAAE;AACpE;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,kCAAkC;AAC5F;AACA,EAAC;AACD;AACA;AACA,2CAA0C,sDAAsD;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,muY;;;;;;ACpG3C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,yBAAyB,EAAE;AACrD;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD,gBAAgB,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D,gBAAgB,EAAE;AAC7E,wCAAuC,iBAAiB,EAAE;AAC1D;AACA,iDAAgD,sDAAsD,gBAAgB,EAAE,EAAE;AAC1H,gDAA+C,yCAAyC;AACxF;AACA,EAAC;AACD;AACA;AACA;AACA;AACA,sCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,0CAA0C,EAAE;AACnG;AACA,qBAAoB;AACpB;AACA,qBAAoB;AACpB;AACA,4CAA2C,gBAAgB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,uCAAuC;AACtF;AACA,EAAC;AACD;AACA,4CAA2C,m7N;;;;;;ACpF3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE;AAChE;AACA;AACA;AACA,+CAA8C;AAC9C;AACA;AACA;AACA,mDAAkD,wBAAwB,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA,4CAA2C,m+uB;;;;;;AC1N3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,gBAAgB;AACjD;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,oEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,gEAA+D,qBAAqB,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA2F,mDAAmD,EAAE;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,wCAAuC,sBAAsB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gDAAgD;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE,qBAAqB,EAAE;AACzF,mDAAkD,qBAAqB,EAAE;AACzE;AACA;AACA;AACA,MAAK;AACL;AACA,4CAA2C,u3hB;;;;;;AC9I3C;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,cAAc,EAAE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,iDAAgD,6CAA6C,EAAE;AAC/F,yDAAwD;AACxD;AACA;AACA,UAAS,EAAE,EAAE;AACb;AACA;AACA,4CAA2C,mrG;;;;;;ACxB3C;AACA;AACA;AACA;AACA,sC;;;;;;;;ACJA;AACA;AACA;AACA,wC;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,yEAAwE,8BAA8B;AACtG;AACA,EAAC;AACD;AACA,4CAA2C,+0B;;;;;;ACT3C;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,oDAAmD,uBAAuB,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL,kEAAiE,eAAe;AAChF,2DAA0D,iCAAiC;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4CAA2C,iFAAiF,EAAE;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,iCAAiC;AAC3D;AACA;AACA;AACA,EAAC;AACD;AACA,4CAA2C,2qK;;;;;;AC7E3C;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,yBAAyB,EAAE;AACrD;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,4BAA4B;AACtD;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,4CAA2C,+nI;;;;;;AChE3C;AACA;AACA;AAC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","file":"app.js","sourcesContent":["import { bootstrap } from '@angular/platform-browser-dynamic';\r\nimport { provide, enableProdMode } from '@angular/core';\r\nimport { HTTP_PROVIDERS } from '@angular/http';\r\nimport { LocationStrategy, HashLocationStrategy } from '@angular/common';\r\n\r\nimport { TRANSLATE_PROVIDERS, TranslateService, TranslateLoader } from 'ng2-translate/ng2-translate';\r\nimport { Observable } from 'rxjs/Observable'\r\n\r\nimport { NotificationService } from './shared/notification';\r\nimport { MarkdownConverter } from './shared/markdown';\r\nimport { AppComponent } from './components/application/app';\r\nimport { APP_ROUTER_PROVIDERS } from './app.routes';\r\nimport { TranslateService as translateService } from './services/translate.service';\r\nimport { APP_SERVICES } from './services';\r\nimport { APP_STORE } from './store';\r\nimport { APP_STORE_ACTIONS } from './actions';\r\n\r\nif (webpack.ENV === 'production') {\r\n    enableProdMode();\r\n}\r\n\r\nbootstrap(AppComponent, [\r\n    HTTP_PROVIDERS,\r\n    APP_ROUTER_PROVIDERS,\r\n    provide(LocationStrategy, { useClass: HashLocationStrategy }),\r\n    TranslateService,\r\n    TRANSLATE_PROVIDERS,\r\n    provide(TranslateLoader, {\r\n        useFactory: (trs: translateService) => new CustomTranslateLoader(trs),\r\n        deps: [translateService]\r\n    }),\r\n    NotificationService,\r\n    MarkdownConverter,\r\n    APP_SERVICES,\r\n    APP_STORE,\r\n    APP_STORE_ACTIONS\r\n]).catch(err => console.error(err));\r\n\r\n//\r\nclass CustomTranslateLoader implements TranslateLoader {\r\n    constructor(private translateService: translateService) { }\r\n\r\n    public getTranslation(lang: string): Observable<any> {\r\n        return this.translateService.fetchTranslations();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/main.browser.ts\n **/","export * from './notification.service';\r\nexport * from './notification.component';\r\nexport * from './notification';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/notification/index.ts\n **/","import { Injectable, EventEmitter, Output } from '@angular/core';\r\n\r\nimport { Notification } from './notification';\r\n\r\n@Injectable()\r\nexport class NotificationService {\r\n    private emitter: EventEmitter<any> = new EventEmitter();\r\n\r\n    public getEmitter() {\r\n        return this.emitter;\r\n    }\r\n\r\n    info(message) {\r\n        return this.add({ type: 'info', message: message });\r\n    }\r\n\r\n    success(message) {\r\n        return this.add({ type: 'success', message: message });\r\n    }\r\n\r\n    error(message) {\r\n        return this.add({ type: 'error', message: message });\r\n    }\r\n\r\n    process(message) {\r\n        return this.add({ type: 'process', message: message });\r\n    }\r\n\r\n    add(options): Notification {\r\n        let noty = new Notification(options.type, options.message);\r\n        this.emitter.emit({ command: 'add', notify: noty });\r\n        return noty;\r\n    }\r\n\r\n    removeAll() {\r\n        this.emitter.emit({ command: 'cleanAll' });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/notification/notification.service.ts\n **/","import { EventEmitter } from '@angular/core';\r\n\r\nexport class Notification {\r\n    private emitter: EventEmitter<any> = new EventEmitter();\r\n\r\n    private type: string;\r\n    private message: string;\r\n    private display = false;\r\n    private delay;\r\n    private promise;\r\n\r\n    constructor(type: string, message: string) {\r\n        this.type = type;\r\n        this.message = message;\r\n    }\r\n\r\n    public getEmitter() {\r\n        return this.emitter;\r\n    }\r\n\r\n    show() {\r\n        this.display = true;\r\n        return this;\r\n    }\r\n\r\n    hide() {\r\n        this.display = false;\r\n        return this;\r\n    }\r\n\r\n    set(options) {\r\n        for (var key in options) {\r\n            if (key === 'message') {\r\n                this.message = options[key];\r\n            } else if (key === 'type') {\r\n                this.type = options[key];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    private dismiss() {\r\n        if (this.delay === 'click') {\r\n            this.emitter.emit({ dismiss: true, notify: this, promise: this.promise });\r\n        }\r\n    }\r\n\r\n    remove(delay: any = 0) {\r\n        this.delay = delay;\r\n\r\n        if (delay === 'click') {\r\n            // resolve on dismiss\r\n        } else if (delay > 0) {\r\n            setTimeout(() => {\r\n                this.emitter.emit({ dismiss: true, notify: this, promise: this.promise });\r\n            }, delay);\r\n        } else {\r\n            this.emitter.emit({ dismiss: true, notify: this, promise: this.promise });\r\n        }\r\n\r\n        return this.promise;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/notification/notification.ts\n **/","import { Component, OnInit, OnDestroy, HostBinding } from '@angular/core';\r\n\r\nimport { NotificationService } from './notification.service';\r\nimport { Notification } from './notification';\r\n\r\n@Component({\r\n    selector: 'notification',\r\n    template: `\r\n        <div class=\"nb-notify-entry-{{notify.type}}\"\r\n            [class.dismiss-click]=\"notify.delay == 'click'\"\r\n            [style.display]=\"notify.display ? 'block': 'none'\"\r\n            (click)=\"notify.dismiss()\"\r\n            *ngFor=\"let notify of notifications\">\r\n            {{notify.message}}\r\n        </div>\r\n    `\r\n})\r\n\r\nexport class NotificationComponent implements OnInit {\r\n    @HostBinding('class.nb-notify') true;\r\n    @HostBinding('class.hidden') get isHidden() { return this.notifications.length == 0; };\r\n\r\n    public notifications: Notification[] = [];\r\n    private listener: any;\r\n\r\n    constructor(private notifyService: NotificationService) { }\r\n\r\n    ngOnInit() {\r\n        this.listener = this.notifyService.getEmitter().subscribe(item => {\r\n            switch (item.command) {\r\n                case 'cleanAll':\r\n                    this.notifications = [];\r\n                    break;\r\n                case 'add':\r\n                    this.addNotify(item.notify);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.listener) {\r\n            this.notifications.map(it => it.getEmitter().unsubscribe());\r\n            this.listener.unsubscribe();\r\n        }\r\n    }\r\n\r\n    addNotify(notify: Notification) {\r\n        this.notifications.push(notify);\r\n        notify.getEmitter().subscribe(item => this.notifyEmitter(item));\r\n    }\r\n\r\n    notifyEmitter(data) {\r\n        if (data.dismiss) {\r\n            let index = this.notifications.indexOf(data.notify);\r\n            this.notifications.splice(index, 1);\r\n            data.notify.getEmitter().unsubscribe();\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/notification/notification.component.ts\n **/","export { MarkdownConverter } from './markdown-converter';\r\nexport { MarkdownEditorComponent } from './markdown-editor';\r\nexport { MarkedPipe } from './marked.pipe';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/markdown/index.ts\n **/","import { Injectable } from '@angular/core';\r\n\r\nconst marked = require('marked');\r\nconst toMarkdown = require('to-markdown');\r\n\r\n@Injectable()\r\nexport class MarkdownConverter {\r\n\r\n    toMarkdown(html) {\r\n        return toMarkdown(html, { gfm: true });\r\n    }\r\n\r\n    toHtml(markdown) {\r\n        return marked(markdown);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/markdown/markdown-converter.ts\n **/","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { MarkdownConverter } from './markdown-converter';\r\n\r\n@Component({\r\n    selector: 'markdown-editor',\r\n    template: `\r\n        <div class=\"rt-editor {{klass}}\" [class.edit]=\"editable\">\r\n            <div class=\"rt-editor__placeholder\" *ngIf=\"placeHolder && !hasValue\">{{placeHolder}}</div>\r\n            <div class=\"rt-editor__area\"\r\n                [contentEditable]=\"editable\"\r\n                (keyup)=\"updateValue($event.target)\"\r\n                (focus)=\"focus.emit($event)\"\r\n                (blur)=\"blur.emit($event)\"\r\n                innerHTML=\"{{html}}\">\r\n            </div>\r\n        </div>\r\n    `\r\n})\r\n\r\nexport class MarkdownEditorComponent {\r\n    @Input() editable: boolean = true;\r\n    @Input() markdown: string = '';\r\n    @Input() klass: string = '';\r\n    @Input() placeHolder: string;\r\n    @Input() updateTimeout: number = 150;\r\n\r\n    @Output() update = new EventEmitter<any>();\r\n    @Output() focus = new EventEmitter<any>();\r\n    @Output() blur = new EventEmitter<any>();\r\n\r\n    private hasValue: boolean = false;\r\n    private html: string;\r\n    private to: any;\r\n\r\n    constructor(private mdc: MarkdownConverter) { }\r\n\r\n    ngOnInit() {\r\n        this.html = this.mdc.toHtml(this.markdown);\r\n        this.hasValue = this.markdown.length > 0;\r\n    }\r\n\r\n    updateValue($el) {\r\n        this.hasValue = $el.innerText.trim().length > 0;\r\n        clearTimeout(this.to);\r\n        this.to = setTimeout(() => {\r\n            this.update.emit(this.mdc.toMarkdown($el.innerHTML));\r\n        }, this.updateTimeout);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/markdown/markdown-editor.ts\n **/","import { Pipe } from '@angular/core';\r\nimport { MarkdownConverter } from './markdown-converter';\r\n\r\n@Pipe({ name: 'marked' })\r\nexport class MarkedPipe {\r\n    constructor(private mdc: MarkdownConverter) { }\r\n\r\n    transform(text: string): string {\r\n        return this.mdc.toHtml(text);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/markdown/marked.pipe.ts\n **/","import { Component, HostBinding, HostListener, OnInit, OnDestroy } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES }  from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe, TranslateService } from 'ng2-translate/ng2-translate';\r\n\r\nimport { EnvironmentActions, AppActions, ReferenceActions, StaffActions } from '../../actions';\r\nimport { AppService, ReferenceService, StaffService } from '../../services';\r\nimport { IEnvironmentState } from '../../reducers/environment.reducer';\r\nimport { IAuthedState } from '../../reducers/authed.reducer';\r\nimport { NotificationService, NotificationComponent } from '../../shared/notification';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { NavbarComponent } from '../navbar/navbar';\r\nimport { NavComponent } from '../nav/nav';\r\nimport { Tag, User } from '../../models';\r\n\r\n@Component({\r\n    selector: 'app',\r\n    template: require('./app.html'),\r\n    directives: [ROUTER_DIRECTIVES, DROPDOWN_DIRECTIVES, NotificationComponent, NavbarComponent, NavComponent],\r\n    providers: [NotificationService],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class AppComponent {\r\n    private subs: any = [];\r\n    isReady: boolean = false;\r\n    loggedUser: User = new User();\r\n    language: any;\r\n    HEADER_TITLE: string = 'Projects';\r\n    isNavCollapsed: boolean = false;\r\n    isSearchOpen: boolean = false;\r\n    isMobileDevice: boolean = false;\r\n\r\n    @HostListener('window:resize', ['$event.target']) resize(window) { this.onResize(window); };\r\n    @HostBinding('class.phone') get device() { return this.isMobileDevice; };\r\n    @HostBinding('class.side-nav-toggle') get toggleNavVisible() { return this.isNavCollapsed; };\r\n    @HostBinding('class.search-open') get toggleSearch() { return this.isSearchOpen; };\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private appActions: AppActions,\r\n        private referenceActions: ReferenceActions,\r\n        private staffActions: StaffActions,\r\n        private appService: AppService,\r\n        private referenceService: ReferenceService,\r\n        private staffService: StaffService,\r\n        public translate: TranslateService\r\n    ) {\r\n        this.subs.push(this.store.select('authed').subscribe((data: IAuthedState) => {\r\n            this.loggedUser = data.userProfile;\r\n        }));\r\n\r\n        this.subs.push(this.store.select('reference'));\r\n\r\n        this.subs.push(this.store.select('environment').subscribe((state: IEnvironmentState) => {\r\n            this.isSearchOpen = state.isSearchOpen;\r\n            this.isNavCollapsed = !state.isNavOpen;\r\n        }));\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.fetchUserProfile().subscribe(data => {\r\n            this.store.dispatch(this.appActions.fetchUserProfileFulfilled(data));\r\n            this.isReady = true;\r\n        });\r\n\r\n        this.referenceService.fetchTags().subscribe(payload => {\r\n            this.store.dispatch(this.referenceActions.fetchTags(payload.tags));\r\n        });\r\n\r\n        this.referenceService.fetchTaskTypes().subscribe(payload => {\r\n            this.store.dispatch(this.referenceActions.fetchTaskTypes(payload.taskTypes));\r\n        });\r\n\r\n        this.referenceService.fetchRequestTypes().subscribe(payload => {\r\n            this.store.dispatch(this.referenceActions.fetchRequestTypes(payload.requestTypes));\r\n        });\r\n\r\n        this.staffService.fetchOrganizations().subscribe(payload => {\r\n            this.store.dispatch(this.staffActions.fetchOrganizations(payload.organizations));\r\n        });\r\n\r\n        this.staffService.fetchUsers().subscribe(payload => {\r\n            this.store.dispatch(this.staffActions.fetchUsers(payload.users));\r\n        });\r\n\r\n        this.isMobileDevice = this.isMobile();\r\n\r\n        // ng2-translate\r\n        var userLang = navigator.language.split('-')[0]; // use navigator lang if available\r\n        userLang = /(ru|en)/gi.test(userLang) ? userLang : 'en';\r\n        // this language will be used as a fallback when a translation isn't found in the current language\r\n        this.translate.setDefaultLang('en');\r\n        // the lang to use, if the lang isn't available, it will use the current loader to get them\r\n        this.translate.use('en'); // userLang\r\n\r\n        this.translate.get('brand').subscribe(value => this.HEADER_TITLE = value);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subs.map(s => s.unsubscribe());\r\n    }\r\n\r\n    hideNav(event) {\r\n        this.store.dispatch({ type: EnvironmentActions.HIDE_NAV });\r\n        event.preventDefault();\r\n    }\r\n\r\n    isMobile() {\r\n        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n    }\r\n\r\n    onResize(window) {\r\n        this.isMobileDevice = window.innerWidth <= 1024 || this.isMobile();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/application/app.ts\n **/","\"use strict\";\nvar router_link_1 = require('./directives/router_link');\nvar router_link_active_1 = require('./directives/router_link_active');\nvar router_outlet_1 = require('./directives/router_outlet');\nvar router_1 = require('./router');\nexports.NavigationCancel = router_1.NavigationCancel;\nexports.NavigationEnd = router_1.NavigationEnd;\nexports.NavigationError = router_1.NavigationError;\nexports.NavigationStart = router_1.NavigationStart;\nexports.Router = router_1.Router;\nexports.RoutesRecognized = router_1.RoutesRecognized;\nvar router_outlet_map_1 = require('./router_outlet_map');\nexports.RouterOutletMap = router_outlet_map_1.RouterOutletMap;\nvar router_providers_1 = require('./router_providers');\nexports.provideRouter = router_providers_1.provideRouter;\nvar router_state_1 = require('./router_state');\nexports.ActivatedRoute = router_state_1.ActivatedRoute;\nexports.ActivatedRouteSnapshot = router_state_1.ActivatedRouteSnapshot;\nexports.RouterState = router_state_1.RouterState;\nexports.RouterStateSnapshot = router_state_1.RouterStateSnapshot;\nvar shared_1 = require('./shared');\nexports.PRIMARY_OUTLET = shared_1.PRIMARY_OUTLET;\nvar url_serializer_1 = require('./url_serializer');\nexports.DefaultUrlSerializer = url_serializer_1.DefaultUrlSerializer;\nexports.UrlSerializer = url_serializer_1.UrlSerializer;\nvar url_tree_1 = require('./url_tree');\nexports.UrlPathWithParams = url_tree_1.UrlPathWithParams;\nexports.UrlTree = url_tree_1.UrlTree;\nexports.ROUTER_DIRECTIVES = [router_outlet_1.RouterOutlet, router_link_1.RouterLink, router_link_active_1.RouterLinkActive];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDRCQUF5QiwwQkFBMEIsQ0FBQyxDQUFBO0FBQ3BELG1DQUErQixpQ0FBaUMsQ0FBQyxDQUFBO0FBQ2pFLDhCQUEyQiw0QkFBNEIsQ0FBQyxDQUFBO0FBS3hELHVCQUFpSCxVQUFVLENBQUM7QUFBN0cscURBQWdCO0FBQUUsK0NBQWE7QUFBRSxtREFBZTtBQUFFLG1EQUFlO0FBQUUsaUNBQU07QUFBRSxxREFBa0M7QUFDNUgsa0NBQThCLHFCQUFxQixDQUFDO0FBQTVDLDhEQUE0QztBQUNwRCxpQ0FBNEIsb0JBQW9CLENBQUM7QUFBekMseURBQXlDO0FBQ2pELDZCQUF1RixnQkFBZ0IsQ0FBQztBQUFoRyx1REFBYztBQUFFLHVFQUFzQjtBQUFFLGlEQUFXO0FBQUUsaUVBQTJDO0FBQ3hHLHVCQUFxQyxVQUFVLENBQUM7QUFBeEMsaURBQXdDO0FBQ2hELCtCQUFrRCxrQkFBa0IsQ0FBQztBQUE3RCxxRUFBb0I7QUFBRSx1REFBdUM7QUFDckUseUJBQXlDLFlBQVksQ0FBQztBQUE5Qyx5REFBaUI7QUFBRSxxQ0FBMkI7QUFFekMseUJBQWlCLEdBQUcsQ0FBQyw0QkFBWSxFQUFFLHdCQUFVLEVBQUUscUNBQWdCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Um91dGVyTGlua30gZnJvbSAnLi9kaXJlY3RpdmVzL3JvdXRlcl9saW5rJztcbmltcG9ydCB7Um91dGVyTGlua0FjdGl2ZX0gZnJvbSAnLi9kaXJlY3RpdmVzL3JvdXRlcl9saW5rX2FjdGl2ZSc7XG5pbXBvcnQge1JvdXRlck91dGxldH0gZnJvbSAnLi9kaXJlY3RpdmVzL3JvdXRlcl9vdXRsZXQnO1xuXG5leHBvcnQge0V4dHJhT3B0aW9uc30gZnJvbSAnLi9jb21tb25fcm91dGVyX3Byb3ZpZGVycyc7XG5leHBvcnQge1JvdXRlLCBSb3V0ZXJDb25maWd9IGZyb20gJy4vY29uZmlnJztcbmV4cG9ydCB7Q2FuQWN0aXZhdGUsIENhbkRlYWN0aXZhdGV9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5leHBvcnQge0V2ZW50LCBOYXZpZ2F0aW9uQ2FuY2VsLCBOYXZpZ2F0aW9uRW5kLCBOYXZpZ2F0aW9uRXJyb3IsIE5hdmlnYXRpb25TdGFydCwgUm91dGVyLCBSb3V0ZXNSZWNvZ25pemVkfSBmcm9tICcuL3JvdXRlcic7XG5leHBvcnQge1JvdXRlck91dGxldE1hcH0gZnJvbSAnLi9yb3V0ZXJfb3V0bGV0X21hcCc7XG5leHBvcnQge3Byb3ZpZGVSb3V0ZXJ9IGZyb20gJy4vcm91dGVyX3Byb3ZpZGVycyc7XG5leHBvcnQge0FjdGl2YXRlZFJvdXRlLCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBSb3V0ZXJTdGF0ZSwgUm91dGVyU3RhdGVTbmFwc2hvdH0gZnJvbSAnLi9yb3V0ZXJfc3RhdGUnO1xuZXhwb3J0IHtQUklNQVJZX09VVExFVCwgUGFyYW1zfSBmcm9tICcuL3NoYXJlZCc7XG5leHBvcnQge0RlZmF1bHRVcmxTZXJpYWxpemVyLCBVcmxTZXJpYWxpemVyfSBmcm9tICcuL3VybF9zZXJpYWxpemVyJztcbmV4cG9ydCB7VXJsUGF0aFdpdGhQYXJhbXMsIFVybFRyZWV9IGZyb20gJy4vdXJsX3RyZWUnO1xuXG5leHBvcnQgY29uc3QgUk9VVEVSX0RJUkVDVElWRVMgPSBbUm91dGVyT3V0bGV0LCBSb3V0ZXJMaW5rLCBSb3V0ZXJMaW5rQWN0aXZlXTsiXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/index.js\n ** module id = 394\n ** module chunks = 0\n **/","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar common_1 = require('@angular/common');\nvar core_1 = require('@angular/core');\nvar router_1 = require('../router');\nvar router_state_1 = require('../router_state');\nvar RouterLink = (function () {\n    function RouterLink(router, route, locationStrategy) {\n        this.router = router;\n        this.route = route;\n        this.locationStrategy = locationStrategy;\n        this.commands = [];\n    }\n    Object.defineProperty(RouterLink.prototype, \"routerLink\", {\n        set: function (data) {\n            if (Array.isArray(data)) {\n                this.commands = data;\n            }\n            else {\n                this.commands = [data];\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RouterLink.prototype.ngOnChanges = function (changes) { this.updateTargetUrlAndHref(); };\n    RouterLink.prototype.onClick = function (button, ctrlKey, metaKey) {\n        if (button !== 0 || ctrlKey || metaKey) {\n            return true;\n        }\n        if (typeof this.target === 'string' && this.target != '_self') {\n            return true;\n        }\n        this.router.navigateByUrl(this.urlTree);\n        return false;\n    };\n    RouterLink.prototype.updateTargetUrlAndHref = function () {\n        this.urlTree = this.router.createUrlTree(this.commands, { relativeTo: this.route, queryParams: this.queryParams, fragment: this.fragment });\n        if (this.urlTree) {\n            this.href = this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree));\n        }\n    };\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', String)\n    ], RouterLink.prototype, \"target\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], RouterLink.prototype, \"queryParams\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', String)\n    ], RouterLink.prototype, \"fragment\", void 0);\n    __decorate([\n        core_1.HostBinding(), \n        __metadata('design:type', String)\n    ], RouterLink.prototype, \"href\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object), \n        __metadata('design:paramtypes', [Object])\n    ], RouterLink.prototype, \"routerLink\", null);\n    __decorate([\n        core_1.HostListener('click', ['$event.button', '$event.ctrlKey', '$event.metaKey']), \n        __metadata('design:type', Function), \n        __metadata('design:paramtypes', [Number, Boolean, Boolean]), \n        __metadata('design:returntype', Boolean)\n    ], RouterLink.prototype, \"onClick\", null);\n    RouterLink = __decorate([\n        core_1.Directive({ selector: '[routerLink]' }), \n        __metadata('design:paramtypes', [router_1.Router, router_state_1.ActivatedRoute, common_1.LocationStrategy])\n    ], RouterLink);\n    return RouterLink;\n}());\nexports.RouterLink = RouterLink;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyX2xpbmsuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGlyZWN0aXZlcy9yb3V0ZXJfbGluay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsdUJBQStCLGlCQUFpQixDQUFDLENBQUE7QUFDakQscUJBQXFFLGVBQWUsQ0FBQyxDQUFBO0FBRXJGLHVCQUFxQixXQUFXLENBQUMsQ0FBQTtBQUNqQyw2QkFBNkIsaUJBQWlCLENBQUMsQ0FBQTtBQStCL0M7SUFjRSxvQkFDWSxNQUFjLEVBQVUsS0FBcUIsRUFDN0MsZ0JBQWtDO1FBRGxDLFdBQU0sR0FBTixNQUFNLENBQVE7UUFBVSxVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUM3QyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBZHRDLGFBQVEsR0FBVSxFQUFFLENBQUM7SUFjb0IsQ0FBQztJQUdsRCxzQkFBSSxrQ0FBVTthQUFkLFVBQWUsSUFBa0I7WUFDL0IsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQVEsSUFBSSxDQUFDO1lBQzVCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekIsQ0FBQztRQUNILENBQUM7OztPQUFBO0lBRUQsZ0NBQVcsR0FBWCxVQUFZLE9BQVcsSUFBUyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFHaEUsNEJBQU8sR0FBUCxVQUFRLE1BQWMsRUFBRSxPQUFnQixFQUFFLE9BQWdCO1FBQ3hELEVBQUUsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDdkMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNkLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQztZQUM5RCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUVELElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVPLDJDQUFzQixHQUE5QjtRQUNFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQ3BDLElBQUksQ0FBQyxRQUFRLEVBQ2IsRUFBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDdEYsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDL0YsQ0FBQztJQUNILENBQUM7SUFqREQ7UUFBQyxZQUFLLEVBQUU7OzhDQUFBO0lBRVI7UUFBQyxZQUFLLEVBQUU7O21EQUFBO0lBQ1I7UUFBQyxZQUFLLEVBQUU7O2dEQUFBO0lBR1I7UUFBQyxrQkFBVyxFQUFFOzs0Q0FBQTtJQVdkO1FBQUMsWUFBSyxFQUFFOzs7Z0RBQUE7SUFXUjtRQUFDLG1CQUFZLENBQUMsT0FBTyxFQUFFLENBQUMsZUFBZSxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDLENBQUM7Ozs7NkNBQUE7SUE5Qi9FO1FBQUMsZ0JBQVMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxjQUFjLEVBQUMsQ0FBQzs7a0JBQUE7SUFvRHRDLGlCQUFDO0FBQUQsQ0FBQyxBQW5ERCxJQW1EQztBQW5EWSxrQkFBVSxhQW1EdEIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TG9jYXRpb25TdHJhdGVneX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7RGlyZWN0aXZlLCBIb3N0QmluZGluZywgSG9zdExpc3RlbmVyLCBJbnB1dCwgT25DaGFuZ2VzfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJy4uL3JvdXRlcic7XG5pbXBvcnQge0FjdGl2YXRlZFJvdXRlfSBmcm9tICcuLi9yb3V0ZXJfc3RhdGUnO1xuaW1wb3J0IHtVcmxUcmVlfSBmcm9tICcuLi91cmxfdHJlZSc7XG5cblxuXG4vKipcbiAqIFRoZSBSb3V0ZXJMaW5rIGRpcmVjdGl2ZSBsZXRzIHlvdSBsaW5rIHRvIHNwZWNpZmljIHBhcnRzIG9mIHlvdXIgYXBwLlxuICpcbiAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgcm91dGUgY29uZmlndXJhdGlvbjpcblxuICogYGBgXG4gKiBbeyBwYXRoOiAnL3VzZXInLCBjb21wb25lbnQ6IFVzZXJDbXAgfV1cbiAqIGBgYFxuICpcbiAqIFdoZW4gbGlua2luZyB0byB0aGlzIGBVc2VyYCByb3V0ZSwgeW91IGNhbiB3cml0ZTpcbiAqXG4gKiBgYGBcbiAqIDxhIFtyb3V0ZXJMaW5rXT1cIlsnL3VzZXInXVwiPmxpbmsgdG8gdXNlciBjb21wb25lbnQ8L2E+XG4gKiBgYGBcbiAqXG4gKiBSb3V0ZXJMaW5rIGV4cGVjdHMgdGhlIHZhbHVlIHRvIGJlIGFuIGFycmF5IG9mIHBhdGggc2VnbWVudHMsIGZvbGxvd2VkIGJ5IHRoZSBwYXJhbXNcbiAqIGZvciB0aGF0IGxldmVsIG9mIHJvdXRpbmcuIEZvciBpbnN0YW5jZSBgWycvdGVhbScsIHt0ZWFtSWQ6IDF9LCAndXNlcicsIHt1c2VySWQ6IDJ9XWBcbiAqIG1lYW5zIHRoYXQgd2Ugd2FudCB0byBnZW5lcmF0ZSBhIGxpbmsgdG8gYC90ZWFtO3RlYW1JZD0xL3VzZXI7dXNlcklkPTJgLlxuICpcbiAqIFRoZSBmaXJzdCBzZWdtZW50IG5hbWUgY2FuIGJlIHByZXBlbmRlZCB3aXRoIGAvYCwgYC4vYCwgb3IgYC4uL2AuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgL2AsIHRoZSByb3V0ZXIgd2lsbCBsb29rIHVwIHRoZSByb3V0ZSBmcm9tIHRoZSByb290IG9mIHRoZSBhcHAuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgLi9gLCBvciBkb2Vzbid0IGJlZ2luIHdpdGggYSBzbGFzaCwgdGhlIHJvdXRlciB3aWxsXG4gKiBpbnN0ZWFkIGxvb2sgaW4gdGhlIGN1cnJlbnQgY29tcG9uZW50J3MgY2hpbGRyZW4gZm9yIHRoZSByb3V0ZS5cbiAqIEFuZCBpZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgLi4vYCwgdGhlIHJvdXRlciB3aWxsIGdvIHVwIG9uZSBsZXZlbC5cbiAqL1xuQERpcmVjdGl2ZSh7c2VsZWN0b3I6ICdbcm91dGVyTGlua10nfSlcbmV4cG9ydCBjbGFzcyBSb3V0ZXJMaW5rIGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgQElucHV0KCkgdGFyZ2V0OiBzdHJpbmc7XG4gIHByaXZhdGUgY29tbWFuZHM6IGFueVtdID0gW107XG4gIEBJbnB1dCgpIHF1ZXJ5UGFyYW1zOiB7W2s6IHN0cmluZ106IGFueX07XG4gIEBJbnB1dCgpIGZyYWdtZW50OiBzdHJpbmc7XG5cbiAgLy8gdGhlIHVybCBkaXNwbGF5ZWQgb24gdGhlIGFuY2hvciBlbGVtZW50LlxuICBASG9zdEJpbmRpbmcoKSBocmVmOiBzdHJpbmc7XG5cbiAgdXJsVHJlZTogVXJsVHJlZTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgICAgcHJpdmF0ZSBsb2NhdGlvblN0cmF0ZWd5OiBMb2NhdGlvblN0cmF0ZWd5KSB7fVxuXG4gIEBJbnB1dCgpXG4gIHNldCByb3V0ZXJMaW5rKGRhdGE6IGFueVtdfHN0cmluZykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICB0aGlzLmNvbW1hbmRzID0gPGFueT5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbW1hbmRzID0gW2RhdGFdO1xuICAgIH1cbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHt9KTogYW55IHsgdGhpcy51cGRhdGVUYXJnZXRVcmxBbmRIcmVmKCk7IH1cblxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50LmJ1dHRvbicsICckZXZlbnQuY3RybEtleScsICckZXZlbnQubWV0YUtleSddKVxuICBvbkNsaWNrKGJ1dHRvbjogbnVtYmVyLCBjdHJsS2V5OiBib29sZWFuLCBtZXRhS2V5OiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKGJ1dHRvbiAhPT0gMCB8fCBjdHJsS2V5IHx8IG1ldGFLZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy50YXJnZXQgPT09ICdzdHJpbmcnICYmIHRoaXMudGFyZ2V0ICE9ICdfc2VsZicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodGhpcy51cmxUcmVlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVRhcmdldFVybEFuZEhyZWYoKTogdm9pZCB7XG4gICAgdGhpcy51cmxUcmVlID0gdGhpcy5yb3V0ZXIuY3JlYXRlVXJsVHJlZShcbiAgICAgICAgdGhpcy5jb21tYW5kcyxcbiAgICAgICAge3JlbGF0aXZlVG86IHRoaXMucm91dGUsIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLCBmcmFnbWVudDogdGhpcy5mcmFnbWVudH0pO1xuICAgIGlmICh0aGlzLnVybFRyZWUpIHtcbiAgICAgIHRoaXMuaHJlZiA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5wcmVwYXJlRXh0ZXJuYWxVcmwodGhpcy5yb3V0ZXIuc2VyaWFsaXplVXJsKHRoaXMudXJsVHJlZSkpO1xuICAgIH1cbiAgfVxufVxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/directives/router_link.js\n ** module id = 395\n ** module chunks = 0\n **/","\"use strict\";\nrequire('rxjs/add/operator/map');\nrequire('rxjs/add/operator/scan');\nrequire('rxjs/add/operator/mergeMap');\nrequire('rxjs/add/operator/concat');\nrequire('rxjs/add/operator/concatMap');\nrequire('rxjs/add/operator/every');\nrequire('rxjs/add/operator/mergeAll');\nrequire('rxjs/add/observable/from');\nvar core_1 = require('@angular/core');\nvar Observable_1 = require('rxjs/Observable');\nvar Subject_1 = require('rxjs/Subject');\nvar of_1 = require('rxjs/observable/of');\nvar apply_redirects_1 = require('./apply_redirects');\nvar config_1 = require('./config');\nvar create_router_state_1 = require('./create_router_state');\nvar create_url_tree_1 = require('./create_url_tree');\nvar recognize_1 = require('./recognize');\nvar resolve_1 = require('./resolve');\nvar router_outlet_map_1 = require('./router_outlet_map');\nvar router_state_1 = require('./router_state');\nvar shared_1 = require('./shared');\nvar url_tree_1 = require('./url_tree');\nvar collection_1 = require('./utils/collection');\nvar NavigationStart = (function () {\n    function NavigationStart(id, url) {\n        this.id = id;\n        this.url = url;\n    }\n    NavigationStart.prototype.toString = function () { return \"NavigationStart(id: \" + this.id + \", url: '\" + this.url + \"')\"; };\n    return NavigationStart;\n}());\nexports.NavigationStart = NavigationStart;\nvar NavigationEnd = (function () {\n    function NavigationEnd(id, url, urlAfterRedirects) {\n        this.id = id;\n        this.url = url;\n        this.urlAfterRedirects = urlAfterRedirects;\n    }\n    NavigationEnd.prototype.toString = function () {\n        return \"NavigationEnd(id: \" + this.id + \", url: '\" + this.url + \"', urlAfterRedirects: '\" + this.urlAfterRedirects + \"')\";\n    };\n    return NavigationEnd;\n}());\nexports.NavigationEnd = NavigationEnd;\nvar NavigationCancel = (function () {\n    function NavigationCancel(id, url) {\n        this.id = id;\n        this.url = url;\n    }\n    NavigationCancel.prototype.toString = function () { return \"NavigationCancel(id: \" + this.id + \", url: '\" + this.url + \"')\"; };\n    return NavigationCancel;\n}());\nexports.NavigationCancel = NavigationCancel;\nvar NavigationError = (function () {\n    function NavigationError(id, url, error) {\n        this.id = id;\n        this.url = url;\n        this.error = error;\n    }\n    NavigationError.prototype.toString = function () {\n        return \"NavigationError(id: \" + this.id + \", url: '\" + this.url + \"', error: \" + this.error + \")\";\n    };\n    return NavigationError;\n}());\nexports.NavigationError = NavigationError;\nvar RoutesRecognized = (function () {\n    function RoutesRecognized(id, url, urlAfterRedirects, state) {\n        this.id = id;\n        this.url = url;\n        this.urlAfterRedirects = urlAfterRedirects;\n        this.state = state;\n    }\n    RoutesRecognized.prototype.toString = function () {\n        return \"RoutesRecognized(id: \" + this.id + \", url: '\" + this.url + \"', urlAfterRedirects: '\" + this.urlAfterRedirects + \"', state: \" + this.state + \")\";\n    };\n    return RoutesRecognized;\n}());\nexports.RoutesRecognized = RoutesRecognized;\nvar Router = (function () {\n    function Router(rootComponentType, resolver, urlSerializer, outletMap, location, injector, config) {\n        this.rootComponentType = rootComponentType;\n        this.resolver = resolver;\n        this.urlSerializer = urlSerializer;\n        this.outletMap = outletMap;\n        this.location = location;\n        this.injector = injector;\n        this.navigationId = 0;\n        this.resetConfig(config);\n        this.routerEvents = new Subject_1.Subject();\n        this.currentUrlTree = url_tree_1.createEmptyUrlTree();\n        this.currentRouterState = router_state_1.createEmptyState(this.currentUrlTree, this.rootComponentType);\n    }\n    Router.prototype.initialNavigation = function () {\n        this.setUpLocationChangeListener();\n        this.navigateByUrl(this.location.path());\n    };\n    Object.defineProperty(Router.prototype, \"routerState\", {\n        get: function () { return this.currentRouterState; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"url\", {\n        get: function () { return this.serializeUrl(this.currentUrlTree); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"events\", {\n        get: function () { return this.routerEvents; },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.resetConfig = function (config) {\n        config_1.validateConfig(config);\n        this.config = config;\n    };\n    Router.prototype.dispose = function () { this.locationSubscription.unsubscribe(); };\n    Router.prototype.createUrlTree = function (commands, _a) {\n        var _b = _a === void 0 ? {} : _a, relativeTo = _b.relativeTo, queryParams = _b.queryParams, fragment = _b.fragment;\n        var a = relativeTo ? relativeTo : this.routerState.root;\n        return create_url_tree_1.createUrlTree(a, this.currentUrlTree, commands, queryParams, fragment);\n    };\n    Router.prototype.navigateByUrl = function (url) {\n        if (url instanceof url_tree_1.UrlTree) {\n            return this.scheduleNavigation(url, false);\n        }\n        else {\n            var urlTree = this.urlSerializer.parse(url);\n            return this.scheduleNavigation(urlTree, false);\n        }\n    };\n    Router.prototype.navigate = function (commands, extras) {\n        if (extras === void 0) { extras = {}; }\n        return this.scheduleNavigation(this.createUrlTree(commands, extras), false);\n    };\n    Router.prototype.serializeUrl = function (url) { return this.urlSerializer.serialize(url); };\n    Router.prototype.parseUrl = function (url) { return this.urlSerializer.parse(url); };\n    Router.prototype.scheduleNavigation = function (url, preventPushState) {\n        var _this = this;\n        var id = ++this.navigationId;\n        this.routerEvents.next(new NavigationStart(id, this.serializeUrl(url)));\n        return Promise.resolve().then(function (_) { return _this.runNavigate(url, preventPushState, id); });\n    };\n    Router.prototype.setUpLocationChangeListener = function () {\n        var _this = this;\n        this.locationSubscription = this.location.subscribe(function (change) {\n            return _this.scheduleNavigation(_this.urlSerializer.parse(change['url']), change['pop']);\n        });\n    };\n    Router.prototype.runNavigate = function (url, preventPushState, id) {\n        var _this = this;\n        if (id !== this.navigationId) {\n            this.location.go(this.urlSerializer.serialize(this.currentUrlTree));\n            this.routerEvents.next(new NavigationCancel(id, this.serializeUrl(url)));\n            return Promise.resolve(false);\n        }\n        return new Promise(function (resolvePromise, rejectPromise) {\n            var updatedUrl;\n            var state;\n            apply_redirects_1.applyRedirects(url, _this.config)\n                .mergeMap(function (u) {\n                updatedUrl = u;\n                return recognize_1.recognize(_this.rootComponentType, _this.config, updatedUrl, _this.serializeUrl(updatedUrl));\n            })\n                .mergeMap(function (newRouterStateSnapshot) {\n                _this.routerEvents.next(new RoutesRecognized(id, _this.serializeUrl(url), _this.serializeUrl(updatedUrl), newRouterStateSnapshot));\n                return resolve_1.resolve(_this.resolver, newRouterStateSnapshot);\n            })\n                .map(function (routerStateSnapshot) {\n                return create_router_state_1.createRouterState(routerStateSnapshot, _this.currentRouterState);\n            })\n                .map(function (newState) {\n                state = newState;\n            })\n                .mergeMap(function (_) {\n                return new GuardChecks(state.snapshot, _this.currentRouterState.snapshot, _this.injector)\n                    .check(_this.outletMap);\n            })\n                .forEach(function (shouldActivate) {\n                if (!shouldActivate || id !== _this.navigationId) {\n                    _this.routerEvents.next(new NavigationCancel(id, _this.serializeUrl(url)));\n                    return Promise.resolve(false);\n                }\n                new ActivateRoutes(state, _this.currentRouterState).activate(_this.outletMap);\n                _this.currentUrlTree = updatedUrl;\n                _this.currentRouterState = state;\n                if (!preventPushState) {\n                    var path = _this.urlSerializer.serialize(updatedUrl);\n                    if (_this.location.isCurrentPathEqualTo(path)) {\n                        _this.location.replaceState(path);\n                    }\n                    else {\n                        _this.location.go(path);\n                    }\n                }\n                return Promise.resolve(true);\n            })\n                .then(function () {\n                _this.routerEvents.next(new NavigationEnd(id, _this.serializeUrl(url), _this.serializeUrl(updatedUrl)));\n                resolvePromise(true);\n            }, function (e) {\n                _this.routerEvents.next(new NavigationError(id, _this.serializeUrl(url), e));\n                rejectPromise(e);\n            });\n        });\n    };\n    return Router;\n}());\nexports.Router = Router;\nvar CanActivate = (function () {\n    function CanActivate(route) {\n        this.route = route;\n    }\n    return CanActivate;\n}());\nvar CanDeactivate = (function () {\n    function CanDeactivate(component, route) {\n        this.component = component;\n        this.route = route;\n    }\n    return CanDeactivate;\n}());\nvar GuardChecks = (function () {\n    function GuardChecks(future, curr, injector) {\n        this.future = future;\n        this.curr = curr;\n        this.injector = injector;\n        this.checks = [];\n    }\n    GuardChecks.prototype.check = function (parentOutletMap) {\n        var _this = this;\n        var futureRoot = this.future._root;\n        var currRoot = this.curr ? this.curr._root : null;\n        this.traverseChildRoutes(futureRoot, currRoot, parentOutletMap);\n        if (this.checks.length === 0)\n            return of_1.of(true);\n        return Observable_1.Observable.from(this.checks)\n            .map(function (s) {\n            if (s instanceof CanActivate) {\n                return _this.runCanActivate(s.route);\n            }\n            else if (s instanceof CanDeactivate) {\n                return _this.runCanDeactivate(s.component, s.route);\n            }\n            else {\n                throw new Error('Cannot be reached');\n            }\n        })\n            .mergeAll()\n            .every(function (result) { return result === true; });\n    };\n    GuardChecks.prototype.traverseChildRoutes = function (futureNode, currNode, outletMap) {\n        var _this = this;\n        var prevChildren = nodeChildrenAsMap(currNode);\n        futureNode.children.forEach(function (c) {\n            _this.traverseRoutes(c, prevChildren[c.value.outlet], outletMap);\n            delete prevChildren[c.value.outlet];\n        });\n        collection_1.forEach(prevChildren, function (v, k) { return _this.deactivateOutletAndItChildren(v, outletMap._outlets[k]); });\n    };\n    GuardChecks.prototype.traverseRoutes = function (futureNode, currNode, parentOutletMap) {\n        var future = futureNode.value;\n        var curr = currNode ? currNode.value : null;\n        var outlet = parentOutletMap ? parentOutletMap._outlets[futureNode.value.outlet] : null;\n        if (curr && future._routeConfig === curr._routeConfig) {\n            if (!collection_1.shallowEqual(future.params, curr.params)) {\n                this.checks.push(new CanDeactivate(outlet.component, curr), new CanActivate(future));\n            }\n            this.traverseChildRoutes(futureNode, currNode, outlet ? outlet.outletMap : null);\n        }\n        else {\n            this.deactivateOutletAndItChildren(curr, outlet);\n            this.checks.push(new CanActivate(future));\n            this.traverseChildRoutes(futureNode, null, outlet ? outlet.outletMap : null);\n        }\n    };\n    GuardChecks.prototype.deactivateOutletAndItChildren = function (route, outlet) {\n        var _this = this;\n        if (outlet && outlet.isActivated) {\n            collection_1.forEach(outlet.outletMap._outlets, function (v) {\n                if (v.isActivated) {\n                    _this.deactivateOutletAndItChildren(v.activatedRoute.snapshot, v);\n                }\n            });\n            this.checks.push(new CanDeactivate(outlet.component, route));\n        }\n    };\n    GuardChecks.prototype.runCanActivate = function (future) {\n        var _this = this;\n        var canActivate = future._routeConfig ? future._routeConfig.canActivate : null;\n        if (!canActivate || canActivate.length === 0)\n            return of_1.of(true);\n        return Observable_1.Observable.from(canActivate)\n            .map(function (c) {\n            var guard = _this.injector.get(c);\n            if (guard.canActivate) {\n                return wrapIntoObservable(guard.canActivate(future, _this.future));\n            }\n            else {\n                return wrapIntoObservable(guard(future, _this.future));\n            }\n        })\n            .mergeAll()\n            .every(function (result) { return result === true; });\n    };\n    GuardChecks.prototype.runCanDeactivate = function (component, curr) {\n        var _this = this;\n        var canDeactivate = curr._routeConfig ? curr._routeConfig.canDeactivate : null;\n        if (!canDeactivate || canDeactivate.length === 0)\n            return of_1.of(true);\n        return Observable_1.Observable.from(canDeactivate)\n            .map(function (c) {\n            var guard = _this.injector.get(c);\n            if (guard.canDeactivate) {\n                return wrapIntoObservable(guard.canDeactivate(component, curr, _this.curr));\n            }\n            else {\n                return wrapIntoObservable(guard(component, curr, _this.curr));\n            }\n        })\n            .mergeAll()\n            .every(function (result) { return result === true; });\n    };\n    return GuardChecks;\n}());\nfunction wrapIntoObservable(value) {\n    if (value instanceof Observable_1.Observable) {\n        return value;\n    }\n    else {\n        return of_1.of(value);\n    }\n}\nvar ActivateRoutes = (function () {\n    function ActivateRoutes(futureState, currState) {\n        this.futureState = futureState;\n        this.currState = currState;\n    }\n    ActivateRoutes.prototype.activate = function (parentOutletMap) {\n        var futureRoot = this.futureState._root;\n        var currRoot = this.currState ? this.currState._root : null;\n        pushQueryParamsAndFragment(this.futureState);\n        this.activateChildRoutes(futureRoot, currRoot, parentOutletMap);\n    };\n    ActivateRoutes.prototype.activateChildRoutes = function (futureNode, currNode, outletMap) {\n        var _this = this;\n        var prevChildren = nodeChildrenAsMap(currNode);\n        futureNode.children.forEach(function (c) {\n            _this.activateRoutes(c, prevChildren[c.value.outlet], outletMap);\n            delete prevChildren[c.value.outlet];\n        });\n        collection_1.forEach(prevChildren, function (v, k) { return _this.deactivateOutletAndItChildren(outletMap._outlets[k]); });\n    };\n    ActivateRoutes.prototype.activateRoutes = function (futureNode, currNode, parentOutletMap) {\n        var future = futureNode.value;\n        var curr = currNode ? currNode.value : null;\n        var outlet = getOutlet(parentOutletMap, futureNode.value);\n        if (future === curr) {\n            router_state_1.advanceActivatedRoute(future);\n            this.activateChildRoutes(futureNode, currNode, outlet.outletMap);\n        }\n        else {\n            this.deactivateOutletAndItChildren(outlet);\n            var outletMap = new router_outlet_map_1.RouterOutletMap();\n            this.activateNewRoutes(outletMap, future, outlet);\n            this.activateChildRoutes(futureNode, null, outletMap);\n        }\n    };\n    ActivateRoutes.prototype.activateNewRoutes = function (outletMap, future, outlet) {\n        var resolved = core_1.ReflectiveInjector.resolve([\n            { provide: router_state_1.ActivatedRoute, useValue: future },\n            { provide: router_outlet_map_1.RouterOutletMap, useValue: outletMap }\n        ]);\n        router_state_1.advanceActivatedRoute(future);\n        outlet.activate(future._futureSnapshot._resolvedComponentFactory, future, resolved, outletMap);\n    };\n    ActivateRoutes.prototype.deactivateOutletAndItChildren = function (outlet) {\n        var _this = this;\n        if (outlet && outlet.isActivated) {\n            collection_1.forEach(outlet.outletMap._outlets, function (v) { return _this.deactivateOutletAndItChildren(v); });\n            outlet.deactivate();\n        }\n    };\n    return ActivateRoutes;\n}());\nfunction pushQueryParamsAndFragment(state) {\n    if (!collection_1.shallowEqual(state.snapshot.queryParams, state.queryParams.value)) {\n        state.queryParams.next(state.snapshot.queryParams);\n    }\n    if (state.snapshot.fragment !== state.fragment.value) {\n        state.fragment.next(state.snapshot.fragment);\n    }\n}\nfunction nodeChildrenAsMap(node) {\n    return node ? node.children.reduce(function (m, c) {\n        m[c.value.outlet] = c;\n        return m;\n    }, {}) : {};\n}\nfunction getOutlet(outletMap, route) {\n    var outlet = outletMap._outlets[route.outlet];\n    if (!outlet) {\n        var componentName = route.component.name;\n        if (route.outlet === shared_1.PRIMARY_OUTLET) {\n            throw new Error(\"Cannot find primary outlet to load '\" + componentName + \"'\");\n        }\n        else {\n            throw new Error(\"Cannot find the outlet \" + route.outlet + \" to load '\" + componentName + \"'\");\n        }\n    }\n    return outlet;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3JvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsUUFBTyx1QkFBdUIsQ0FBQyxDQUFBO0FBQy9CLFFBQU8sd0JBQXdCLENBQUMsQ0FBQTtBQUNoQyxRQUFPLDRCQUE0QixDQUFDLENBQUE7QUFDcEMsUUFBTywwQkFBMEIsQ0FBQyxDQUFBO0FBQ2xDLFFBQU8sNkJBQTZCLENBQUMsQ0FBQTtBQUNyQyxRQUFPLHlCQUF5QixDQUFDLENBQUE7QUFDakMsUUFBTyw0QkFBNEIsQ0FBQyxDQUFBO0FBQ3BDLFFBQU8sMEJBQTBCLENBQUMsQ0FBQTtBQUdsQyxxQkFBb0UsZUFBZSxDQUFDLENBQUE7QUFDcEYsMkJBQXlCLGlCQUFpQixDQUFDLENBQUE7QUFDM0Msd0JBQXNCLGNBQWMsQ0FBQyxDQUFBO0FBRXJDLG1CQUFrQixvQkFBb0IsQ0FBQyxDQUFBO0FBRXZDLGdDQUE2QixtQkFBbUIsQ0FBQyxDQUFBO0FBQ2pELHVCQUEyQyxVQUFVLENBQUMsQ0FBQTtBQUN0RCxvQ0FBZ0MsdUJBQXVCLENBQUMsQ0FBQTtBQUN4RCxnQ0FBNEIsbUJBQW1CLENBQUMsQ0FBQTtBQUVoRCwwQkFBd0IsYUFBYSxDQUFDLENBQUE7QUFDdEMsd0JBQXNCLFdBQVcsQ0FBQyxDQUFBO0FBQ2xDLGtDQUE4QixxQkFBcUIsQ0FBQyxDQUFBO0FBQ3BELDZCQUFnSSxnQkFBZ0IsQ0FBQyxDQUFBO0FBQ2pKLHVCQUFxQyxVQUFVLENBQUMsQ0FBQTtBQUVoRCx5QkFBMEMsWUFBWSxDQUFDLENBQUE7QUFDdkQsMkJBQW9DLG9CQUFvQixDQUFDLENBQUE7QUFZekQ7SUFDRSx5QkFBbUIsRUFBVSxFQUFTLEdBQVc7UUFBOUIsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUFTLFFBQUcsR0FBSCxHQUFHLENBQVE7SUFBRyxDQUFDO0lBRXJELGtDQUFRLEdBQVIsY0FBcUIsTUFBTSxDQUFDLHlCQUF1QixJQUFJ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LGFBQWEsR0FBUyxLQUFLLENBQUMsU0FBVSxDQUFDLElBQUksQ0FBQztRQUNsRCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLHVCQUFjLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXVDLGFBQWEsTUFBRyxDQUFDLENBQUM7UUFDM0UsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQyw0QkFBMEIsS0FBSyxDQUFDLE1BQU0sa0JBQWEsYUFBYSxNQUFHLENBQUMsQ0FBQztRQUN2RixDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3Ivc2Nhbic7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21lcmdlTWFwJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvY29uY2F0JztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvY29uY2F0TWFwJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvZXZlcnknO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tZXJnZUFsbCc7XG5pbXBvcnQgJ3J4anMvYWRkL29ic2VydmFibGUvZnJvbSc7XG5cbmltcG9ydCB7TG9jYXRpb259IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0NvbXBvbmVudFJlc29sdmVyLCBJbmplY3RvciwgUmVmbGVjdGl2ZUluamVjdG9yLCBUeXBlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcy9TdWJqZWN0JztcbmltcG9ydCB7U3Vic2NyaXB0aW9ufSBmcm9tICdyeGpzL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQge29mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcblxuaW1wb3J0IHthcHBseVJlZGlyZWN0c30gZnJvbSAnLi9hcHBseV9yZWRpcmVjdHMnO1xuaW1wb3J0IHtSb3V0ZXJDb25maWcsIHZhbGlkYXRlQ29uZmlnfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQge2NyZWF0ZVJvdXRlclN0YXRlfSBmcm9tICcuL2NyZWF0ZV9yb3V0ZXJfc3RhdGUnO1xuaW1wb3J0IHtjcmVhdGVVcmxUcmVlfSBmcm9tICcuL2NyZWF0ZV91cmxfdHJlZSc7XG5pbXBvcnQge1JvdXRlck91dGxldH0gZnJvbSAnLi9kaXJlY3RpdmVzL3JvdXRlcl9vdXRsZXQnO1xuaW1wb3J0IHtyZWNvZ25pemV9IGZyb20gJy4vcmVjb2duaXplJztcbmltcG9ydCB7cmVzb2x2ZX0gZnJvbSAnLi9yZXNvbHZlJztcbmltcG9ydCB7Um91dGVyT3V0bGV0TWFwfSBmcm9tICcuL3JvdXRlcl9vdXRsZXRfbWFwJztcbmltcG9ydCB7QWN0aXZhdGVkUm91dGUsIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIFJvdXRlclN0YXRlLCBSb3V0ZXJTdGF0ZVNuYXBzaG90LCBhZHZhbmNlQWN0aXZhdGVkUm91dGUsIGNyZWF0ZUVtcHR5U3RhdGV9IGZyb20gJy4vcm91dGVyX3N0YXRlJztcbmltcG9ydCB7UFJJTUFSWV9PVVRMRVQsIFBhcmFtc30gZnJvbSAnLi9zaGFyZWQnO1xuaW1wb3J0IHtVcmxTZXJpYWxpemVyfSBmcm9tICcuL3VybF9zZXJpYWxpemVyJztcbmltcG9ydCB7VXJsVHJlZSwgY3JlYXRlRW1wdHlVcmxUcmVlfSBmcm9tICcuL3VybF90cmVlJztcbmltcG9ydCB7Zm9yRWFjaCwgc2hhbGxvd0VxdWFsfSBmcm9tICcuL3V0aWxzL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHtUcmVlTm9kZX0gZnJvbSAnLi91dGlscy90cmVlJztcblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uRXh0cmFzIHtcbiAgcmVsYXRpdmVUbz86IEFjdGl2YXRlZFJvdXRlO1xuICBxdWVyeVBhcmFtcz86IFBhcmFtcztcbiAgZnJhZ21lbnQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gZXZlbnQgdHJpZ2dlcmVkIHdoZW4gYSBuYXZpZ2F0aW9uIHN0YXJ0c1xuICovXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvblN0YXJ0IHtcbiAgY29uc3RydWN0b3IocHVibGljIGlkOiBudW1iZXIsIHB1YmxpYyB1cmw6IHN0cmluZykge31cblxuICB0b1N0cmluZygpOiBzdHJpbmcgeyByZXR1cm4gYE5hdmlnYXRpb25TdGFydChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nKWA7IH1cbn1cblxuLyoqXG4gKiBBbiBldmVudCB0cmlnZ2VyZWQgd2hlbiBhIG5hdmlnYXRpb24gZW5kcyBzdWNjZXNzZnVsbHlcbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25FbmQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgaWQ6IG51bWJlciwgcHVibGljIHVybDogc3RyaW5nLCBwdWJsaWMgdXJsQWZ0ZXJSZWRpcmVjdHM6IHN0cmluZykge31cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgTmF2aWdhdGlvbkVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nKWA7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBldmVudCB0cmlnZ2VyZWQgd2hlbiBhIG5hdmlnYXRpb24gaXMgY2FuY2VsZWRcbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25DYW5jZWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgaWQ6IG51bWJlciwgcHVibGljIHVybDogc3RyaW5nKSB7fVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7IHJldHVybiBgTmF2aWdhdGlvbkNhbmNlbChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nKWA7IH1cbn1cblxuLyoqXG4gKiBBbiBldmVudCB0cmlnZ2VyZWQgd2hlbiBhIG5hdmlnYXRpb24gZmFpbHMgZHVlIHRvIHVuZXhwZWN0ZWQgZXJyb3JcbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgdXJsOiBzdHJpbmcsIHB1YmxpYyBlcnJvcjogYW55KSB7fVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBOYXZpZ2F0aW9uRXJyb3IoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgZXJyb3I6ICR7dGhpcy5lcnJvcn0pYDtcbiAgfVxufVxuXG4vKipcbiAqIEFuIGV2ZW50IHRyaWdnZXJlZCB3aGVuIHJvdXRlcyBhcmUgcmVjb2duaXplZFxuICovXG5leHBvcnQgY2xhc3MgUm91dGVzUmVjb2duaXplZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHVibGljIGlkOiBudW1iZXIsIHB1YmxpYyB1cmw6IHN0cmluZywgcHVibGljIHVybEFmdGVyUmVkaXJlY3RzOiBzdHJpbmcsXG4gICAgICBwdWJsaWMgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpIHt9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFJvdXRlc1JlY29nbml6ZWQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYDtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBFdmVudCA9IE5hdmlnYXRpb25TdGFydCB8IE5hdmlnYXRpb25FbmQgfCBOYXZpZ2F0aW9uQ2FuY2VsIHwgTmF2aWdhdGlvbkVycm9yO1xuXG4vKipcbiAqIFRoZSBgUm91dGVyYCBpcyByZXNwb25zaWJsZSBmb3IgbWFwcGluZyBVUkxzIHRvIGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3V0ZXIge1xuICBwcml2YXRlIGN1cnJlbnRVcmxUcmVlOiBVcmxUcmVlO1xuICBwcml2YXRlIGN1cnJlbnRSb3V0ZXJTdGF0ZTogUm91dGVyU3RhdGU7XG4gIHByaXZhdGUgbG9jYXRpb25TdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgcHJpdmF0ZSByb3V0ZXJFdmVudHM6IFN1YmplY3Q8RXZlbnQ+O1xuICBwcml2YXRlIG5hdmlnYXRpb25JZDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBjb25maWc6IFJvdXRlckNvbmZpZztcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgcm9vdENvbXBvbmVudFR5cGU6IFR5cGUsIHByaXZhdGUgcmVzb2x2ZXI6IENvbXBvbmVudFJlc29sdmVyLFxuICAgICAgcHJpdmF0ZSB1cmxTZXJpYWxpemVyOiBVcmxTZXJpYWxpemVyLCBwcml2YXRlIG91dGxldE1hcDogUm91dGVyT3V0bGV0TWFwLFxuICAgICAgcHJpdmF0ZSBsb2NhdGlvbjogTG9jYXRpb24sIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLCBjb25maWc6IFJvdXRlckNvbmZpZykge1xuICAgIHRoaXMucmVzZXRDb25maWcoY29uZmlnKTtcbiAgICB0aGlzLnJvdXRlckV2ZW50cyA9IG5ldyBTdWJqZWN0PEV2ZW50PigpO1xuICAgIHRoaXMuY3VycmVudFVybFRyZWUgPSBjcmVhdGVFbXB0eVVybFRyZWUoKTtcbiAgICB0aGlzLmN1cnJlbnRSb3V0ZXJTdGF0ZSA9IGNyZWF0ZUVtcHR5U3RhdGUodGhpcy5jdXJyZW50VXJsVHJlZSwgdGhpcy5yb290Q29tcG9uZW50VHlwZSk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBpbml0aWFsTmF2aWdhdGlvbigpOiB2b2lkIHtcbiAgICB0aGlzLnNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpO1xuICAgIHRoaXMubmF2aWdhdGVCeVVybCh0aGlzLmxvY2F0aW9uLnBhdGgoKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCByb3V0ZSBzdGF0ZS5cbiAgICovXG4gIGdldCByb3V0ZXJTdGF0ZSgpOiBSb3V0ZXJTdGF0ZSB7IHJldHVybiB0aGlzLmN1cnJlbnRSb3V0ZXJTdGF0ZTsgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHVybC5cbiAgICovXG4gIGdldCB1cmwoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpOyB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSBvZiByb3V0ZSBldmVudHNcbiAgICovXG4gIGdldCBldmVudHMoKTogT2JzZXJ2YWJsZTxFdmVudD4geyByZXR1cm4gdGhpcy5yb3V0ZXJFdmVudHM7IH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBjb25maWd1cmF0aW9uIHVzZWQgZm9yIG5hdmlnYXRpb24gYW5kIGdlbmVyYXRpbmcgbGlua3MuXG4gICAqXG4gICAqICMjIyBVc2FnZVxuICAgKlxuICAgKiBgYGBcbiAgICogcm91dGVyLnJlc2V0Q29uZmlnKFtcbiAgICogIHsgcGF0aDogJ3RlYW0vOmlkJywgY29tcG9uZW50OiBUZWFtQ21wLCBjaGlsZHJlbjogW1xuICAgKiAgICB7IHBhdGg6ICdzaW1wbGUnLCBjb21wb25lbnQ6IFNpbXBsZUNtcCB9LFxuICAgKiAgICB7IHBhdGg6ICd1c2VyLzpuYW1lJywgY29tcG9uZW50OiBVc2VyQ21wIH1cbiAgICogIF0gfVxuICAgKiBdKTtcbiAgICogYGBgXG4gICAqL1xuICByZXNldENvbmZpZyhjb25maWc6IFJvdXRlckNvbmZpZyk6IHZvaWQge1xuICAgIHZhbGlkYXRlQ29uZmlnKGNvbmZpZyk7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBkaXNwb3NlKCk6IHZvaWQgeyB0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7IH1cblxuICAvKipcbiAgICogQXBwbGllcyBhbiBhcnJheSBvZiBjb21tYW5kcyB0byB0aGUgY3VycmVudCB1cmwgdHJlZSBhbmQgY3JlYXRlc1xuICAgKiBhIG5ldyB1cmwgdHJlZS5cbiAgICpcbiAgICogV2hlbiBnaXZlbiBhbiBhY3RpdmF0ZSByb3V0ZSwgYXBwbGllcyB0aGUgZ2l2ZW4gY29tbWFuZHMgc3RhcnRpbmcgZnJvbSB0aGUgcm91dGUuXG4gICAqIFdoZW4gbm90IGdpdmVuIGEgcm91dGUsIGFwcGxpZXMgdGhlIGdpdmVuIGNvbW1hbmQgc3RhcnRpbmcgZnJvbSB0aGUgcm9vdC5cbiAgICpcbiAgICogIyMjIFVzYWdlXG4gICAqXG4gICAqIGBgYFxuICAgKiAvLyBjcmVhdGUgL3RlYW0vMzMvdXNlci8xMVxuICAgKiByb3V0ZXIuY3JlYXRlVXJsVHJlZShbJy90ZWFtJywgMzMsICd1c2VyJywgMTFdKTtcbiAgICpcbiAgICogLy8gY3JlYXRlIC90ZWFtLzMzO2V4cGFuZD10cnVlL3VzZXIvMTFcbiAgICogcm91dGVyLmNyZWF0ZVVybFRyZWUoWycvdGVhbScsIDMzLCB7ZXhwYW5kOiB0cnVlfSwgJ3VzZXInLCAxMV0pO1xuICAgKlxuICAgKiAvLyB5b3UgY2FuIGNvbGxhcHNlIHN0YXRpYyBmcmFnbWVudHMgbGlrZSB0aGlzXG4gICAqIHJvdXRlci5jcmVhdGVVcmxUcmVlKFsnL3RlYW0vMzMvdXNlcicsIHVzZXJJZF0pO1xuICAgKlxuICAgKiAvLyBhc3N1bWluZyB0aGUgY3VycmVudCB1cmwgaXMgYC90ZWFtLzMzL3VzZXIvMTFgIGFuZCB0aGUgcm91dGUgcG9pbnRzIHRvIGB1c2VyLzExYFxuICAgKlxuICAgKiAvLyBuYXZpZ2F0ZSB0byAvdGVhbS8zMy91c2VyLzExL2RldGFpbHNcbiAgICogcm91dGVyLmNyZWF0ZVVybFRyZWUoWydkZXRhaWxzJ10sIHtyZWxhdGl2ZVRvOiByb3V0ZX0pO1xuICAgKlxuICAgKiAvLyBuYXZpZ2F0ZSB0byAvdGVhbS8zMy91c2VyLzIyXG4gICAqIHJvdXRlci5jcmVhdGVVcmxUcmVlKFsnLi4vMjInXSwge3JlbGF0aXZlVG86IHJvdXRlfSk7XG4gICAqXG4gICAqIC8vIG5hdmlnYXRlIHRvIC90ZWFtLzQ0L3VzZXIvMjJcbiAgICogcm91dGVyLmNyZWF0ZVVybFRyZWUoWycuLi8uLi90ZWFtLzQ0L3VzZXIvMjInXSwge3JlbGF0aXZlVG86IHJvdXRlfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY3JlYXRlVXJsVHJlZShjb21tYW5kczogYW55W10sIHtyZWxhdGl2ZVRvLCBxdWVyeVBhcmFtcywgZnJhZ21lbnR9OiBOYXZpZ2F0aW9uRXh0cmFzID0ge30pOlxuICAgICAgVXJsVHJlZSB7XG4gICAgY29uc3QgYSA9IHJlbGF0aXZlVG8gPyByZWxhdGl2ZVRvIDogdGhpcy5yb3V0ZXJTdGF0ZS5yb290O1xuICAgIHJldHVybiBjcmVhdGVVcmxUcmVlKGEsIHRoaXMuY3VycmVudFVybFRyZWUsIGNvbW1hbmRzLCBxdWVyeVBhcmFtcywgZnJhZ21lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCB1cmwuIFRoaXMgbmF2aWdhdGlvbiBpcyBhbHdheXMgYWJzb2x1dGUuXG4gICAqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQ6XG4gICAqIC0gaXMgcmVzb2x2ZWQgd2l0aCAndHJ1ZScgd2hlbiBuYXZpZ2F0aW9uIHN1Y2NlZWRzXG4gICAqIC0gaXMgcmVzb2x2ZWQgd2l0aCAnZmFsc2UnIHdoZW4gbmF2aWdhdGlvbiBmYWlsc1xuICAgKiAtIGlzIHJlamVjdGVkIHdoZW4gYW4gZXJyb3IgaGFwcGVuc1xuICAgKlxuICAgKiAjIyMgVXNhZ2VcbiAgICpcbiAgICogYGBgXG4gICAqIHJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFwiL3RlYW0vMzMvdXNlci8xMVwiKTtcbiAgICogYGBgXG4gICAqL1xuICBuYXZpZ2F0ZUJ5VXJsKHVybDogc3RyaW5nfFVybFRyZWUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodXJsIGluc3RhbmNlb2YgVXJsVHJlZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKHVybCwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1cmxUcmVlID0gdGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKHVybCk7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlZHVsZU5hdmlnYXRpb24odXJsVHJlZSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYXJyYXkgb2YgY29tbWFuZHMgYW5kIGEgc3RhcnRpbmcgcG9pbnQuXG4gICAqIElmIG5vIHN0YXJ0aW5nIHJvdXRlIGlzIHByb3ZpZGVkLCB0aGUgbmF2aWdhdGlvbiBpcyBhYnNvbHV0ZS5cbiAgICpcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdDpcbiAgICogLSBpcyByZXNvbHZlZCB3aXRoICd0cnVlJyB3aGVuIG5hdmlnYXRpb24gc3VjY2VlZHNcbiAgICogLSBpcyByZXNvbHZlZCB3aXRoICdmYWxzZScgd2hlbiBuYXZpZ2F0aW9uIGZhaWxzXG4gICAqIC0gaXMgcmVqZWN0ZWQgd2hlbiBhbiBlcnJvciBoYXBwZW5zXG4gICAqXG4gICAqICMjIyBVc2FnZVxuICAgKlxuICAgKiBgYGBcbiAgICogcm91dGVyLm5hdmlnYXRlKFsndGVhbScsIDMzLCAndGVhbScsICcxMV0sIHtyZWxhdGl2ZVRvOiByb3V0ZX0pO1xuICAgKiBgYGBcbiAgICovXG4gIG5hdmlnYXRlKGNvbW1hbmRzOiBhbnlbXSwgZXh0cmFzOiBOYXZpZ2F0aW9uRXh0cmFzID0ge30pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZU5hdmlnYXRpb24odGhpcy5jcmVhdGVVcmxUcmVlKGNvbW1hbmRzLCBleHRyYXMpLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogU2VyaWFsaXplcyBhIHtAbGluayBVcmxUcmVlfSBpbnRvIGEgc3RyaW5nLlxuICAgKi9cbiAgc2VyaWFsaXplVXJsKHVybDogVXJsVHJlZSk6IHN0cmluZyB7IHJldHVybiB0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHVybCk7IH1cblxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgaW50byBhIHtAbGluayBVcmxUcmVlfS5cbiAgICovXG4gIHBhcnNlVXJsKHVybDogc3RyaW5nKTogVXJsVHJlZSB7IHJldHVybiB0aGlzLnVybFNlcmlhbGl6ZXIucGFyc2UodXJsKTsgfVxuXG4gIHByaXZhdGUgc2NoZWR1bGVOYXZpZ2F0aW9uKHVybDogVXJsVHJlZSwgcHJldmVudFB1c2hTdGF0ZTogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGlkID0gKyt0aGlzLm5hdmlnYXRpb25JZDtcbiAgICB0aGlzLnJvdXRlckV2ZW50cy5uZXh0KG5ldyBOYXZpZ2F0aW9uU3RhcnQoaWQsIHRoaXMuc2VyaWFsaXplVXJsKHVybCkpKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoXykgPT4gdGhpcy5ydW5OYXZpZ2F0ZSh1cmwsIHByZXZlbnRQdXNoU3RhdGUsIGlkKSk7XG4gIH1cblxuICBwcml2YXRlIHNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICB0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uID0gPGFueT50aGlzLmxvY2F0aW9uLnN1YnNjcmliZSgoY2hhbmdlKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlZHVsZU5hdmlnYXRpb24odGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKGNoYW5nZVsndXJsJ10pLCBjaGFuZ2VbJ3BvcCddKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcnVuTmF2aWdhdGUodXJsOiBVcmxUcmVlLCBwcmV2ZW50UHVzaFN0YXRlOiBib29sZWFuLCBpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKGlkICE9PSB0aGlzLm5hdmlnYXRpb25JZCkge1xuICAgICAgdGhpcy5sb2NhdGlvbi5nbyh0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHRoaXMuY3VycmVudFVybFRyZWUpKTtcbiAgICAgIHRoaXMucm91dGVyRXZlbnRzLm5leHQobmV3IE5hdmlnYXRpb25DYW5jZWwoaWQsIHRoaXMuc2VyaWFsaXplVXJsKHVybCkpKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpID0+IHtcbiAgICAgIGxldCB1cGRhdGVkVXJsOiBVcmxUcmVlO1xuICAgICAgbGV0IHN0YXRlOiBSb3V0ZXJTdGF0ZTtcbiAgICAgIGFwcGx5UmVkaXJlY3RzKHVybCwgdGhpcy5jb25maWcpXG4gICAgICAgICAgLm1lcmdlTWFwKHUgPT4ge1xuICAgICAgICAgICAgdXBkYXRlZFVybCA9IHU7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplKFxuICAgICAgICAgICAgICAgIHRoaXMucm9vdENvbXBvbmVudFR5cGUsIHRoaXMuY29uZmlnLCB1cGRhdGVkVXJsLCB0aGlzLnNlcmlhbGl6ZVVybCh1cGRhdGVkVXJsKSk7XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC5tZXJnZU1hcCgobmV3Um91dGVyU3RhdGVTbmFwc2hvdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXJFdmVudHMubmV4dChuZXcgUm91dGVzUmVjb2duaXplZChcbiAgICAgICAgICAgICAgICBpZCwgdGhpcy5zZXJpYWxpemVVcmwodXJsKSwgdGhpcy5zZXJpYWxpemVVcmwodXBkYXRlZFVybCksIG5ld1JvdXRlclN0YXRlU25hcHNob3QpKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRoaXMucmVzb2x2ZXIsIG5ld1JvdXRlclN0YXRlU25hcHNob3QpO1xuXG4gICAgICAgICAgfSlcbiAgICAgICAgICAubWFwKChyb3V0ZXJTdGF0ZVNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUm91dGVyU3RhdGUocm91dGVyU3RhdGVTbmFwc2hvdCwgdGhpcy5jdXJyZW50Um91dGVyU3RhdGUpO1xuXG4gICAgICAgICAgfSlcbiAgICAgICAgICAubWFwKChuZXdTdGF0ZTogUm91dGVyU3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlID0gbmV3U3RhdGU7XG5cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5tZXJnZU1hcChfID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3VhcmRDaGVja3Moc3RhdGUuc25hcHNob3QsIHRoaXMuY3VycmVudFJvdXRlclN0YXRlLnNuYXBzaG90LCB0aGlzLmluamVjdG9yKVxuICAgICAgICAgICAgICAgIC5jaGVjayh0aGlzLm91dGxldE1hcCk7XG5cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5mb3JFYWNoKChzaG91bGRBY3RpdmF0ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgaWYgKCFzaG91bGRBY3RpdmF0ZSB8fCBpZCAhPT0gdGhpcy5uYXZpZ2F0aW9uSWQpIHtcbiAgICAgICAgICAgICAgdGhpcy5yb3V0ZXJFdmVudHMubmV4dChuZXcgTmF2aWdhdGlvbkNhbmNlbChpZCwgdGhpcy5zZXJpYWxpemVVcmwodXJsKSkpO1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3IEFjdGl2YXRlUm91dGVzKHN0YXRlLCB0aGlzLmN1cnJlbnRSb3V0ZXJTdGF0ZSkuYWN0aXZhdGUodGhpcy5vdXRsZXRNYXApO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVcmxUcmVlID0gdXBkYXRlZFVybDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdXRlclN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICBpZiAoIXByZXZlbnRQdXNoU3RhdGUpIHtcbiAgICAgICAgICAgICAgbGV0IHBhdGggPSB0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHVwZGF0ZWRVcmwpO1xuICAgICAgICAgICAgICBpZiAodGhpcy5sb2NhdGlvbi5pc0N1cnJlbnRQYXRoRXF1YWxUbyhwYXRoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb24ucmVwbGFjZVN0YXRlKHBhdGgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb24uZ28ocGF0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyRXZlbnRzLm5leHQoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOYXZpZ2F0aW9uRW5kKGlkLCB0aGlzLnNlcmlhbGl6ZVVybCh1cmwpLCB0aGlzLnNlcmlhbGl6ZVVybCh1cGRhdGVkVXJsKSkpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHRydWUpO1xuXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyRXZlbnRzLm5leHQobmV3IE5hdmlnYXRpb25FcnJvcihpZCwgdGhpcy5zZXJpYWxpemVVcmwodXJsKSwgZSkpO1xuICAgICAgICAgICAgICAgIHJlamVjdFByb21pc2UoZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmNsYXNzIENhbkFjdGl2YXRlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7fVxufVxuY2xhc3MgQ2FuRGVhY3RpdmF0ZSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjb21wb25lbnQ6IE9iamVjdCwgcHVibGljIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7fVxufVxuXG5jbGFzcyBHdWFyZENoZWNrcyB7XG4gIHByaXZhdGUgY2hlY2tzOiBBcnJheTxDYW5BY3RpdmF0ZXxDYW5EZWFjdGl2YXRlPiA9IFtdO1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgZnV0dXJlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90LCBwcml2YXRlIGN1cnI6IFJvdXRlclN0YXRlU25hcHNob3QsXG4gICAgICBwcml2YXRlIGluamVjdG9yOiBJbmplY3Rvcikge31cblxuICBjaGVjayhwYXJlbnRPdXRsZXRNYXA6IFJvdXRlck91dGxldE1hcCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZ1dHVyZVJvb3QgPSB0aGlzLmZ1dHVyZS5fcm9vdDtcbiAgICBjb25zdCBjdXJyUm9vdCA9IHRoaXMuY3VyciA/IHRoaXMuY3Vyci5fcm9vdCA6IG51bGw7XG4gICAgdGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKGZ1dHVyZVJvb3QsIGN1cnJSb290LCBwYXJlbnRPdXRsZXRNYXApO1xuICAgIGlmICh0aGlzLmNoZWNrcy5sZW5ndGggPT09IDApIHJldHVybiBvZiAodHJ1ZSk7XG5cbiAgICByZXR1cm4gT2JzZXJ2YWJsZS5mcm9tKHRoaXMuY2hlY2tzKVxuICAgICAgICAubWFwKHMgPT4ge1xuICAgICAgICAgIGlmIChzIGluc3RhbmNlb2YgQ2FuQWN0aXZhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bkNhbkFjdGl2YXRlKHMucm91dGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocyBpbnN0YW5jZW9mIENhbkRlYWN0aXZhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bkNhbkRlYWN0aXZhdGUocy5jb21wb25lbnQsIHMucm91dGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBiZSByZWFjaGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAubWVyZ2VBbGwoKVxuICAgICAgICAuZXZlcnkocmVzdWx0ID0+IHJlc3VsdCA9PT0gdHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIHRyYXZlcnNlQ2hpbGRSb3V0ZXMoXG4gICAgICBmdXR1cmVOb2RlOiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PiwgY3Vyck5vZGU6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+LFxuICAgICAgb3V0bGV0TWFwOiBSb3V0ZXJPdXRsZXRNYXApOiB2b2lkIHtcbiAgICBjb25zdCBwcmV2Q2hpbGRyZW46IHtba2V5OiBzdHJpbmddOiBhbnl9ID0gbm9kZUNoaWxkcmVuQXNNYXAoY3Vyck5vZGUpO1xuICAgIGZ1dHVyZU5vZGUuY2hpbGRyZW4uZm9yRWFjaChjID0+IHtcbiAgICAgIHRoaXMudHJhdmVyc2VSb3V0ZXMoYywgcHJldkNoaWxkcmVuW2MudmFsdWUub3V0bGV0XSwgb3V0bGV0TWFwKTtcbiAgICAgIGRlbGV0ZSBwcmV2Q2hpbGRyZW5bYy52YWx1ZS5vdXRsZXRdO1xuICAgIH0pO1xuICAgIGZvckVhY2goXG4gICAgICAgIHByZXZDaGlsZHJlbixcbiAgICAgICAgKHY6IGFueSwgazogc3RyaW5nKSA9PiB0aGlzLmRlYWN0aXZhdGVPdXRsZXRBbmRJdENoaWxkcmVuKHYsIG91dGxldE1hcC5fb3V0bGV0c1trXSkpO1xuICB9XG5cbiAgdHJhdmVyc2VSb3V0ZXMoXG4gICAgICBmdXR1cmVOb2RlOiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PiwgY3Vyck5vZGU6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+LFxuICAgICAgcGFyZW50T3V0bGV0TWFwOiBSb3V0ZXJPdXRsZXRNYXApOiB2b2lkIHtcbiAgICBjb25zdCBmdXR1cmUgPSBmdXR1cmVOb2RlLnZhbHVlO1xuICAgIGNvbnN0IGN1cnIgPSBjdXJyTm9kZSA/IGN1cnJOb2RlLnZhbHVlIDogbnVsbDtcbiAgICBjb25zdCBvdXRsZXQgPSBwYXJlbnRPdXRsZXRNYXAgPyBwYXJlbnRPdXRsZXRNYXAuX291dGxldHNbZnV0dXJlTm9kZS52YWx1ZS5vdXRsZXRdIDogbnVsbDtcblxuICAgIGlmIChjdXJyICYmIGZ1dHVyZS5fcm91dGVDb25maWcgPT09IGN1cnIuX3JvdXRlQ29uZmlnKSB7XG4gICAgICBpZiAoIXNoYWxsb3dFcXVhbChmdXR1cmUucGFyYW1zLCBjdXJyLnBhcmFtcykpIHtcbiAgICAgICAgdGhpcy5jaGVja3MucHVzaChuZXcgQ2FuRGVhY3RpdmF0ZShvdXRsZXQuY29tcG9uZW50LCBjdXJyKSwgbmV3IENhbkFjdGl2YXRlKGZ1dHVyZSkpO1xuICAgICAgfVxuICAgICAgdGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKGZ1dHVyZU5vZGUsIGN1cnJOb2RlLCBvdXRsZXQgPyBvdXRsZXQub3V0bGV0TWFwIDogbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVhY3RpdmF0ZU91dGxldEFuZEl0Q2hpbGRyZW4oY3Vyciwgb3V0bGV0KTtcbiAgICAgIHRoaXMuY2hlY2tzLnB1c2gobmV3IENhbkFjdGl2YXRlKGZ1dHVyZSkpO1xuICAgICAgdGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKGZ1dHVyZU5vZGUsIG51bGwsIG91dGxldCA/IG91dGxldC5vdXRsZXRNYXAgOiBudWxsKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRlYWN0aXZhdGVPdXRsZXRBbmRJdENoaWxkcmVuKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBvdXRsZXQ6IFJvdXRlck91dGxldCk6IHZvaWQge1xuICAgIGlmIChvdXRsZXQgJiYgb3V0bGV0LmlzQWN0aXZhdGVkKSB7XG4gICAgICBmb3JFYWNoKG91dGxldC5vdXRsZXRNYXAuX291dGxldHMsICh2OiBSb3V0ZXJPdXRsZXQpID0+IHtcbiAgICAgICAgaWYgKHYuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICB0aGlzLmRlYWN0aXZhdGVPdXRsZXRBbmRJdENoaWxkcmVuKHYuYWN0aXZhdGVkUm91dGUuc25hcHNob3QsIHYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2hlY2tzLnB1c2gobmV3IENhbkRlYWN0aXZhdGUob3V0bGV0LmNvbXBvbmVudCwgcm91dGUpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJ1bkNhbkFjdGl2YXRlKGZ1dHVyZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGNhbkFjdGl2YXRlID0gZnV0dXJlLl9yb3V0ZUNvbmZpZyA/IGZ1dHVyZS5fcm91dGVDb25maWcuY2FuQWN0aXZhdGUgOiBudWxsO1xuICAgIGlmICghY2FuQWN0aXZhdGUgfHwgY2FuQWN0aXZhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gb2YgKHRydWUpO1xuICAgIHJldHVybiBPYnNlcnZhYmxlLmZyb20oY2FuQWN0aXZhdGUpXG4gICAgICAgIC5tYXAoYyA9PiB7XG4gICAgICAgICAgY29uc3QgZ3VhcmQgPSB0aGlzLmluamVjdG9yLmdldChjKTtcbiAgICAgICAgICBpZiAoZ3VhcmQuY2FuQWN0aXZhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwSW50b09ic2VydmFibGUoZ3VhcmQuY2FuQWN0aXZhdGUoZnV0dXJlLCB0aGlzLmZ1dHVyZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcEludG9PYnNlcnZhYmxlKGd1YXJkKGZ1dHVyZSwgdGhpcy5mdXR1cmUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5tZXJnZUFsbCgpXG4gICAgICAgIC5ldmVyeShyZXN1bHQgPT4gcmVzdWx0ID09PSB0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgcnVuQ2FuRGVhY3RpdmF0ZShjb21wb25lbnQ6IE9iamVjdCwgY3VycjogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGNhbkRlYWN0aXZhdGUgPSBjdXJyLl9yb3V0ZUNvbmZpZyA/IGN1cnIuX3JvdXRlQ29uZmlnLmNhbkRlYWN0aXZhdGUgOiBudWxsO1xuICAgIGlmICghY2FuRGVhY3RpdmF0ZSB8fCBjYW5EZWFjdGl2YXRlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG9mICh0cnVlKTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZS5mcm9tKGNhbkRlYWN0aXZhdGUpXG4gICAgICAgIC5tYXAoYyA9PiB7XG4gICAgICAgICAgY29uc3QgZ3VhcmQgPSB0aGlzLmluamVjdG9yLmdldChjKTtcbiAgICAgICAgICBpZiAoZ3VhcmQuY2FuRGVhY3RpdmF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBJbnRvT2JzZXJ2YWJsZShndWFyZC5jYW5EZWFjdGl2YXRlKGNvbXBvbmVudCwgY3VyciwgdGhpcy5jdXJyKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwSW50b09ic2VydmFibGUoZ3VhcmQoY29tcG9uZW50LCBjdXJyLCB0aGlzLmN1cnIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5tZXJnZUFsbCgpXG4gICAgICAgIC5ldmVyeShyZXN1bHQgPT4gcmVzdWx0ID09PSB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwSW50b09ic2VydmFibGU8VD4odmFsdWU6IFQgfCBPYnNlcnZhYmxlPFQ+KTogT2JzZXJ2YWJsZTxUPiB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9mICh2YWx1ZSk7XG4gIH1cbn1cblxuY2xhc3MgQWN0aXZhdGVSb3V0ZXMge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZ1dHVyZVN0YXRlOiBSb3V0ZXJTdGF0ZSwgcHJpdmF0ZSBjdXJyU3RhdGU6IFJvdXRlclN0YXRlKSB7fVxuXG4gIGFjdGl2YXRlKHBhcmVudE91dGxldE1hcDogUm91dGVyT3V0bGV0TWFwKTogdm9pZCB7XG4gICAgY29uc3QgZnV0dXJlUm9vdCA9IHRoaXMuZnV0dXJlU3RhdGUuX3Jvb3Q7XG4gICAgY29uc3QgY3VyclJvb3QgPSB0aGlzLmN1cnJTdGF0ZSA/IHRoaXMuY3VyclN0YXRlLl9yb290IDogbnVsbDtcblxuICAgIHB1c2hRdWVyeVBhcmFtc0FuZEZyYWdtZW50KHRoaXMuZnV0dXJlU3RhdGUpO1xuICAgIHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyhmdXR1cmVSb290LCBjdXJyUm9vdCwgcGFyZW50T3V0bGV0TWFwKTtcbiAgfVxuXG4gIHByaXZhdGUgYWN0aXZhdGVDaGlsZFJvdXRlcyhcbiAgICAgIGZ1dHVyZU5vZGU6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlPiwgY3Vyck5vZGU6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlPixcbiAgICAgIG91dGxldE1hcDogUm91dGVyT3V0bGV0TWFwKTogdm9pZCB7XG4gICAgY29uc3QgcHJldkNoaWxkcmVuOiB7W2tleTogc3RyaW5nXTogYW55fSA9IG5vZGVDaGlsZHJlbkFzTWFwKGN1cnJOb2RlKTtcbiAgICBmdXR1cmVOb2RlLmNoaWxkcmVuLmZvckVhY2goYyA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlUm91dGVzKGMsIHByZXZDaGlsZHJlbltjLnZhbHVlLm91dGxldF0sIG91dGxldE1hcCk7XG4gICAgICBkZWxldGUgcHJldkNoaWxkcmVuW2MudmFsdWUub3V0bGV0XTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKFxuICAgICAgICBwcmV2Q2hpbGRyZW4sXG4gICAgICAgICh2OiBhbnksIGs6IHN0cmluZykgPT4gdGhpcy5kZWFjdGl2YXRlT3V0bGV0QW5kSXRDaGlsZHJlbihvdXRsZXRNYXAuX291dGxldHNba10pKTtcbiAgfVxuXG4gIGFjdGl2YXRlUm91dGVzKFxuICAgICAgZnV0dXJlTm9kZTogVHJlZU5vZGU8QWN0aXZhdGVkUm91dGU+LCBjdXJyTm9kZTogVHJlZU5vZGU8QWN0aXZhdGVkUm91dGU+LFxuICAgICAgcGFyZW50T3V0bGV0TWFwOiBSb3V0ZXJPdXRsZXRNYXApOiB2b2lkIHtcbiAgICBjb25zdCBmdXR1cmUgPSBmdXR1cmVOb2RlLnZhbHVlO1xuICAgIGNvbnN0IGN1cnIgPSBjdXJyTm9kZSA/IGN1cnJOb2RlLnZhbHVlIDogbnVsbDtcblxuICAgIGNvbnN0IG91dGxldCA9IGdldE91dGxldChwYXJlbnRPdXRsZXRNYXAsIGZ1dHVyZU5vZGUudmFsdWUpO1xuXG4gICAgaWYgKGZ1dHVyZSA9PT0gY3Vycikge1xuICAgICAgYWR2YW5jZUFjdGl2YXRlZFJvdXRlKGZ1dHVyZSk7XG4gICAgICB0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMoZnV0dXJlTm9kZSwgY3Vyck5vZGUsIG91dGxldC5vdXRsZXRNYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlYWN0aXZhdGVPdXRsZXRBbmRJdENoaWxkcmVuKG91dGxldCk7XG4gICAgICBjb25zdCBvdXRsZXRNYXAgPSBuZXcgUm91dGVyT3V0bGV0TWFwKCk7XG4gICAgICB0aGlzLmFjdGl2YXRlTmV3Um91dGVzKG91dGxldE1hcCwgZnV0dXJlLCBvdXRsZXQpO1xuICAgICAgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKGZ1dHVyZU5vZGUsIG51bGwsIG91dGxldE1hcCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhY3RpdmF0ZU5ld1JvdXRlcyhcbiAgICAgIG91dGxldE1hcDogUm91dGVyT3V0bGV0TWFwLCBmdXR1cmU6IEFjdGl2YXRlZFJvdXRlLCBvdXRsZXQ6IFJvdXRlck91dGxldCk6IHZvaWQge1xuICAgIGNvbnN0IHJlc29sdmVkID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW1xuICAgICAge3Byb3ZpZGU6IEFjdGl2YXRlZFJvdXRlLCB1c2VWYWx1ZTogZnV0dXJlfSxcbiAgICAgIHtwcm92aWRlOiBSb3V0ZXJPdXRsZXRNYXAsIHVzZVZhbHVlOiBvdXRsZXRNYXB9XG4gICAgXSk7XG4gICAgYWR2YW5jZUFjdGl2YXRlZFJvdXRlKGZ1dHVyZSk7XG4gICAgb3V0bGV0LmFjdGl2YXRlKGZ1dHVyZS5fZnV0dXJlU25hcHNob3QuX3Jlc29sdmVkQ29tcG9uZW50RmFjdG9yeSwgZnV0dXJlLCByZXNvbHZlZCwgb3V0bGV0TWFwKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVhY3RpdmF0ZU91dGxldEFuZEl0Q2hpbGRyZW4ob3V0bGV0OiBSb3V0ZXJPdXRsZXQpOiB2b2lkIHtcbiAgICBpZiAob3V0bGV0ICYmIG91dGxldC5pc0FjdGl2YXRlZCkge1xuICAgICAgZm9yRWFjaChcbiAgICAgICAgICBvdXRsZXQub3V0bGV0TWFwLl9vdXRsZXRzLCAodjogUm91dGVyT3V0bGV0KSA9PiB0aGlzLmRlYWN0aXZhdGVPdXRsZXRBbmRJdENoaWxkcmVuKHYpKTtcbiAgICAgIG91dGxldC5kZWFjdGl2YXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHB1c2hRdWVyeVBhcmFtc0FuZEZyYWdtZW50KHN0YXRlOiBSb3V0ZXJTdGF0ZSk6IHZvaWQge1xuICBpZiAoIXNoYWxsb3dFcXVhbChzdGF0ZS5zbmFwc2hvdC5xdWVyeVBhcmFtcywgKDxhbnk+c3RhdGUucXVlcnlQYXJhbXMpLnZhbHVlKSkge1xuICAgICg8YW55PnN0YXRlLnF1ZXJ5UGFyYW1zKS5uZXh0KHN0YXRlLnNuYXBzaG90LnF1ZXJ5UGFyYW1zKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5zbmFwc2hvdC5mcmFnbWVudCAhPT0gKDxhbnk+c3RhdGUuZnJhZ21lbnQpLnZhbHVlKSB7XG4gICAgKDxhbnk+c3RhdGUuZnJhZ21lbnQpLm5leHQoc3RhdGUuc25hcHNob3QuZnJhZ21lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vZGVDaGlsZHJlbkFzTWFwKG5vZGU6IFRyZWVOb2RlPGFueT4pIHtcbiAgcmV0dXJuIG5vZGUgPyBub2RlLmNoaWxkcmVuLnJlZHVjZSgobTogYW55LCBjOiBUcmVlTm9kZTxhbnk+KSA9PiB7XG4gICAgbVtjLnZhbHVlLm91dGxldF0gPSBjO1xuICAgIHJldHVybiBtO1xuICB9LCB7fSkgOiB7fTtcbn1cblxuZnVuY3Rpb24gZ2V0T3V0bGV0KG91dGxldE1hcDogUm91dGVyT3V0bGV0TWFwLCByb3V0ZTogQWN0aXZhdGVkUm91dGUpOiBSb3V0ZXJPdXRsZXQge1xuICBsZXQgb3V0bGV0ID0gb3V0bGV0TWFwLl9vdXRsZXRzW3JvdXRlLm91dGxldF07XG4gIGlmICghb3V0bGV0KSB7XG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9ICg8YW55PnJvdXRlLmNvbXBvbmVudCkubmFtZTtcbiAgICBpZiAocm91dGUub3V0bGV0ID09PSBQUklNQVJZX09VVExFVCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBwcmltYXJ5IG91dGxldCB0byBsb2FkICcke2NvbXBvbmVudE5hbWV9J2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHRoZSBvdXRsZXQgJHtyb3V0ZS5vdXRsZXR9IHRvIGxvYWQgJyR7Y29tcG9uZW50TmFtZX0nYCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRsZXQ7XG59XG4iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/router.js\n ** module id = 396\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar scan_1 = require('../../operator/scan');\nObservable_1.Observable.prototype.scan = scan_1.scan;\n//# sourceMappingURL=scan.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/operator/scan.js\n ** module id = 397\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concat_1 = require('../../operator/concat');\nObservable_1.Observable.prototype.concat = concat_1.concat;\n//# sourceMappingURL=concat.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/operator/concat.js\n ** module id = 401\n ** module chunks = 0\n **/","\"use strict\";\nvar isScheduler_1 = require('../util/isScheduler');\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar mergeAll_1 = require('./mergeAll');\n/**\n * Creates an output Observable which sequentially emits all values from every\n * given input Observable after the current Observable.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * Joins this Observable with multiple other Observables by subscribing to them\n * one at a time, starting with the source, and merging their results into the\n * output Observable. Will wait for each Observable to complete before moving\n * on to the next.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = timer.concat(sequence);\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Concatenate 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = timer1.concat(timer2, timer3);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {Observable} other An input Observable to concatenate after the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional Scheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @method concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return concatStatic.apply(void 0, [this].concat(observables));\n}\nexports.concat = concat;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from every\n * given input Observable after the current Observable.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * Joins multiple Observables together by subscribing to them one at a time and\n * merging their results into the output Observable. Will wait for each\n * Observable to complete before moving on to the next.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Concatenate 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat(timer1, timer2, timer3);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {Observable} input1 An input Observable to concatenate with others.\n * @param {Observable} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional Scheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nfunction concatStatic() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var scheduler = null;\n    var args = observables;\n    if (isScheduler_1.isScheduler(args[observables.length - 1])) {\n        scheduler = args.pop();\n    }\n    return new ArrayObservable_1.ArrayObservable(observables, scheduler).lift(new mergeAll_1.MergeAllOperator(1));\n}\nexports.concatStatic = concatStatic;\n//# sourceMappingURL=concat.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/operator/concat.js\n ** module id = 402\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concatMap_1 = require('../../operator/concatMap');\nObservable_1.Observable.prototype.concatMap = concatMap_1.concatMap;\n//# sourceMappingURL=concatMap.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/operator/concatMap.js\n ** module id = 403\n ** module chunks = 0\n **/","\"use strict\";\nvar mergeMap_1 = require('./mergeMap');\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, in a serialized fashion waiting for each one to complete before\n * merging the next.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link concatAll}.</span>\n *\n * <img src=\"./img/concatMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each new inner Observable is\n * concatenated with the previous inner Observable.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMap(ev => Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMapTo}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): Observable} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} an observable of values merged from the projected\n * Observables as they were subscribed to, one at a time. Optionally, these\n * values may have been projected from a passed `projectResult` argument.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking values from each projected inner\n * Observable sequentially.\n * @method concatMap\n * @owner Observable\n */\nfunction concatMap(project, resultSelector) {\n    return this.lift(new mergeMap_1.MergeMapOperator(project, resultSelector, 1));\n}\nexports.concatMap = concatMap;\n//# sourceMappingURL=concatMap.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/operator/concatMap.js\n ** module id = 404\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar every_1 = require('../../operator/every');\nObservable_1.Observable.prototype.every = every_1.every;\n//# sourceMappingURL=every.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/operator/every.js\n ** module id = 405\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.\n * @param {function} predicate a function for determining if an item meets a specified condition.\n * @param {any} [thisArg] optional object to use for `this` in the callback\n * @return {Observable} an Observable of booleans that determines if all items of the source Observable meet the condition specified.\n * @method every\n * @owner Observable\n */\nfunction every(predicate, thisArg) {\n    return this.lift(new EveryOperator(predicate, thisArg, this));\n}\nexports.every = every;\nvar EveryOperator = (function () {\n    function EveryOperator(predicate, thisArg, source) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n    }\n    EveryOperator.prototype.call = function (observer, source) {\n        return source._subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n    };\n    return EveryOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar EverySubscriber = (function (_super) {\n    __extends(EverySubscriber, _super);\n    function EverySubscriber(destination, predicate, thisArg, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n        this.index = 0;\n        this.thisArg = thisArg || this;\n    }\n    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {\n        this.destination.next(everyValueMatch);\n        this.destination.complete();\n    };\n    EverySubscriber.prototype._next = function (value) {\n        var result = false;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (!result) {\n            this.notifyComplete(false);\n        }\n    };\n    EverySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return EverySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=every.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/operator/every.js\n ** module id = 406\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mergeAll_1 = require('../../operator/mergeAll');\nObservable_1.Observable.prototype.mergeAll = mergeAll_1.mergeAll;\n//# sourceMappingURL=mergeAll.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/operator/mergeAll.js\n ** module id = 407\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar from_1 = require('../../observable/from');\nObservable_1.Observable.from = from_1.from;\n//# sourceMappingURL=from.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/observable/from.js\n ** module id = 408\n ** module chunks = 0\n **/","\"use strict\";\nvar FromObservable_1 = require('./FromObservable');\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/observable/from.js\n ** module id = 409\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar isFunction_1 = require('../util/isFunction');\nvar isPromise_1 = require('../util/isPromise');\nvar isScheduler_1 = require('../util/isScheduler');\nvar PromiseObservable_1 = require('./PromiseObservable');\nvar IteratorObservable_1 = require('./IteratorObservable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar ArrayLikeObservable_1 = require('./ArrayLikeObservable');\nvar iterator_1 = require('../symbol/iterator');\nvar Observable_1 = require('../Observable');\nvar observeOn_1 = require('../operator/observeOn');\nvar $$observable = require('symbol-observable');\nvar isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {function(x: any, i: number): T} [mapFn] A \"map\" function to call\n     * when converting array-like objects, where `x` is a value from the\n     * array-like and `i` is the index of that value in the sequence.\n     * @param {any} [thisArg] The context object to use when calling the `mapFn`,\n     * if provided.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, mapFnOrScheduler, thisArg, lastScheduler) {\n        var scheduler = null;\n        var mapFn = null;\n        if (isFunction_1.isFunction(mapFnOrScheduler)) {\n            scheduler = lastScheduler || null;\n            mapFn = mapFnOrScheduler;\n        }\n        else if (isScheduler_1.isScheduler(scheduler)) {\n            scheduler = mapFnOrScheduler;\n        }\n        if (ish != null) {\n            if (typeof ish[$$observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.$$iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, null, null, scheduler);\n            }\n            else if (isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, mapFn, thisArg, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[$$observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[$$observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/observable/FromObservable.js\n ** module id = 410\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar isObject_1 = require('../util/isObject');\nvar tryCatch_1 = require('../util/tryCatch');\nvar Observable_1 = require('../Observable');\nvar isFunction_1 = require('../util/isFunction');\nvar iterator_1 = require('../symbol/iterator');\nvar errorObject_1 = require('../util/errorObject');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, project, thisArg, scheduler) {\n        _super.call(this);\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        if (isObject_1.isObject(project)) {\n            this.thisArg = project;\n            this.scheduler = thisArg;\n        }\n        else if (isFunction_1.isFunction(project)) {\n            this.project = project;\n            this.thisArg = thisArg;\n            this.scheduler = scheduler;\n        }\n        else if (project != null) {\n            throw new Error('When provided, `project` must be a function.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, project, thisArg, scheduler) {\n        return new IteratorObservable(iterator, project, thisArg, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, thisArg = state.thisArg, project = state.project, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        if (project) {\n            result = tryCatch_1.tryCatch(project).call(thisArg, result.value, index);\n            if (result === errorObject_1.errorObject) {\n                state.error = errorObject_1.errorObject.e;\n                state.hasError = true;\n            }\n            else {\n                subscriber.next(result);\n                state.index = index + 1;\n            }\n        }\n        else {\n            subscriber.next(result.value);\n            state.index = index + 1;\n        }\n        if (subscriber.isUnsubscribed) {\n            return;\n        }\n        this.schedule(state);\n    };\n    IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, project = _a.project, thisArg = _a.thisArg, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, thisArg: thisArg, project: project, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else if (project) {\n                    result = tryCatch_1.tryCatch(project).call(thisArg, result.value, index++);\n                    if (result === errorObject_1.errorObject) {\n                        subscriber.error(errorObject_1.errorObject.e);\n                        break;\n                    }\n                    subscriber.next(result);\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.isUnsubscribed) {\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.$$iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.$$iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.$$iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('Object is not iterable');\n    }\n    return obj[iterator_1.$$iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/observable/IteratorObservable.js\n ** module id = 411\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, mapFn, thisArg, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!mapFn && !scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n        if (mapFn) {\n            this.mapFn = mapFn.bind(thisArg);\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, mapFn, thisArg, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1 && !mapFn) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, mapFn, thisArg, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, mapFn = state.mapFn, subscriber = state.subscriber;\n        if (subscriber.isUnsubscribed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        var result = mapFn ? mapFn(arrayLike[index], index) : arrayLike[index];\n        subscriber.next(result);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, mapFn = _a.mapFn, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, mapFn: mapFn, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.isUnsubscribed; i++) {\n                var result = mapFn ? mapFn(arrayLike[i], i) : arrayLike[i];\n                subscriber.next(result);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/observable/ArrayLikeObservable.js\n ** module id = 412\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('rxjs/Observable');\nvar of_1 = require('rxjs/observable/of');\nvar shared_1 = require('./shared');\nvar url_tree_1 = require('./url_tree');\nvar NoMatch = (function () {\n    function NoMatch(segment) {\n        if (segment === void 0) { segment = null; }\n        this.segment = segment;\n    }\n    return NoMatch;\n}());\nvar GlobalRedirect = (function () {\n    function GlobalRedirect(paths) {\n        this.paths = paths;\n    }\n    return GlobalRedirect;\n}());\nfunction applyRedirects(urlTree, config) {\n    try {\n        return createUrlTree(urlTree, expandSegment(config, urlTree.root, shared_1.PRIMARY_OUTLET));\n    }\n    catch (e) {\n        if (e instanceof GlobalRedirect) {\n            return createUrlTree(urlTree, new url_tree_1.UrlSegment([], (_a = {}, _a[shared_1.PRIMARY_OUTLET] = new url_tree_1.UrlSegment(e.paths, {}), _a)));\n        }\n        else if (e instanceof NoMatch) {\n            return new Observable_1.Observable(function (obs) {\n                return obs.error(new Error(\"Cannot match any routes: '\" + e.segment + \"'\"));\n            });\n        }\n        else {\n            return new Observable_1.Observable(function (obs) { return obs.error(e); });\n        }\n    }\n    var _a;\n}\nexports.applyRedirects = applyRedirects;\nfunction createUrlTree(urlTree, root) {\n    return of_1.of(new url_tree_1.UrlTree(root, urlTree.queryParams, urlTree.fragment));\n}\nfunction expandSegment(routes, segment, outlet) {\n    if (segment.pathsWithParams.length === 0 && Object.keys(segment.children).length > 0) {\n        return new url_tree_1.UrlSegment([], expandSegmentChildren(routes, segment));\n    }\n    else {\n        return expandPathsWithParams(segment, routes, segment.pathsWithParams, outlet, true);\n    }\n}\nfunction expandSegmentChildren(routes, segment) {\n    return url_tree_1.mapChildren(segment, function (child, childOutlet) { return expandSegment(routes, child, childOutlet); });\n}\nfunction expandPathsWithParams(segment, routes, paths, outlet, allowRedirects) {\n    for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {\n        var r = routes_1[_i];\n        try {\n            return expandPathsWithParamsAgainstRoute(segment, routes, r, paths, outlet, allowRedirects);\n        }\n        catch (e) {\n            if (!(e instanceof NoMatch))\n                throw e;\n        }\n    }\n    throw new NoMatch(segment);\n}\nfunction expandPathsWithParamsAgainstRoute(segment, routes, route, paths, outlet, allowRedirects) {\n    if ((route.outlet ? route.outlet : shared_1.PRIMARY_OUTLET) !== outlet)\n        throw new NoMatch();\n    if (route.redirectTo && !allowRedirects)\n        throw new NoMatch();\n    if (route.redirectTo) {\n        return expandPathsWithParamsAgainstRouteUsingRedirect(segment, routes, route, paths, outlet);\n    }\n    else {\n        return matchPathsWithParamsAgainstRoute(segment, route, paths);\n    }\n}\nfunction expandPathsWithParamsAgainstRouteUsingRedirect(segment, routes, route, paths, outlet) {\n    if (route.path === '**') {\n        return expandWildCardWithParamsAgainstRouteUsingRedirect(route);\n    }\n    else {\n        return expandRegularPathWithParamsAgainstRouteUsingRedirect(segment, routes, route, paths, outlet);\n    }\n}\nfunction expandWildCardWithParamsAgainstRouteUsingRedirect(route) {\n    var newPaths = applyRedirectCommands([], route.redirectTo, {});\n    if (route.redirectTo.startsWith('/')) {\n        throw new GlobalRedirect(newPaths);\n    }\n    else {\n        return new url_tree_1.UrlSegment(newPaths, {});\n    }\n}\nfunction expandRegularPathWithParamsAgainstRouteUsingRedirect(segment, routes, route, paths, outlet) {\n    var _a = match(segment, route, paths), consumedPaths = _a.consumedPaths, lastChild = _a.lastChild, positionalParamSegments = _a.positionalParamSegments;\n    var newPaths = applyRedirectCommands(consumedPaths, route.redirectTo, positionalParamSegments);\n    if (route.redirectTo.startsWith('/')) {\n        throw new GlobalRedirect(newPaths);\n    }\n    else {\n        return expandPathsWithParams(segment, routes, newPaths.concat(paths.slice(lastChild)), outlet, false);\n    }\n}\nfunction matchPathsWithParamsAgainstRoute(segment, route, paths) {\n    if (route.path === '**') {\n        return new url_tree_1.UrlSegment(paths, {});\n    }\n    else {\n        var _a = match(segment, route, paths), consumedPaths = _a.consumedPaths, lastChild = _a.lastChild;\n        var childConfig = route.children ? route.children : [];\n        var slicedPath = paths.slice(lastChild);\n        if (childConfig.length === 0 && slicedPath.length === 0) {\n            return new url_tree_1.UrlSegment(consumedPaths, {});\n        }\n        else if (slicedPath.length === 0 && Object.keys(segment.children).length > 0) {\n            var children = expandSegmentChildren(childConfig, segment);\n            return new url_tree_1.UrlSegment(consumedPaths, children);\n        }\n        else {\n            var cs = expandPathsWithParams(segment, childConfig, slicedPath, shared_1.PRIMARY_OUTLET, true);\n            return new url_tree_1.UrlSegment(consumedPaths.concat(cs.pathsWithParams), cs.children);\n        }\n    }\n}\nfunction match(segment, route, paths) {\n    if (route.path === '') {\n        if (route.terminal && (Object.keys(segment.children).length > 0 || paths.length > 0)) {\n            throw new NoMatch();\n        }\n        else {\n            return { consumedPaths: [], lastChild: 0, positionalParamSegments: {} };\n        }\n    }\n    var path = route.path;\n    var parts = path.split('/');\n    var positionalParamSegments = {};\n    var consumedPaths = [];\n    var currentIndex = 0;\n    for (var i = 0; i < parts.length; ++i) {\n        if (currentIndex >= paths.length)\n            throw new NoMatch();\n        var current = paths[currentIndex];\n        var p = parts[i];\n        var isPosParam = p.startsWith(':');\n        if (!isPosParam && p !== current.path)\n            throw new NoMatch();\n        if (isPosParam) {\n            positionalParamSegments[p.substring(1)] = current;\n        }\n        consumedPaths.push(current);\n        currentIndex++;\n    }\n    if (route.terminal && (Object.keys(segment.children).length > 0 || currentIndex < paths.length)) {\n        throw new NoMatch();\n    }\n    return { consumedPaths: consumedPaths, lastChild: currentIndex, positionalParamSegments: positionalParamSegments };\n}\nfunction applyRedirectCommands(paths, redirectTo, posParams) {\n    if (redirectTo.startsWith('/')) {\n        var parts = redirectTo.substring(1).split('/');\n        return createPaths(redirectTo, parts, paths, posParams);\n    }\n    else {\n        var parts = redirectTo.split('/');\n        return createPaths(redirectTo, parts, paths, posParams);\n    }\n}\nfunction createPaths(redirectTo, parts, segments, posParams) {\n    return parts.map(function (p) { return p.startsWith(':') ? findPosParam(p, posParams, redirectTo) :\n        findOrCreatePath(p, segments); });\n}\nfunction findPosParam(part, posParams, redirectTo) {\n    var paramName = part.substring(1);\n    var pos = posParams[paramName];\n    if (!pos)\n        throw new Error(\"Cannot redirect to '\" + redirectTo + \"'. Cannot find '\" + part + \"'.\");\n    return pos;\n}\nfunction findOrCreatePath(part, paths) {\n    var matchingIndex = paths.findIndex(function (s) { return s.path === part; });\n    if (matchingIndex > -1) {\n        var r = paths[matchingIndex];\n        paths.splice(matchingIndex);\n        return r;\n    }\n    else {\n        return new url_tree_1.UrlPathWithParams(part, {});\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbHlfcmVkaXJlY3RzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2FwcGx5X3JlZGlyZWN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsMkJBQXlCLGlCQUFpQixDQUFDLENBQUE7QUFFM0MsbUJBQWtCLG9CQUFvQixDQUFDLENBQUE7QUFHdkMsdUJBQTZCLFVBQVUsQ0FBQyxDQUFBO0FBQ3hDLHlCQUFrRSxZQUFZLENBQUMsQ0FBQTtBQUUvRTtJQUNFLGlCQUFtQixPQUEwQjtRQUFqQyx1QkFBaUMsR0FBakMsY0FBaUM7UUFBMUIsWUFBTyxHQUFQLE9BQU8sQ0FBbUI7SUFBRyxDQUFDO0lBQ25ELGNBQUM7QUFBRCxDQUFDLEFBRkQsSUFFQztBQUNEO0lBQ0Usd0JBQW1CLEtBQTBCO1FBQTFCLFVBQUssR0FBTCxLQUFLLENBQXFCO0lBQUcsQ0FBQztJQUNuRCxxQkFBQztBQUFELENBQUMsQUFGRCxJQUVDO0FBRUQsd0JBQStCLE9BQWdCLEVBQUUsTUFBb0I7SUFDbkUsSUFBSSxDQUFDO1FBQ0gsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLHVCQUFjLENBQUMsQ0FBQyxDQUFDO0lBQ3JGLENBQUU7SUFBQSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLGFBQWEsQ0FDaEIsT0FBTyxFQUFFLElBQUkscUJBQVUsQ0FBQyxFQUFFLEVBQUUsVUFBQyxHQUFDLHVCQUFjLENBQUMsR0FBRSxJQUFJLHFCQUFVLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxPQUFPLENB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Q0FBQztRQUN0QyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLEVBRGpELENBQ2lELENBQUMsQ0FBQztBQUM5RCxDQUFDO0FBRUQsc0JBQ0ksSUFBWSxFQUFFLFNBQTJDLEVBQ3pELFVBQWtCO0lBQ3BCLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEMsSUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyx5QkFBdUIsVUFBVSx3QkFBbUIsSUFBSSxPQUFJLENBQUMsQ0FBQztJQUN4RixNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVELDBCQUEwQixJQUFZLEVBQUUsS0FBMEI7SUFDaEUsSUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFmLENBQWUsQ0FBQyxDQUFDO0lBQzVELEVBQUUsQ0FBQyxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQy9CLEtBQUssQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLE1BQU0sQ0FBQyxJQUFJLDRCQUFpQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6QyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCB7T2JzZXJ2ZXJ9IGZyb20gJ3J4anMvT2JzZXJ2ZXInO1xuaW1wb3J0IHtvZiB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5cbmltcG9ydCB7Um91dGUsIFJvdXRlckNvbmZpZ30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHtQUklNQVJZX09VVExFVH0gZnJvbSAnLi9zaGFyZWQnO1xuaW1wb3J0IHtVcmxQYXRoV2l0aFBhcmFtcywgVXJsU2VnbWVudCwgVXJsVHJlZSwgbWFwQ2hpbGRyZW59IGZyb20gJy4vdXJsX3RyZWUnO1xuXG5jbGFzcyBOb01hdGNoIHtcbiAgY29uc3RydWN0b3IocHVibGljIHNlZ21lbnQ6IFVybFNlZ21lbnQgPSBudWxsKSB7fVxufVxuY2xhc3MgR2xvYmFsUmVkaXJlY3Qge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF0aHM6IFVybFBhdGhXaXRoUGFyYW1zW10pIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVJlZGlyZWN0cyh1cmxUcmVlOiBVcmxUcmVlLCBjb25maWc6IFJvdXRlckNvbmZpZyk6IE9ic2VydmFibGU8VXJsVHJlZT4ge1xuICB0cnkge1xuICAgIHJldHVybiBjcmVhdGVVcmxUcmVlKHVybFRyZWUsIGV4cGFuZFNlZ21lbnQoY29uZmlnLCB1cmxUcmVlLnJvb3QsIFBSSU1BUllfT1VUTEVUKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEdsb2JhbFJlZGlyZWN0KSB7XG4gICAgICByZXR1cm4gY3JlYXRlVXJsVHJlZShcbiAgICAgICAgICB1cmxUcmVlLCBuZXcgVXJsU2VnbWVudChbXSwge1tQUklNQVJZX09VVExFVF06IG5ldyBVcmxTZWdtZW50KGUucGF0aHMsIHt9KX0pKTtcbiAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBOb01hdGNoKSB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VXJsVHJlZT4oXG4gICAgICAgICAgKG9iczogT2JzZXJ2ZXI8VXJsVHJlZT4pID0+XG4gICAgICAgICAgICAgIG9icy5lcnJvcihuZXcgRXJyb3IoYENhbm5vdCBtYXRjaCBhbnkgcm91dGVzOiAnJHtlLnNlZ21lbnR9J2ApKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxVcmxUcmVlPigob2JzOiBPYnNlcnZlcjxVcmxUcmVlPikgPT4gb2JzLmVycm9yKGUpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVXJsVHJlZSh1cmxUcmVlOiBVcmxUcmVlLCByb290OiBVcmxTZWdtZW50KTogT2JzZXJ2YWJsZTxVcmxUcmVlPiB7XG4gIHJldHVybiBvZiAobmV3IFVybFRyZWUocm9vdCwgdXJsVHJlZS5xdWVyeVBhcmFtcywgdXJsVHJlZS5mcmFnbWVudCkpO1xufVxuXG5mdW5jdGlvbiBleHBhbmRTZWdtZW50KHJvdXRlczogUm91dGVbXSwgc2VnbWVudDogVXJsU2VnbWVudCwgb3V0bGV0OiBzdHJpbmcpOiBVcmxTZWdtZW50IHtcbiAgaWYgKHNlZ21lbnQucGF0aHNXaXRoUGFyYW1zLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhzZWdtZW50LmNoaWxkcmVuKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIG5ldyBVcmxTZWdtZW50KFtdLCBleHBhbmRTZWdtZW50Q2hpbGRyZW4ocm91dGVzLCBzZWdtZW50KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV4cGFuZFBhdGhzV2l0aFBhcmFtcyhzZWdtZW50LCByb3V0ZXMsIHNlZ21lbnQucGF0aHNXaXRoUGFyYW1zLCBvdXRsZXQsIHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFNlZ21lbnRDaGlsZHJlbihyb3V0ZXM6IFJvdXRlW10sIHNlZ21lbnQ6IFVybFNlZ21lbnQpOiB7W25hbWU6IHN0cmluZ106IFVybFNlZ21lbnR9IHtcbiAgcmV0dXJuIG1hcENoaWxkcmVuKHNlZ21lbnQsIChjaGlsZCwgY2hpbGRPdXRsZXQpID0+IGV4cGFuZFNlZ21lbnQocm91dGVzLCBjaGlsZCwgY2hpbGRPdXRsZXQpKTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kUGF0aHNXaXRoUGFyYW1zKFxuICAgIHNlZ21lbnQ6IFVybFNlZ21lbnQsIHJvdXRlczogUm91dGVbXSwgcGF0aHM6IFVybFBhdGhXaXRoUGFyYW1zW10sIG91dGxldDogc3RyaW5nLFxuICAgIGFsbG93UmVkaXJlY3RzOiBib29sZWFuKTogVXJsU2VnbWVudCB7XG4gIGZvciAobGV0IHIgb2Ygcm91dGVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBleHBhbmRQYXRoc1dpdGhQYXJhbXNBZ2FpbnN0Um91dGUoc2VnbWVudCwgcm91dGVzLCByLCBwYXRocywgb3V0bGV0LCBhbGxvd1JlZGlyZWN0cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIE5vTWF0Y2gpKSB0aHJvdyBlO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgTm9NYXRjaChzZWdtZW50KTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kUGF0aHNXaXRoUGFyYW1zQWdhaW5zdFJvdXRlKFxuICAgIHNlZ21lbnQ6IFVybFNlZ21lbnQsIHJvdXRlczogUm91dGVbXSwgcm91dGU6IFJvdXRlLCBwYXRoczogVXJsUGF0aFdpdGhQYXJhbXNbXSwgb3V0bGV0OiBzdHJpbmcsXG4gICAgYWxsb3dSZWRpcmVjdHM6IGJvb2xlYW4pOiBVcmxTZWdtZW50IHtcbiAgaWYgKChyb3V0ZS5vdXRsZXQgPyByb3V0ZS5vdXRsZXQgOiBQUklNQVJZX09VVExFVCkgIT09IG91dGxldCkgdGhyb3cgbmV3IE5vTWF0Y2goKTtcbiAgaWYgKHJvdXRlLnJlZGlyZWN0VG8gJiYgIWFsbG93UmVkaXJlY3RzKSB0aHJvdyBuZXcgTm9NYXRjaCgpO1xuXG4gIGlmIChyb3V0ZS5yZWRpcmVjdFRvKSB7XG4gICAgcmV0dXJuIGV4cGFuZFBhdGhzV2l0aFBhcmFtc0FnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3Qoc2VnbWVudCwgcm91dGVzLCByb3V0ZSwgcGF0aHMsIG91dGxldCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG1hdGNoUGF0aHNXaXRoUGFyYW1zQWdhaW5zdFJvdXRlKHNlZ21lbnQsIHJvdXRlLCBwYXRocyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kUGF0aHNXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdChcbiAgICBzZWdtZW50OiBVcmxTZWdtZW50LCByb3V0ZXM6IFJvdXRlW10sIHJvdXRlOiBSb3V0ZSwgcGF0aHM6IFVybFBhdGhXaXRoUGFyYW1zW10sXG4gICAgb3V0bGV0OiBzdHJpbmcpOiBVcmxTZWdtZW50IHtcbiAgaWYgKHJvdXRlLnBhdGggPT09ICcqKicpIHtcbiAgICByZXR1cm4gZXhwYW5kV2lsZENhcmRXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdChyb3V0ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV4cGFuZFJlZ3VsYXJQYXRoV2l0aFBhcmFtc0FnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QoXG4gICAgICAgIHNlZ21lbnQsIHJvdXRlcywgcm91dGUsIHBhdGhzLCBvdXRsZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFdpbGRDYXJkV2l0aFBhcmFtc0FnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3Qocm91dGU6IFJvdXRlKTogVXJsU2VnbWVudCB7XG4gIGNvbnN0IG5ld1BhdGhzID0gYXBwbHlSZWRpcmVjdENvbW1hbmRzKFtdLCByb3V0ZS5yZWRpcmVjdFRvLCB7fSk7XG4gIGlmIChyb3V0ZS5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgIHRocm93IG5ldyBHbG9iYWxSZWRpcmVjdChuZXdQYXRocyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBVcmxTZWdtZW50KG5ld1BhdGhzLCB7fSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kUmVndWxhclBhdGhXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdChcbiAgICBzZWdtZW50OiBVcmxTZWdtZW50LCByb3V0ZXM6IFJvdXRlW10sIHJvdXRlOiBSb3V0ZSwgcGF0aHM6IFVybFBhdGhXaXRoUGFyYW1zW10sXG4gICAgb3V0bGV0OiBzdHJpbmcpOiBVcmxTZWdtZW50IHtcbiAgY29uc3Qge2NvbnN1bWVkUGF0aHMsIGxhc3RDaGlsZCwgcG9zaXRpb25hbFBhcmFtU2VnbWVudHN9ID0gbWF0Y2goc2VnbWVudCwgcm91dGUsIHBhdGhzKTtcbiAgY29uc3QgbmV3UGF0aHMgPVxuICAgICAgYXBwbHlSZWRpcmVjdENvbW1hbmRzKGNvbnN1bWVkUGF0aHMsIHJvdXRlLnJlZGlyZWN0VG8sIDxhbnk+cG9zaXRpb25hbFBhcmFtU2VnbWVudHMpO1xuICBpZiAocm91dGUucmVkaXJlY3RUby5zdGFydHNXaXRoKCcvJykpIHtcbiAgICB0aHJvdyBuZXcgR2xvYmFsUmVkaXJlY3QobmV3UGF0aHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleHBhbmRQYXRoc1dpdGhQYXJhbXMoXG4gICAgICAgIHNlZ21lbnQsIHJvdXRlcywgbmV3UGF0aHMuY29uY2F0KHBhdGhzLnNsaWNlKGxhc3RDaGlsZCkpLCBvdXRsZXQsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaFBhdGhzV2l0aFBhcmFtc0FnYWluc3RSb3V0ZShcbiAgICBzZWdtZW50OiBVcmxTZWdtZW50LCByb3V0ZTogUm91dGUsIHBhdGhzOiBVcmxQYXRoV2l0aFBhcmFtc1tdKTogVXJsU2VnbWVudCB7XG4gIGlmIChyb3V0ZS5wYXRoID09PSAnKionKSB7XG4gICAgcmV0dXJuIG5ldyBVcmxTZWdtZW50KHBhdGhzLCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qge2NvbnN1bWVkUGF0aHMsIGxhc3RDaGlsZH0gPSBtYXRjaChzZWdtZW50LCByb3V0ZSwgcGF0aHMpO1xuICAgIGNvbnN0IGNoaWxkQ29uZmlnID0gcm91dGUuY2hpbGRyZW4gPyByb3V0ZS5jaGlsZHJlbiA6IFtdO1xuICAgIGNvbnN0IHNsaWNlZFBhdGggPSBwYXRocy5zbGljZShsYXN0Q2hpbGQpO1xuXG4gICAgaWYgKGNoaWxkQ29uZmlnLmxlbmd0aCA9PT0gMCAmJiBzbGljZWRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBVcmxTZWdtZW50KGNvbnN1bWVkUGF0aHMsIHt9KTtcblxuICAgICAgLy8gVE9ETzogY2hlY2sgdGhhdCB0aGUgcmlnaHQgc2VnbWVudCBpcyBwcmVzZW50XG4gICAgfSBlbHNlIGlmIChzbGljZWRQYXRoLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhzZWdtZW50LmNoaWxkcmVuKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGV4cGFuZFNlZ21lbnRDaGlsZHJlbihjaGlsZENvbmZpZywgc2VnbWVudCk7XG4gICAgICByZXR1cm4gbmV3IFVybFNlZ21lbnQoY29uc3VtZWRQYXRocywgY2hpbGRyZW4pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNzID0gZXhwYW5kUGF0aHNXaXRoUGFyYW1zKHNlZ21lbnQsIGNoaWxkQ29uZmlnLCBzbGljZWRQYXRoLCBQUklNQVJZX09VVExFVCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gbmV3IFVybFNlZ21lbnQoY29uc3VtZWRQYXRocy5jb25jYXQoY3MucGF0aHNXaXRoUGFyYW1zKSwgY3MuY2hpbGRyZW4pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaChzZWdtZW50OiBVcmxTZWdtZW50LCByb3V0ZTogUm91dGUsIHBhdGhzOiBVcmxQYXRoV2l0aFBhcmFtc1tdKToge1xuICBjb25zdW1lZFBhdGhzOiBVcmxQYXRoV2l0aFBhcmFtc1tdLFxuICBsYXN0Q2hpbGQ6IG51bWJlcixcbiAgcG9zaXRpb25hbFBhcmFtU2VnbWVudHM6IHtbazogc3RyaW5nXTogVXJsUGF0aFdpdGhQYXJhbXN9XG59IHtcbiAgaWYgKHJvdXRlLnBhdGggPT09ICcnKSB7XG4gICAgaWYgKHJvdXRlLnRlcm1pbmFsICYmIChPYmplY3Qua2V5cyhzZWdtZW50LmNoaWxkcmVuKS5sZW5ndGggPiAwIHx8IHBhdGhzLmxlbmd0aCA+IDApKSB7XG4gICAgICB0aHJvdyBuZXcgTm9NYXRjaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge2NvbnN1bWVkUGF0aHM6IFtdLCBsYXN0Q2hpbGQ6IDAsIHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOiB7fX07XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGF0aCA9IHJvdXRlLnBhdGg7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICBjb25zdCBwb3NpdGlvbmFsUGFyYW1TZWdtZW50czoge1trOiBzdHJpbmddOiBVcmxQYXRoV2l0aFBhcmFtc30gPSB7fTtcbiAgY29uc3QgY29uc3VtZWRQYXRoczogVXJsUGF0aFdpdGhQYXJhbXNbXSA9IFtdO1xuXG4gIGxldCBjdXJyZW50SW5kZXggPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoY3VycmVudEluZGV4ID49IHBhdGhzLmxlbmd0aCkgdGhyb3cgbmV3IE5vTWF0Y2goKTtcbiAgICBjb25zdCBjdXJyZW50ID0gcGF0aHNbY3VycmVudEluZGV4XTtcblxuICAgIGNvbnN0IHAgPSBwYXJ0c1tpXTtcbiAgICBjb25zdCBpc1Bvc1BhcmFtID0gcC5zdGFydHNXaXRoKCc6Jyk7XG5cbiAgICBpZiAoIWlzUG9zUGFyYW0gJiYgcCAhPT0gY3VycmVudC5wYXRoKSB0aHJvdyBuZXcgTm9NYXRjaCgpO1xuICAgIGlmIChpc1Bvc1BhcmFtKSB7XG4gICAgICBwb3NpdGlvbmFsUGFyYW1TZWdtZW50c1twLnN1YnN0cmluZygxKV0gPSBjdXJyZW50O1xuICAgIH1cbiAgICBjb25zdW1lZFBhdGhzLnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudEluZGV4Kys7XG4gIH1cblxuICBpZiAocm91dGUudGVybWluYWwgJiYgKE9iamVjdC5rZXlzKHNlZ21lbnQuY2hpbGRyZW4pLmxlbmd0aCA+IDAgfHwgY3VycmVudEluZGV4IDwgcGF0aHMubGVuZ3RoKSkge1xuICAgIHRocm93IG5ldyBOb01hdGNoKCk7XG4gIH1cblxuICByZXR1cm4ge2NvbnN1bWVkUGF0aHMsIGxhc3RDaGlsZDogY3VycmVudEluZGV4LCBwb3NpdGlvbmFsUGFyYW1TZWdtZW50c307XG59XG5cbmZ1bmN0aW9uIGFwcGx5UmVkaXJlY3RDb21tYW5kcyhcbiAgICBwYXRoczogVXJsUGF0aFdpdGhQYXJhbXNbXSwgcmVkaXJlY3RUbzogc3RyaW5nLFxuICAgIHBvc1BhcmFtczoge1trOiBzdHJpbmddOiBVcmxQYXRoV2l0aFBhcmFtc30pOiBVcmxQYXRoV2l0aFBhcmFtc1tdIHtcbiAgaWYgKHJlZGlyZWN0VG8uc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgY29uc3QgcGFydHMgPSByZWRpcmVjdFRvLnN1YnN0cmluZygxKS5zcGxpdCgnLycpO1xuICAgIHJldHVybiBjcmVhdGVQYXRocyhyZWRpcmVjdFRvLCBwYXJ0cywgcGF0aHMsIHBvc1BhcmFtcyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcGFydHMgPSByZWRpcmVjdFRvLnNwbGl0KCcvJyk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhdGhzKHJlZGlyZWN0VG8sIHBhcnRzLCBwYXRocywgcG9zUGFyYW1zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXRocyhcbiAgICByZWRpcmVjdFRvOiBzdHJpbmcsIHBhcnRzOiBzdHJpbmdbXSwgc2VnbWVudHM6IFVybFBhdGhXaXRoUGFyYW1zW10sXG4gICAgcG9zUGFyYW1zOiB7W2s6IHN0cmluZ106IFVybFBhdGhXaXRoUGFyYW1zfSk6IFVybFBhdGhXaXRoUGFyYW1zW10ge1xuICByZXR1cm4gcGFydHMubWFwKFxuICAgICAgcCA9PiBwLnN0YXJ0c1dpdGgoJzonKSA/IGZpbmRQb3NQYXJhbShwLCBwb3NQYXJhbXMsIHJlZGlyZWN0VG8pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kT3JDcmVhdGVQYXRoKHAsIHNlZ21lbnRzKSk7XG59XG5cbmZ1bmN0aW9uIGZpbmRQb3NQYXJhbShcbiAgICBwYXJ0OiBzdHJpbmcsIHBvc1BhcmFtczoge1trOiBzdHJpbmddOiBVcmxQYXRoV2l0aFBhcmFtc30sXG4gICAgcmVkaXJlY3RUbzogc3RyaW5nKTogVXJsUGF0aFdpdGhQYXJhbXMge1xuICBjb25zdCBwYXJhbU5hbWUgPSBwYXJ0LnN1YnN0cmluZygxKTtcbiAgY29uc3QgcG9zID0gcG9zUGFyYW1zW3BhcmFtTmFtZV07XG4gIGlmICghcG9zKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWRpcmVjdCB0byAnJHtyZWRpcmVjdFRvfScuIENhbm5vdCBmaW5kICcke3BhcnR9Jy5gKTtcbiAgcmV0dXJuIHBvcztcbn1cblxuZnVuY3Rpb24gZmluZE9yQ3JlYXRlUGF0aChwYXJ0OiBzdHJpbmcsIHBhdGhzOiBVcmxQYXRoV2l0aFBhcmFtc1tdKTogVXJsUGF0aFdpdGhQYXJhbXMge1xuICBjb25zdCBtYXRjaGluZ0luZGV4ID0gcGF0aHMuZmluZEluZGV4KHMgPT4gcy5wYXRoID09PSBwYXJ0KTtcbiAgaWYgKG1hdGNoaW5nSW5kZXggPiAtMSkge1xuICAgIGNvbnN0IHIgPSBwYXRoc1ttYXRjaGluZ0luZGV4XTtcbiAgICBwYXRocy5zcGxpY2UobWF0Y2hpbmdJbmRleCk7XG4gICAgcmV0dXJuIHI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBVcmxQYXRoV2l0aFBhcmFtcyhwYXJ0LCB7fSk7XG4gIH1cbn1cbiJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/apply_redirects.js\n ** module id = 415\n ** module chunks = 0\n **/","\"use strict\";\nexports.PRIMARY_OUTLET = 'PRIMARY_OUTLET';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NoYXJlZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBSWEsc0JBQWMsR0FBRyxnQkFBZ0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTmFtZSBvZiB0aGUgcHJpbWFyeSBvdXRsZXQuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgUFJJTUFSWV9PVVRMRVQgPSAnUFJJTUFSWV9PVVRMRVQnO1xuXG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgdHlwZSBQYXJhbXMgPSB7XG4gIFtrZXk6IHN0cmluZ106IGFueVxufTtcbiJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/shared.js\n ** module id = 416\n ** module chunks = 0\n **/","\"use strict\";\nvar shared_1 = require('./shared');\nvar url_serializer_1 = require('./url_serializer');\nvar collection_1 = require('./utils/collection');\nfunction createEmptyUrlTree() {\n    return new UrlTree(new UrlSegment([], {}), {}, null);\n}\nexports.createEmptyUrlTree = createEmptyUrlTree;\nfunction containsTree(container, containee, exact) {\n    if (exact) {\n        return equalSegments(container.root, containee.root);\n    }\n    else {\n        return containsSegment(container.root, containee.root);\n    }\n}\nexports.containsTree = containsTree;\nfunction equalSegments(container, containee) {\n    if (!equalPath(container.pathsWithParams, containee.pathsWithParams))\n        return false;\n    if (Object.keys(container.children).length !== Object.keys(containee.children).length)\n        return false;\n    for (var c in containee.children) {\n        if (!container.children[c])\n            return false;\n        if (!equalSegments(container.children[c], containee.children[c]))\n            return false;\n    }\n    return true;\n}\nfunction containsSegment(container, containee) {\n    return containsSegmentHelper(container, containee, containee.pathsWithParams);\n}\nfunction containsSegmentHelper(container, containee, containeePaths) {\n    if (container.pathsWithParams.length > containeePaths.length) {\n        var current = container.pathsWithParams.slice(0, containeePaths.length);\n        if (!equalPath(current, containeePaths))\n            return false;\n        if (Object.keys(containee.children).length > 0)\n            return false;\n        return true;\n    }\n    else if (container.pathsWithParams.length === containeePaths.length) {\n        if (!equalPath(container.pathsWithParams, containeePaths))\n            return false;\n        for (var c in containee.children) {\n            if (!container.children[c])\n                return false;\n            if (!containsSegment(container.children[c], containee.children[c]))\n                return false;\n        }\n        return true;\n    }\n    else {\n        var current = containeePaths.slice(0, container.pathsWithParams.length);\n        var next = containeePaths.slice(container.pathsWithParams.length);\n        if (!equalPath(container.pathsWithParams, current))\n            return false;\n        return containsSegmentHelper(container.children[shared_1.PRIMARY_OUTLET], containee, next);\n    }\n}\nvar UrlTree = (function () {\n    function UrlTree(root, queryParams, fragment) {\n        this.root = root;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n    }\n    UrlTree.prototype.toString = function () { return new url_serializer_1.DefaultUrlSerializer().serialize(this); };\n    return UrlTree;\n}());\nexports.UrlTree = UrlTree;\nvar UrlSegment = (function () {\n    function UrlSegment(pathsWithParams, children) {\n        var _this = this;\n        this.pathsWithParams = pathsWithParams;\n        this.children = children;\n        this.parent = null;\n        collection_1.forEach(children, function (v, k) { return v.parent = _this; });\n    }\n    UrlSegment.prototype.toString = function () { return url_serializer_1.serializePaths(this); };\n    return UrlSegment;\n}());\nexports.UrlSegment = UrlSegment;\nvar UrlPathWithParams = (function () {\n    function UrlPathWithParams(path, parameters) {\n        this.path = path;\n        this.parameters = parameters;\n    }\n    UrlPathWithParams.prototype.toString = function () { return url_serializer_1.serializePath(this); };\n    return UrlPathWithParams;\n}());\nexports.UrlPathWithParams = UrlPathWithParams;\nfunction equalPathsWithParams(a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (var i = 0; i < a.length; ++i) {\n        if (a[i].path !== b[i].path)\n            return false;\n        if (!collection_1.shallowEqual(a[i].parameters, b[i].parameters))\n            return false;\n    }\n    return true;\n}\nexports.equalPathsWithParams = equalPathsWithParams;\nfunction equalPath(a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (var i = 0; i < a.length; ++i) {\n        if (a[i].path !== b[i].path)\n            return false;\n    }\n    return true;\n}\nexports.equalPath = equalPath;\nfunction mapChildren(segment, fn) {\n    var newChildren = {};\n    collection_1.forEach(segment.children, function (child, childOutlet) {\n        if (childOutlet === shared_1.PRIMARY_OUTLET) {\n            newChildren[childOutlet] = fn(child, childOutlet);\n        }\n    });\n    collection_1.forEach(segment.children, function (child, childOutlet) {\n        if (childOutlet !== shared_1.PRIMARY_OUTLET) {\n            newChildren[childOutlet] = fn(child, childOutlet);\n        }\n    });\n    return newChildren;\n}\nexports.mapChildren = mapChildren;\nfunction mapChildrenIntoArray(segment, fn) {\n    var res = [];\n    collection_1.forEach(segment.children, function (child, childOutlet) {\n        if (childOutlet === shared_1.PRIMARY_OUTLET) {\n            res = res.concat(fn(child, childOutlet));\n        }\n    });\n    collection_1.forEach(segment.children, function (child, childOutlet) {\n        if (childOutlet !== shared_1.PRIMARY_OUTLET) {\n            res = res.concat(fn(child, childOutlet));\n        }\n    });\n    return res;\n}\nexports.mapChildrenIntoArray = mapChildrenIntoArray;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsX3RyZWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXJsX3RyZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHVCQUE2QixVQUFVLENBQUMsQ0FBQTtBQUN4QywrQkFBa0Usa0JBQWtCLENBQUMsQ0FBQTtBQUNyRiwyQkFBb0Msb0JBQW9CLENBQUMsQ0FBQTtBQUV6RDtJQUNFLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZELENBQUM7QUFGZSwwQkFBa0IscUJBRWpDLENBQUE7QUFFRCxzQkFBNkIsU0FBa0IsRUFBRSxTQUFrQixFQUFFLEtBQWM7SUFDakYsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNWLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sTUFBTSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6RCxDQUFDO0FBQ0gsQ0FBQztBQU5lLG9CQUFZLGVBTTNCLENBQUE7QUFFRCx1QkFBdUIsU0FBcUIsRUFBRSxTQUFxQjtJQUNqRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDbkYsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNwRixNQUFN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Q0FBQyxDQUFDLENBQUM7WUFDbkMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDYixDQUFDO0FBZGUsNEJBQW9CLHVCQWNuQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQUklNQVJZX09VVExFVH0gZnJvbSAnLi9zaGFyZWQnO1xuaW1wb3J0IHtEZWZhdWx0VXJsU2VyaWFsaXplciwgc2VyaWFsaXplUGF0aCwgc2VyaWFsaXplUGF0aHN9IGZyb20gJy4vdXJsX3NlcmlhbGl6ZXInO1xuaW1wb3J0IHtmb3JFYWNoLCBzaGFsbG93RXF1YWx9IGZyb20gJy4vdXRpbHMvY29sbGVjdGlvbic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbXB0eVVybFRyZWUoKSB7XG4gIHJldHVybiBuZXcgVXJsVHJlZShuZXcgVXJsU2VnbWVudChbXSwge30pLCB7fSwgbnVsbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1RyZWUoY29udGFpbmVyOiBVcmxUcmVlLCBjb250YWluZWU6IFVybFRyZWUsIGV4YWN0OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGlmIChleGFjdCkge1xuICAgIHJldHVybiBlcXVhbFNlZ21lbnRzKGNvbnRhaW5lci5yb290LCBjb250YWluZWUucm9vdCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudChjb250YWluZXIucm9vdCwgY29udGFpbmVlLnJvb3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVxdWFsU2VnbWVudHMoY29udGFpbmVyOiBVcmxTZWdtZW50LCBjb250YWluZWU6IFVybFNlZ21lbnQpOiBib29sZWFuIHtcbiAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnBhdGhzV2l0aFBhcmFtcywgY29udGFpbmVlLnBhdGhzV2l0aFBhcmFtcykpIHJldHVybiBmYWxzZTtcbiAgaWYgKE9iamVjdC5rZXlzKGNvbnRhaW5lci5jaGlsZHJlbikubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhjb250YWluZWUuY2hpbGRyZW4pLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGZvciAobGV0IGMgaW4gY29udGFpbmVlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bY10pIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFsU2VnbWVudHMoY29udGFpbmVyLmNoaWxkcmVuW2NdLCBjb250YWluZWUuY2hpbGRyZW5bY10pKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5zU2VnbWVudChjb250YWluZXI6IFVybFNlZ21lbnQsIGNvbnRhaW5lZTogVXJsU2VnbWVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29udGFpbnNTZWdtZW50SGVscGVyKGNvbnRhaW5lciwgY29udGFpbmVlLCBjb250YWluZWUucGF0aHNXaXRoUGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gY29udGFpbnNTZWdtZW50SGVscGVyKFxuICAgIGNvbnRhaW5lcjogVXJsU2VnbWVudCwgY29udGFpbmVlOiBVcmxTZWdtZW50LCBjb250YWluZWVQYXRoczogVXJsUGF0aFdpdGhQYXJhbXNbXSk6IGJvb2xlYW4ge1xuICBpZiAoY29udGFpbmVyLnBhdGhzV2l0aFBhcmFtcy5sZW5ndGggPiBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICBjb25zdCBjdXJyZW50ID0gY29udGFpbmVyLnBhdGhzV2l0aFBhcmFtcy5zbGljZSgwLCBjb250YWluZWVQYXRocy5sZW5ndGgpO1xuICAgIGlmICghZXF1YWxQYXRoKGN1cnJlbnQsIGNvbnRhaW5lZVBhdGhzKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChPYmplY3Qua2V5cyhjb250YWluZWUuY2hpbGRyZW4pLmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB9IGVsc2UgaWYgKGNvbnRhaW5lci5wYXRoc1dpdGhQYXJhbXMubGVuZ3RoID09PSBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIucGF0aHNXaXRoUGFyYW1zLCBjb250YWluZWVQYXRocykpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBjIGluIGNvbnRhaW5lZS5jaGlsZHJlbikge1xuICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bY10pIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghY29udGFpbnNTZWdtZW50KGNvbnRhaW5lci5jaGlsZHJlbltjXSwgY29udGFpbmVlLmNoaWxkcmVuW2NdKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcblxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBjb250YWluZWVQYXRocy5zbGljZSgwLCBjb250YWluZXIucGF0aHNXaXRoUGFyYW1zLmxlbmd0aCk7XG4gICAgY29uc3QgbmV4dCA9IGNvbnRhaW5lZVBhdGhzLnNsaWNlKGNvbnRhaW5lci5wYXRoc1dpdGhQYXJhbXMubGVuZ3RoKTtcbiAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIucGF0aHNXaXRoUGFyYW1zLCBjdXJyZW50KSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBjb250YWluc1NlZ21lbnRIZWxwZXIoY29udGFpbmVyLmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSwgY29udGFpbmVlLCBuZXh0KTtcbiAgfVxufVxuXG4vKipcbiAqIEEgVVJMIGluIHRoZSB0cmVlIGZvcm0uXG4gKi9cbmV4cG9ydCBjbGFzcyBVcmxUcmVlIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgICBwdWJsaWMgcm9vdDogVXJsU2VnbWVudCwgcHVibGljIHF1ZXJ5UGFyYW1zOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSxcbiAgICAgIHB1YmxpYyBmcmFnbWVudDogc3RyaW5nKSB7fVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7IHJldHVybiBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKS5zZXJpYWxpemUodGhpcyk7IH1cbn1cblxuZXhwb3J0IGNsYXNzIFVybFNlZ21lbnQge1xuICBwdWJsaWMgcGFyZW50OiBVcmxTZWdtZW50ID0gbnVsbDtcbiAgY29uc3RydWN0b3IoXG4gICAgICBwdWJsaWMgcGF0aHNXaXRoUGFyYW1zOiBVcmxQYXRoV2l0aFBhcmFtc1tdLCBwdWJsaWMgY2hpbGRyZW46IHtba2V5OiBzdHJpbmddOiBVcmxTZWdtZW50fSkge1xuICAgIGZvckVhY2goY2hpbGRyZW4sICh2OiBhbnksIGs6IGFueSkgPT4gdi5wYXJlbnQgPSB0aGlzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7IHJldHVybiBzZXJpYWxpemVQYXRocyh0aGlzKTsgfVxufVxuXG5leHBvcnQgY2xhc3MgVXJsUGF0aFdpdGhQYXJhbXMge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF0aDogc3RyaW5nLCBwdWJsaWMgcGFyYW1ldGVyczoge1trZXk6IHN0cmluZ106IHN0cmluZ30pIHt9XG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7IHJldHVybiBzZXJpYWxpemVQYXRoKHRoaXMpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbFBhdGhzV2l0aFBhcmFtcyhhOiBVcmxQYXRoV2l0aFBhcmFtc1tdLCBiOiBVcmxQYXRoV2l0aFBhcmFtc1tdKTogYm9vbGVhbiB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFbaV0ucGF0aCAhPT0gYltpXS5wYXRoKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFzaGFsbG93RXF1YWwoYVtpXS5wYXJhbWV0ZXJzLCBiW2ldLnBhcmFtZXRlcnMpKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbFBhdGgoYTogVXJsUGF0aFdpdGhQYXJhbXNbXSwgYjogVXJsUGF0aFdpdGhQYXJhbXNbXSk6IGJvb2xlYW4ge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhW2ldLnBhdGggIT09IGJbaV0ucGF0aCkgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwQ2hpbGRyZW4oc2VnbWVudDogVXJsU2VnbWVudCwgZm46ICh2OiBVcmxTZWdtZW50LCBrOiBzdHJpbmcpID0+IFVybFNlZ21lbnQpOlxuICAgIHtbbmFtZTogc3RyaW5nXTogVXJsU2VnbWVudH0ge1xuICBjb25zdCBuZXdDaGlsZHJlbjoge1tuYW1lOiBzdHJpbmddOiBVcmxTZWdtZW50fSA9IHt9O1xuICBmb3JFYWNoKHNlZ21lbnQuY2hpbGRyZW4sIChjaGlsZDogVXJsU2VnbWVudCwgY2hpbGRPdXRsZXQ6IHN0cmluZykgPT4ge1xuICAgIGlmIChjaGlsZE91dGxldCA9PT0gUFJJTUFSWV9PVVRMRVQpIHtcbiAgICAgIG5ld0NoaWxkcmVuW2NoaWxkT3V0bGV0XSA9IGZuKGNoaWxkLCBjaGlsZE91dGxldCk7XG4gICAgfVxuICB9KTtcbiAgZm9yRWFjaChzZWdtZW50LmNoaWxkcmVuLCAoY2hpbGQ6IFVybFNlZ21lbnQsIGNoaWxkT3V0bGV0OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoY2hpbGRPdXRsZXQgIT09IFBSSU1BUllfT1VUTEVUKSB7XG4gICAgICBuZXdDaGlsZHJlbltjaGlsZE91dGxldF0gPSBmbihjaGlsZCwgY2hpbGRPdXRsZXQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXdDaGlsZHJlbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcENoaWxkcmVuSW50b0FycmF5PFQ+KFxuICAgIHNlZ21lbnQ6IFVybFNlZ21lbnQsIGZuOiAodjogVXJsU2VnbWVudCwgazogc3RyaW5nKSA9PiBUW10pOiBUW10ge1xuICBsZXQgcmVzOiBUW10gPSBbXTtcbiAgZm9yRWFjaChzZWdtZW50LmNoaWxkcmVuLCAoY2hpbGQ6IFVybFNlZ21lbnQsIGNoaWxkT3V0bGV0OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoY2hpbGRPdXRsZXQgPT09IFBSSU1BUllfT1VUTEVUKSB7XG4gICAgICByZXMgPSByZXMuY29uY2F0KGZuKGNoaWxkLCBjaGlsZE91dGxldCkpO1xuICAgIH1cbiAgfSk7XG4gIGZvckVhY2goc2VnbWVudC5jaGlsZHJlbiwgKGNoaWxkOiBVcmxTZWdtZW50LCBjaGlsZE91dGxldDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGNoaWxkT3V0bGV0ICE9PSBQUklNQVJZX09VVExFVCkge1xuICAgICAgcmVzID0gcmVzLmNvbmNhdChmbihjaGlsZCwgY2hpbGRPdXRsZXQpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzO1xufVxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/url_tree.js\n ** module id = 417\n ** module chunks = 0\n **/","\"use strict\";\nvar shared_1 = require('./shared');\nvar url_tree_1 = require('./url_tree');\nvar collection_1 = require('./utils/collection');\nvar UrlSerializer = (function () {\n    function UrlSerializer() {\n    }\n    return UrlSerializer;\n}());\nexports.UrlSerializer = UrlSerializer;\nvar DefaultUrlSerializer = (function () {\n    function DefaultUrlSerializer() {\n    }\n    DefaultUrlSerializer.prototype.parse = function (url) {\n        var p = new UrlParser(url);\n        return new url_tree_1.UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n    };\n    DefaultUrlSerializer.prototype.serialize = function (tree) {\n        var segment = \"/\" + serializeSegment(tree.root, true);\n        var query = serializeQueryParams(tree.queryParams);\n        var fragment = tree.fragment !== null ? \"#\" + tree.fragment : '';\n        return \"\" + segment + query + fragment;\n    };\n    return DefaultUrlSerializer;\n}());\nexports.DefaultUrlSerializer = DefaultUrlSerializer;\nfunction serializePaths(segment) {\n    return segment.pathsWithParams.map(function (p) { return serializePath(p); }).join('/');\n}\nexports.serializePaths = serializePaths;\nfunction serializeSegment(segment, root) {\n    if (segment.children[shared_1.PRIMARY_OUTLET] && root) {\n        var primary = serializeSegment(segment.children[shared_1.PRIMARY_OUTLET], false);\n        var children_1 = [];\n        collection_1.forEach(segment.children, function (v, k) {\n            if (k !== shared_1.PRIMARY_OUTLET) {\n                children_1.push(k + \":\" + serializeSegment(v, false));\n            }\n        });\n        if (children_1.length > 0) {\n            return primary + \"(\" + children_1.join('//') + \")\";\n        }\n        else {\n            return \"\" + primary;\n        }\n    }\n    else if (segment.children[shared_1.PRIMARY_OUTLET] && !root) {\n        var children_2 = [serializeSegment(segment.children[shared_1.PRIMARY_OUTLET], false)];\n        collection_1.forEach(segment.children, function (v, k) {\n            if (k !== shared_1.PRIMARY_OUTLET) {\n                children_2.push(k + \":\" + serializeSegment(v, false));\n            }\n        });\n        return serializePaths(segment) + \"/(\" + children_2.join('//') + \")\";\n    }\n    else {\n        return serializePaths(segment);\n    }\n}\nfunction serializeChildren(segment) {\n    if (segment.children[shared_1.PRIMARY_OUTLET]) {\n        var primary = serializePaths(segment.children[shared_1.PRIMARY_OUTLET]);\n        var secondary_1 = [];\n        collection_1.forEach(segment.children, function (v, k) {\n            if (k !== shared_1.PRIMARY_OUTLET) {\n                secondary_1.push(k + \":\" + serializePaths(v) + serializeChildren(v));\n            }\n        });\n        var secondaryStr = secondary_1.length > 0 ? \"(\" + secondary_1.join('//') + \")\" : '';\n        var primaryChildren = serializeChildren(segment.children[shared_1.PRIMARY_OUTLET]);\n        var primaryChildrenStr = primaryChildren ? \"/\" + primaryChildren : '';\n        return \"\" + primary + secondaryStr + primaryChildrenStr;\n    }\n    else {\n        return '';\n    }\n}\nfunction serializePath(path) {\n    return \"\" + path.path + serializeParams(path.parameters);\n}\nexports.serializePath = serializePath;\nfunction serializeParams(params) {\n    return pairs(params).map(function (p) { return (\";\" + p.first + \"=\" + p.second); }).join('');\n}\nfunction serializeQueryParams(params) {\n    var strs = pairs(params).map(function (p) { return (p.first + \"=\" + p.second); });\n    return strs.length > 0 ? \"?\" + strs.join(\"&\") : '';\n}\nvar Pair = (function () {\n    function Pair(first, second) {\n        this.first = first;\n        this.second = second;\n    }\n    return Pair;\n}());\nfunction pairs(obj) {\n    var res = [];\n    for (var prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n            res.push(new Pair(prop, obj[prop]));\n        }\n    }\n    return res;\n}\nvar SEGMENT_RE = /^[^\\/\\(\\)\\?;=&#]+/;\nfunction matchPathWithParams(str) {\n    SEGMENT_RE.lastIndex = 0;\n    var match = SEGMENT_RE.exec(str);\n    return match ? match[0] : '';\n}\nvar QUERY_PARAM_RE = /^[^=\\?&#]+/;\nfunction matchQueryParams(str) {\n    QUERY_PARAM_RE.lastIndex = 0;\n    var match = SEGMENT_RE.exec(str);\n    return match ? match[0] : '';\n}\nvar QUERY_PARAM_VALUE_RE = /^[^\\?&#]+/;\nfunction matchUrlQueryParamValue(str) {\n    QUERY_PARAM_VALUE_RE.lastIndex = 0;\n    var match = QUERY_PARAM_VALUE_RE.exec(str);\n    return match ? match[0] : '';\n}\nvar UrlParser = (function () {\n    function UrlParser(remaining) {\n        this.remaining = remaining;\n    }\n    UrlParser.prototype.peekStartsWith = function (str) { return this.remaining.startsWith(str); };\n    UrlParser.prototype.capture = function (str) {\n        if (!this.remaining.startsWith(str)) {\n            throw new Error(\"Expected \\\"\" + str + \"\\\".\");\n        }\n        this.remaining = this.remaining.substring(str.length);\n    };\n    UrlParser.prototype.parseRootSegment = function () {\n        if (this.remaining === '' || this.remaining === '/') {\n            return new url_tree_1.UrlSegment([], {});\n        }\n        else {\n            return new url_tree_1.UrlSegment([], this.parseSegmentChildren());\n        }\n    };\n    UrlParser.prototype.parseSegmentChildren = function () {\n        if (this.remaining.length == 0) {\n            return {};\n        }\n        if (this.peekStartsWith('/')) {\n            this.capture('/');\n        }\n        var paths = [this.parsePathWithParams()];\n        while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n            this.capture('/');\n            paths.push(this.parsePathWithParams());\n        }\n        var children = {};\n        if (this.peekStartsWith('/(')) {\n            this.capture('/');\n            children = this.parseParens(true);\n        }\n        var res = {};\n        if (this.peekStartsWith('(')) {\n            res = this.parseParens(false);\n        }\n        res[shared_1.PRIMARY_OUTLET] = new url_tree_1.UrlSegment(paths, children);\n        return res;\n    };\n    UrlParser.prototype.parsePathWithParams = function () {\n        var path = matchPathWithParams(this.remaining);\n        this.capture(path);\n        var matrixParams = {};\n        if (this.peekStartsWith(';')) {\n            matrixParams = this.parseMatrixParams();\n        }\n        return new url_tree_1.UrlPathWithParams(path, matrixParams);\n    };\n    UrlParser.prototype.parseQueryParams = function () {\n        var params = {};\n        if (this.peekStartsWith('?')) {\n            this.capture('?');\n            this.parseQueryParam(params);\n            while (this.remaining.length > 0 && this.peekStartsWith('&')) {\n                this.capture('&');\n                this.parseQueryParam(params);\n            }\n        }\n        return params;\n    };\n    UrlParser.prototype.parseFragment = function () {\n        if (this.peekStartsWith('#')) {\n            return this.remaining.substring(1);\n        }\n        else {\n            return null;\n        }\n    };\n    UrlParser.prototype.parseMatrixParams = function () {\n        var params = {};\n        while (this.remaining.length > 0 && this.peekStartsWith(';')) {\n            this.capture(';');\n            this.parseParam(params);\n        }\n        return params;\n    };\n    UrlParser.prototype.parseParam = function (params) {\n        var key = matchPathWithParams(this.remaining);\n        if (!key) {\n            return;\n        }\n        this.capture(key);\n        var value = 'true';\n        if (this.peekStartsWith('=')) {\n            this.capture('=');\n            var valueMatch = matchPathWithParams(this.remaining);\n            if (valueMatch) {\n                value = valueMatch;\n                this.capture(value);\n            }\n        }\n        params[key] = value;\n    };\n    UrlParser.prototype.parseQueryParam = function (params) {\n        var key = matchQueryParams(this.remaining);\n        if (!key) {\n            return;\n        }\n        this.capture(key);\n        var value = 'true';\n        if (this.peekStartsWith('=')) {\n            this.capture('=');\n            var valueMatch = matchUrlQueryParamValue(this.remaining);\n            if (valueMatch) {\n                value = valueMatch;\n                this.capture(value);\n            }\n        }\n        params[key] = value;\n    };\n    UrlParser.prototype.parseParens = function (allowPrimary) {\n        var segments = {};\n        this.capture('(');\n        while (!this.peekStartsWith(')') && this.remaining.length > 0) {\n            var path = matchPathWithParams(this.remaining);\n            var outletName = void 0;\n            if (path.indexOf(':') > -1) {\n                outletName = path.substr(0, path.indexOf(':'));\n                this.capture(outletName);\n                this.capture(':');\n            }\n            else if (allowPrimary) {\n                outletName = shared_1.PRIMARY_OUTLET;\n            }\n            var children = this.parseSegmentChildren();\n            segments[outletName] = Object.keys(children).length === 1 ? children[shared_1.PRIMARY_OUTLET] :\n                new url_tree_1.UrlSegment([], children);\n            if (this.peekStartsWith('//')) {\n                this.capture('//');\n            }\n        }\n        this.capture(')');\n        return segments;\n    };\n    return UrlParser;\n}());\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsX3NlcmlhbGl6ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXJsX3NlcmlhbGl6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHVCQUE2QixVQUFVLENBQUMsQ0FBQTtBQUN4Qyx5QkFBcUQsWUFBWSxDQUFDLENBQUE7QUFDbEUsMkJBQXNCLG9CQUFvQixDQUFDLENBQUE7QUFPM0M7SUFBQTtJQVVBLENBQUM7SUFBRCxvQkFBQztBQUFELENBQUMsQUFWRCxJQVVDO0FBVnFCLHFCQUFhLGdCQVVsQyxDQUFBO0FBS0Q7SUFBQTtJQVlBLENBQUM7SUFYQyxvQ0FBSyxHQUFMLFVBQU0sR0FBVztRQUNmLElBQU0sQ0FBQyxHQUFHLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxJQUFJLGtCQUFPLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVELHdDQUFTLEdBQVQsVUFBVSxJQUFhO1FBQ3JCLElBQU0sT0FBTyxHQUFHLE1BQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUcsQ0FBQztRQUN4RCxJQUFNLEtBQUssR0FBRyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckQsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLEdBQUcsTUFBSSxJQUFJLENBQUMsUUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNuRSxNQUFNLENBQUMsS0FBRyxPQUFPLEdBQUcsS0FBSyxHQUFHLFFBQVUsQ0FBQztJQUN6QyxDQUFDO0lBQ0gsMkJBQUM7QUFBRCxDQUFDLEFBWkQsSUFZQztBQVpZLDRCQUFvQix1QkFZaEMsQ0FBQTtBQUVELHdCQUErQixPQUFtQjtJQUNoRCxNQUFNLENBQUMsT0FB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QyxBQTNKRCxJQTJKQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UFJJTUFSWV9PVVRMRVR9IGZyb20gJy4vc2hhcmVkJztcbmltcG9ydCB7VXJsUGF0aFdpdGhQYXJhbXMsIFVybFNlZ21lbnQsIFVybFRyZWV9IGZyb20gJy4vdXJsX3RyZWUnO1xuaW1wb3J0IHtmb3JFYWNofSBmcm9tICcuL3V0aWxzL2NvbGxlY3Rpb24nO1xuXG5cblxuLyoqXG4gKiBEZWZpbmVzIGEgd2F5IHRvIHNlcmlhbGl6ZS9kZXNlcmlhbGl6ZSBhIHVybCB0cmVlLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVXJsU2VyaWFsaXplciB7XG4gIC8qKlxuICAgKiBQYXJzZSBhIHVybCBpbnRvIGEge0BMaW5rIFVybFRyZWV9XG4gICAqL1xuICBhYnN0cmFjdCBwYXJzZSh1cmw6IHN0cmluZyk6IFVybFRyZWU7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEge0BMaW5rIFVybFRyZWV9IGludG8gYSB1cmxcbiAgICovXG4gIGFic3RyYWN0IHNlcmlhbGl6ZSh0cmVlOiBVcmxUcmVlKTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc2VyaWFsaXphdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRVcmxTZXJpYWxpemVyIGltcGxlbWVudHMgVXJsU2VyaWFsaXplciB7XG4gIHBhcnNlKHVybDogc3RyaW5nKTogVXJsVHJlZSB7XG4gICAgY29uc3QgcCA9IG5ldyBVcmxQYXJzZXIodXJsKTtcbiAgICByZXR1cm4gbmV3IFVybFRyZWUocC5wYXJzZVJvb3RTZWdtZW50KCksIHAucGFyc2VRdWVyeVBhcmFtcygpLCBwLnBhcnNlRnJhZ21lbnQoKSk7XG4gIH1cblxuICBzZXJpYWxpemUodHJlZTogVXJsVHJlZSk6IHN0cmluZyB7XG4gICAgY29uc3Qgc2VnbWVudCA9IGAvJHtzZXJpYWxpemVTZWdtZW50KHRyZWUucm9vdCwgdHJ1ZSl9YDtcbiAgICBjb25zdCBxdWVyeSA9IHNlcmlhbGl6ZVF1ZXJ5UGFyYW1zKHRyZWUucXVlcnlQYXJhbXMpO1xuICAgIGNvbnN0IGZyYWdtZW50ID0gdHJlZS5mcmFnbWVudCAhPT0gbnVsbCA/IGAjJHt0cmVlLmZyYWdtZW50fWAgOiAnJztcbiAgICByZXR1cm4gYCR7c2VnbWVudH0ke3F1ZXJ5fSR7ZnJhZ21lbnR9YDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplUGF0aHMoc2VnbWVudDogVXJsU2VnbWVudCk6IHN0cmluZyB7XG4gIHJldHVybiBzZWdtZW50LnBhdGhzV2l0aFBhcmFtcy5tYXAocCA9PiBzZXJpYWxpemVQYXRoKHApKS5qb2luKCcvJyk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVNlZ21lbnQoc2VnbWVudDogVXJsU2VnbWVudCwgcm9vdDogYm9vbGVhbik6IHN0cmluZyB7XG4gIGlmIChzZWdtZW50LmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSAmJiByb290KSB7XG4gICAgY29uc3QgcHJpbWFyeSA9IHNlcmlhbGl6ZVNlZ21lbnQoc2VnbWVudC5jaGlsZHJlbltQUklNQVJZX09VVExFVF0sIGZhbHNlKTtcbiAgICBjb25zdCBjaGlsZHJlbjogc3RyaW5nW10gPSBbXTtcbiAgICBmb3JFYWNoKHNlZ21lbnQuY2hpbGRyZW4sICh2OiBVcmxTZWdtZW50LCBrOiBzdHJpbmcpID0+IHtcbiAgICAgIGlmIChrICE9PSBQUklNQVJZX09VVExFVCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGAke2t9OiR7c2VyaWFsaXplU2VnbWVudCh2LCBmYWxzZSl9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBgJHtwcmltYXJ5fSgke2NoaWxkcmVuLmpvaW4oJy8vJyl9KWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgJHtwcmltYXJ5fWA7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNlZ21lbnQuY2hpbGRyZW5bUFJJTUFSWV9PVVRMRVRdICYmICFyb290KSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbc2VyaWFsaXplU2VnbWVudChzZWdtZW50LmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSwgZmFsc2UpXTtcbiAgICBmb3JFYWNoKHNlZ21lbnQuY2hpbGRyZW4sICh2OiBVcmxTZWdtZW50LCBrOiBzdHJpbmcpID0+IHtcbiAgICAgIGlmIChrICE9PSBQUklNQVJZX09VVExFVCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGAke2t9OiR7c2VyaWFsaXplU2VnbWVudCh2LCBmYWxzZSl9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGAke3NlcmlhbGl6ZVBhdGhzKHNlZ21lbnQpfS8oJHtjaGlsZHJlbi5qb2luKCcvLycpfSlgO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzZXJpYWxpemVQYXRocyhzZWdtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVDaGlsZHJlbihzZWdtZW50OiBVcmxTZWdtZW50KSB7XG4gIGlmIChzZWdtZW50LmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSkge1xuICAgIGNvbnN0IHByaW1hcnkgPSBzZXJpYWxpemVQYXRocyhzZWdtZW50LmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSk7XG5cbiAgICBjb25zdCBzZWNvbmRhcnk6IHN0cmluZ1tdID0gW107XG4gICAgZm9yRWFjaChzZWdtZW50LmNoaWxkcmVuLCAodjogVXJsU2VnbWVudCwgazogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoayAhPT0gUFJJTUFSWV9PVVRMRVQpIHtcbiAgICAgICAgc2Vjb25kYXJ5LnB1c2goYCR7a306JHtzZXJpYWxpemVQYXRocyh2KX0ke3NlcmlhbGl6ZUNoaWxkcmVuKHYpfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHNlY29uZGFyeVN0ciA9IHNlY29uZGFyeS5sZW5ndGggPiAwID8gYCgke3NlY29uZGFyeS5qb2luKCcvLycpfSlgIDogJyc7XG4gICAgY29uc3QgcHJpbWFyeUNoaWxkcmVuID0gc2VyaWFsaXplQ2hpbGRyZW4oc2VnbWVudC5jaGlsZHJlbltQUklNQVJZX09VVExFVF0pO1xuICAgIGNvbnN0IHByaW1hcnlDaGlsZHJlblN0cjogc3RyaW5nID0gcHJpbWFyeUNoaWxkcmVuID8gYC8ke3ByaW1hcnlDaGlsZHJlbn1gIDogJyc7XG4gICAgcmV0dXJuIGAke3ByaW1hcnl9JHtzZWNvbmRhcnlTdHJ9JHtwcmltYXJ5Q2hpbGRyZW5TdHJ9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVBhdGgocGF0aDogVXJsUGF0aFdpdGhQYXJhbXMpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7cGF0aC5wYXRofSR7c2VyaWFsaXplUGFyYW1zKHBhdGgucGFyYW1ldGVycyl9YDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplUGFyYW1zKHBhcmFtczoge1trZXk6IHN0cmluZ106IHN0cmluZ30pOiBzdHJpbmcge1xuICByZXR1cm4gcGFpcnMocGFyYW1zKS5tYXAocCA9PiBgOyR7cC5maXJzdH09JHtwLnNlY29uZH1gKS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplUXVlcnlQYXJhbXMocGFyYW1zOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSk6IHN0cmluZyB7XG4gIGNvbnN0IHN0cnMgPSBwYWlycyhwYXJhbXMpLm1hcChwID0+IGAke3AuZmlyc3R9PSR7cC5zZWNvbmR9YCk7XG4gIHJldHVybiBzdHJzLmxlbmd0aCA+IDAgPyBgPyR7c3Rycy5qb2luKFwiJlwiKX1gIDogJyc7XG59XG5cbmNsYXNzIFBhaXI8QSwgQj4ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgZmlyc3Q6IEEsIHB1YmxpYyBzZWNvbmQ6IEIpIHt9XG59XG5mdW5jdGlvbiBwYWlyczxUPihvYmo6IHtba2V5OiBzdHJpbmddOiBUfSk6IFBhaXI8c3RyaW5nLCBUPltdIHtcbiAgY29uc3QgcmVzOiBQYWlyPHN0cmluZywgVD5bXSA9IFtdO1xuICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHJlcy5wdXNoKG5ldyBQYWlyPHN0cmluZywgVD4ocHJvcCwgb2JqW3Byb3BdKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmNvbnN0IFNFR01FTlRfUkUgPSAvXlteXFwvXFwoXFwpXFw/Oz0mI10rLztcbmZ1bmN0aW9uIG1hdGNoUGF0aFdpdGhQYXJhbXMoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBTRUdNRU5UX1JFLmxhc3RJbmRleCA9IDA7XG4gIGNvbnN0IG1hdGNoID0gU0VHTUVOVF9SRS5leGVjKHN0cik7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzBdIDogJyc7XG59XG5cbmNvbnN0IFFVRVJZX1BBUkFNX1JFID0gL15bXj1cXD8mI10rLztcbmZ1bmN0aW9uIG1hdGNoUXVlcnlQYXJhbXMoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBRVUVSWV9QQVJBTV9SRS5sYXN0SW5kZXggPSAwO1xuICBjb25zdCBtYXRjaCA9IFNFR01FTlRfUkUuZXhlYyhzdHIpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFswXSA6ICcnO1xufVxuXG5jb25zdCBRVUVSWV9QQVJBTV9WQUxVRV9SRSA9IC9eW15cXD8mI10rLztcbmZ1bmN0aW9uIG1hdGNoVXJsUXVlcnlQYXJhbVZhbHVlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgUVVFUllfUEFSQU1fVkFMVUVfUkUubGFzdEluZGV4ID0gMDtcbiAgY29uc3QgbWF0Y2ggPSBRVUVSWV9QQVJBTV9WQUxVRV9SRS5leGVjKHN0cik7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzBdIDogJyc7XG59XG5cbmNsYXNzIFVybFBhcnNlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVtYWluaW5nOiBzdHJpbmcpIHt9XG5cbiAgcGVla1N0YXJ0c1dpdGgoc3RyOiBzdHJpbmcpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMucmVtYWluaW5nLnN0YXJ0c1dpdGgoc3RyKTsgfVxuXG4gIGNhcHR1cmUoc3RyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMucmVtYWluaW5nLnN0YXJ0c1dpdGgoc3RyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBcIiR7c3RyfVwiLmApO1xuICAgIH1cbiAgICB0aGlzLnJlbWFpbmluZyA9IHRoaXMucmVtYWluaW5nLnN1YnN0cmluZyhzdHIubGVuZ3RoKTtcbiAgfVxuXG4gIHBhcnNlUm9vdFNlZ21lbnQoKTogVXJsU2VnbWVudCB7XG4gICAgaWYgKHRoaXMucmVtYWluaW5nID09PSAnJyB8fCB0aGlzLnJlbWFpbmluZyA9PT0gJy8nKSB7XG4gICAgICByZXR1cm4gbmV3IFVybFNlZ21lbnQoW10sIHt9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBVcmxTZWdtZW50KFtdLCB0aGlzLnBhcnNlU2VnbWVudENoaWxkcmVuKCkpO1xuICAgIH1cbiAgfVxuXG4gIHBhcnNlU2VnbWVudENoaWxkcmVuKCk6IHtba2V5OiBzdHJpbmddOiBVcmxTZWdtZW50fSB7XG4gICAgaWYgKHRoaXMucmVtYWluaW5nLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgdGhpcy5jYXB0dXJlKCcvJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcGF0aHMgPSBbdGhpcy5wYXJzZVBhdGhXaXRoUGFyYW1zKCldO1xuXG4gICAgd2hpbGUgKHRoaXMucGVla1N0YXJ0c1dpdGgoJy8nKSAmJiAhdGhpcy5wZWVrU3RhcnRzV2l0aCgnLy8nKSAmJiAhdGhpcy5wZWVrU3RhcnRzV2l0aCgnLygnKSkge1xuICAgICAgdGhpcy5jYXB0dXJlKCcvJyk7XG4gICAgICBwYXRocy5wdXNoKHRoaXMucGFyc2VQYXRoV2l0aFBhcmFtcygpKTtcbiAgICB9XG5cbiAgICBsZXQgY2hpbGRyZW46IHtba2V5OiBzdHJpbmddOiBVcmxTZWdtZW50fSA9IHt9O1xuICAgIGlmICh0aGlzLnBlZWtTdGFydHNXaXRoKCcvKCcpKSB7XG4gICAgICB0aGlzLmNhcHR1cmUoJy8nKTtcbiAgICAgIGNoaWxkcmVuID0gdGhpcy5wYXJzZVBhcmVucyh0cnVlKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzOiB7W2tleTogc3RyaW5nXTogVXJsU2VnbWVudH0gPSB7fTtcbiAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnKCcpKSB7XG4gICAgICByZXMgPSB0aGlzLnBhcnNlUGFyZW5zKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXNbUFJJTUFSWV9PVVRMRVRdID0gbmV3IFVybFNlZ21lbnQocGF0aHMsIGNoaWxkcmVuKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcGFyc2VQYXRoV2l0aFBhcmFtcygpOiBVcmxQYXRoV2l0aFBhcmFtcyB7XG4gICAgbGV0IHBhdGggPSBtYXRjaFBhdGhXaXRoUGFyYW1zKHRoaXMucmVtYWluaW5nKTtcbiAgICB0aGlzLmNhcHR1cmUocGF0aCk7XG4gICAgbGV0IG1hdHJpeFBhcmFtczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcbiAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnOycpKSB7XG4gICAgICBtYXRyaXhQYXJhbXMgPSB0aGlzLnBhcnNlTWF0cml4UGFyYW1zKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVXJsUGF0aFdpdGhQYXJhbXMocGF0aCwgbWF0cml4UGFyYW1zKTtcbiAgfVxuXG4gIHBhcnNlUXVlcnlQYXJhbXMoKToge1trZXk6IHN0cmluZ106IGFueX0ge1xuICAgIGNvbnN0IHBhcmFtczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcbiAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnPycpKSB7XG4gICAgICB0aGlzLmNhcHR1cmUoJz8nKTtcbiAgICAgIHRoaXMucGFyc2VRdWVyeVBhcmFtKHBhcmFtcyk7XG4gICAgICB3aGlsZSAodGhpcy5yZW1haW5pbmcubGVuZ3RoID4gMCAmJiB0aGlzLnBlZWtTdGFydHNXaXRoKCcmJykpIHtcbiAgICAgICAgdGhpcy5jYXB0dXJlKCcmJyk7XG4gICAgICAgIHRoaXMucGFyc2VRdWVyeVBhcmFtKHBhcmFtcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICBwYXJzZUZyYWdtZW50KCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nLnN1YnN0cmluZygxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcGFyc2VNYXRyaXhQYXJhbXMoKToge1trZXk6IHN0cmluZ106IGFueX0ge1xuICAgIGNvbnN0IHBhcmFtczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcbiAgICB3aGlsZSAodGhpcy5yZW1haW5pbmcubGVuZ3RoID4gMCAmJiB0aGlzLnBlZWtTdGFydHNXaXRoKCc7JykpIHtcbiAgICAgIHRoaXMuY2FwdHVyZSgnOycpO1xuICAgICAgdGhpcy5wYXJzZVBhcmFtKHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICBwYXJzZVBhcmFtKHBhcmFtczoge1trZXk6IHN0cmluZ106IGFueX0pOiB2b2lkIHtcbiAgICBjb25zdCBrZXkgPSBtYXRjaFBhdGhXaXRoUGFyYW1zKHRoaXMucmVtYWluaW5nKTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhcHR1cmUoa2V5KTtcbiAgICBsZXQgdmFsdWU6IGFueSA9ICd0cnVlJztcbiAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnPScpKSB7XG4gICAgICB0aGlzLmNhcHR1cmUoJz0nKTtcbiAgICAgIGNvbnN0IHZhbHVlTWF0Y2ggPSBtYXRjaFBhdGhXaXRoUGFyYW1zKHRoaXMucmVtYWluaW5nKTtcbiAgICAgIGlmICh2YWx1ZU1hdGNoKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWVNYXRjaDtcbiAgICAgICAgdGhpcy5jYXB0dXJlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcGFyc2VRdWVyeVBhcmFtKHBhcmFtczoge1trZXk6IHN0cmluZ106IGFueX0pOiB2b2lkIHtcbiAgICBjb25zdCBrZXkgPSBtYXRjaFF1ZXJ5UGFyYW1zKHRoaXMucmVtYWluaW5nKTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhcHR1cmUoa2V5KTtcbiAgICBsZXQgdmFsdWU6IGFueSA9ICd0cnVlJztcbiAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnPScpKSB7XG4gICAgICB0aGlzLmNhcHR1cmUoJz0nKTtcbiAgICAgIHZhciB2YWx1ZU1hdGNoID0gbWF0Y2hVcmxRdWVyeVBhcmFtVmFsdWUodGhpcy5yZW1haW5pbmcpO1xuICAgICAgaWYgKHZhbHVlTWF0Y2gpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZU1hdGNoO1xuICAgICAgICB0aGlzLmNhcHR1cmUodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcGFyc2VQYXJlbnMoYWxsb3dQcmltYXJ5OiBib29sZWFuKToge1trZXk6IHN0cmluZ106IFVybFNlZ21lbnR9IHtcbiAgICBjb25zdCBzZWdtZW50czoge1trZXk6IHN0cmluZ106IFVybFNlZ21lbnR9ID0ge307XG4gICAgdGhpcy5jYXB0dXJlKCcoJyk7XG5cbiAgICB3aGlsZSAoIXRoaXMucGVla1N0YXJ0c1dpdGgoJyknKSAmJiB0aGlzLnJlbWFpbmluZy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgcGF0aCA9IG1hdGNoUGF0aFdpdGhQYXJhbXModGhpcy5yZW1haW5pbmcpO1xuICAgICAgbGV0IG91dGxldE5hbWU6IHN0cmluZztcbiAgICAgIGlmIChwYXRoLmluZGV4T2YoJzonKSA+IC0xKSB7XG4gICAgICAgIG91dGxldE5hbWUgPSBwYXRoLnN1YnN0cigwLCBwYXRoLmluZGV4T2YoJzonKSk7XG4gICAgICAgIHRoaXMuY2FwdHVyZShvdXRsZXROYW1lKTtcbiAgICAgICAgdGhpcy5jYXB0dXJlKCc6Jyk7XG4gICAgICB9IGVsc2UgaWYgKGFsbG93UHJpbWFyeSkge1xuICAgICAgICBvdXRsZXROYW1lID0gUFJJTUFSWV9PVVRMRVQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5wYXJzZVNlZ21lbnRDaGlsZHJlbigpO1xuICAgICAgc2VnbWVudHNbb3V0bGV0TmFtZV0gPSBPYmplY3Qua2V5cyhjaGlsZHJlbikubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bUFJJTUFSWV9PVVRMRVRdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBVcmxTZWdtZW50KFtdLCBjaGlsZHJlbik7XG5cbiAgICAgIGlmICh0aGlzLnBlZWtTdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgIHRoaXMuY2FwdHVyZSgnLy8nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jYXB0dXJlKCcpJyk7XG5cbiAgICByZXR1cm4gc2VnbWVudHM7XG4gIH1cbn1cbiJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/url_serializer.js\n ** module id = 418\n ** module chunks = 0\n **/","\"use strict\";\nfunction shallowEqual(a, b) {\n    var k1 = Object.keys(a);\n    var k2 = Object.keys(b);\n    if (k1.length != k2.length) {\n        return false;\n    }\n    var key;\n    for (var i = 0; i < k1.length; i++) {\n        key = k1[i];\n        if (a[key] !== b[key]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.shallowEqual = shallowEqual;\nfunction flatten(a) {\n    var target = [];\n    for (var i = 0; i < a.length; ++i) {\n        for (var j = 0; j < a[i].length; ++j) {\n            target.push(a[i][j]);\n        }\n    }\n    return target;\n}\nexports.flatten = flatten;\nfunction first(a) {\n    return a.length > 0 ? a[0] : null;\n}\nexports.first = first;\nfunction last(a) {\n    return a.length > 0 ? a[a.length - 1] : null;\n}\nexports.last = last;\nfunction and(bools) {\n    return bools.reduce(function (a, b) { return a && b; }, true);\n}\nexports.and = and;\nfunction merge(m1, m2) {\n    var m = {};\n    for (var attr in m1) {\n        if (m1.hasOwnProperty(attr)) {\n            m[attr] = m1[attr];\n        }\n    }\n    for (var attr in m2) {\n        if (m2.hasOwnProperty(attr)) {\n            m[attr] = m2[attr];\n        }\n    }\n    return m;\n}\nexports.merge = merge;\nfunction forEach(map, callback) {\n    for (var prop in map) {\n        if (map.hasOwnProperty(prop)) {\n            callback(map[prop], prop);\n        }\n    }\n}\nexports.forEach = forEach;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9jb2xsZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxzQkFBNkIsQ0FBcUIsRUFBRSxDQUFxQjtJQUN2RSxJQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLElBQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUIsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMzQixNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUNELElBQUksR0FBVyxDQUFDO0lBQ2hCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ25DLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2YsQ0FBQztJQUNILENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQWRlLG9CQUFZLGVBYzNCLENBQUE7QUFFRCxpQkFBMkIsQ0FBUTtJQUNqQyxJQUFNLE1BQU0sR0FBUSxFQUFFLENBQUM7SUFDdkIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDbEMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDaEIsQ0FBQztBQVJlLGVBQU8sVUFRdEIsQ0FBQTtBQUVELGVBQXlCLENBQU07SUFDN0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDcEMsQ0FBQztBQUZlLGFBQUssUUFFcEIsQ0FBQTtBQUVELGNBQXdCLENBQU07SUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUMvQyxDQUFDO0FBRmUsWUFBSSxPQUVuQixDQUFBO0FBRUQsYUFBb0IsS0FBZ0I7SUFDbEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxJQUFJLENBQUMsRUFBTixDQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUMsQ0FBQztBQUZlLFdBQUcsTUFFbEIsQ0FBQTtBQUVELGVBQXlCLEVBQXNCLEVBQUUsRUFBc0I7SUFDckUsSUFBSSxDQUFDLEdBQXVCLEVBQUUsQ0FBQztJQUUvQixHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsQ0FBQztJQUNILENBQUM7SUFFRCxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQWhCZSxhQUFLLFFBZ0JwQixDQUFBO0FBRUQsaUJBQ0ksR0FBdUIsRUFBRSxRQUFxQztJQUNoRSxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdCLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUIsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBUGUsZUFBTyxVQU90QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChhOiB7W3g6IHN0cmluZ106IGFueX0sIGI6IHtbeDogc3RyaW5nXTogYW55fSk6IGJvb2xlYW4ge1xuICBjb25zdCBrMSA9IE9iamVjdC5rZXlzKGEpO1xuICBjb25zdCBrMiA9IE9iamVjdC5rZXlzKGIpO1xuICBpZiAoazEubGVuZ3RoICE9IGsyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQga2V5OiBzdHJpbmc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgazEubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBrMVtpXTtcbiAgICBpZiAoYVtrZXldICE9PSBiW2tleV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuPFQ+KGE6IFRbXVtdKTogVFtdIHtcbiAgY29uc3QgdGFyZ2V0OiBUW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBhW2ldLmxlbmd0aDsgKytqKSB7XG4gICAgICB0YXJnZXQucHVzaChhW2ldW2pdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0PFQ+KGE6IFRbXSk6IFQge1xuICByZXR1cm4gYS5sZW5ndGggPiAwID8gYVswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQ+KGE6IFRbXSk6IFQge1xuICByZXR1cm4gYS5sZW5ndGggPiAwID8gYVthLmxlbmd0aCAtIDFdIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZChib29sczogYm9vbGVhbltdKTogYm9vbGVhbiB7XG4gIHJldHVybiBib29scy5yZWR1Y2UoKGEsIGIpID0+IGEgJiYgYiwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxWPihtMToge1trZXk6IHN0cmluZ106IFZ9LCBtMjoge1trZXk6IHN0cmluZ106IFZ9KToge1trZXk6IHN0cmluZ106IFZ9IHtcbiAgdmFyIG06IHtba2V5OiBzdHJpbmddOiBWfSA9IHt9O1xuXG4gIGZvciAodmFyIGF0dHIgaW4gbTEpIHtcbiAgICBpZiAobTEuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgIG1bYXR0cl0gPSBtMVthdHRyXTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBhdHRyIGluIG0yKSB7XG4gICAgaWYgKG0yLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICBtW2F0dHJdID0gbTJbYXR0cl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoPEssIFY+KFxuICAgIG1hcDoge1trZXk6IHN0cmluZ106IFZ9LCBjYWxsYmFjazogLyooViwgSykgPT4gdm9pZCovIEZ1bmN0aW9uKTogdm9pZCB7XG4gIGZvciAodmFyIHByb3AgaW4gbWFwKSB7XG4gICAgaWYgKG1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgY2FsbGJhY2sobWFwW3Byb3BdLCBwcm9wKTtcbiAgICB9XG4gIH1cbn0iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/utils/collection.js\n ** module id = 419\n ** module chunks = 0\n **/","\"use strict\";\nfunction validateConfig(config) {\n    config.forEach(validateNode);\n}\nexports.validateConfig = validateConfig;\nfunction validateNode(route) {\n    if (!!route.redirectTo && !!route.children) {\n        throw new Error(\"Invalid configuration of route '\" + route.path + \"': redirectTo and children cannot be used together\");\n    }\n    if (!!route.redirectTo && !!route.component) {\n        throw new Error(\"Invalid configuration of route '\" + route.path + \"': redirectTo and component cannot be used together\");\n    }\n    if (route.path === undefined) {\n        throw new Error(\"Invalid route configuration: routes must have path specified\");\n    }\n    if (route.path.startsWith('/')) {\n        throw new Error(\"Invalid route configuration of route '\" + route.path + \"': path cannot start with a slash\");\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBZUEsd0JBQStCLE1BQW9CO0lBQ2pELE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQUZlLHNCQUFjLGlCQUU3QixDQUFBO0FBRUQsc0JBQXNCLEtBQVk7SUFDaEMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzNDLE1BQU0sSUFBSSxLQUFLLENBQ1gscUNBQW1DLEtBQUssQ0FBQyxJQUFJLHVEQUFvRCxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUNELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUM1QyxNQUFNLElBQUksS0FBSyxDQUNYLHFDQUFtQyxLQUFLLENBQUMsSUFBSSx3REFBcUQsQ0FBQyxDQUFDO0lBQzFHLENBQUM7SUFDRCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsTUFBTSxJQUFJLEtBQUssQ0FBQyw4REFBOEQsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFDRCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQywyQ0FBeUMsS0FBSyxDQUFDLElBQUksc0NBQW1DLENBQUMsQ0FBQztJQUMxRyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VHlwZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCB0eXBlIFJvdXRlckNvbmZpZyA9IFJvdXRlW107XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGUge1xuICBwYXRoPzogc3RyaW5nO1xuICB0ZXJtaW5hbD86IGJvb2xlYW47XG4gIGNvbXBvbmVudD86IFR5cGV8c3RyaW5nO1xuICBvdXRsZXQ/OiBzdHJpbmc7XG4gIGNhbkFjdGl2YXRlPzogYW55W107XG4gIGNhbkRlYWN0aXZhdGU/OiBhbnlbXTtcbiAgcmVkaXJlY3RUbz86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSb3V0ZVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDb25maWcoY29uZmlnOiBSb3V0ZXJDb25maWcpOiB2b2lkIHtcbiAgY29uZmlnLmZvckVhY2godmFsaWRhdGVOb2RlKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOb2RlKHJvdXRlOiBSb3V0ZSk6IHZvaWQge1xuICBpZiAoISFyb3V0ZS5yZWRpcmVjdFRvICYmICEhcm91dGUuY2hpbGRyZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJyR7cm91dGUucGF0aH0nOiByZWRpcmVjdFRvIGFuZCBjaGlsZHJlbiBjYW5ub3QgYmUgdXNlZCB0b2dldGhlcmApO1xuICB9XG4gIGlmICghIXJvdXRlLnJlZGlyZWN0VG8gJiYgISFyb3V0ZS5jb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJyR7cm91dGUucGF0aH0nOiByZWRpcmVjdFRvIGFuZCBjb21wb25lbnQgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXJgKTtcbiAgfVxuICBpZiAocm91dGUucGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJvdXRlIGNvbmZpZ3VyYXRpb246IHJvdXRlcyBtdXN0IGhhdmUgcGF0aCBzcGVjaWZpZWRgKTtcbiAgfVxuICBpZiAocm91dGUucGF0aC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcm91dGUgY29uZmlndXJhdGlvbiBvZiByb3V0ZSAnJHtyb3V0ZS5wYXRofSc6IHBhdGggY2Fubm90IHN0YXJ0IHdpdGggYSBzbGFzaGApO1xuICB9XG59Il19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/config.js\n ** module id = 420\n ** module chunks = 0\n **/","\"use strict\";\nvar BehaviorSubject_1 = require('rxjs/BehaviorSubject');\nvar router_state_1 = require('./router_state');\nvar tree_1 = require('./utils/tree');\nfunction createRouterState(curr, prevState) {\n    var root = createNode(curr._root, prevState ? prevState._root : undefined);\n    var queryParams = prevState ? prevState.queryParams : new BehaviorSubject_1.BehaviorSubject(curr.queryParams);\n    var fragment = prevState ? prevState.fragment : new BehaviorSubject_1.BehaviorSubject(curr.fragment);\n    return new router_state_1.RouterState(root, queryParams, fragment, curr);\n}\nexports.createRouterState = createRouterState;\nfunction createNode(curr, prevState) {\n    if (prevState && equalRouteSnapshots(prevState.value.snapshot, curr.value)) {\n        var value = prevState.value;\n        value._futureSnapshot = curr.value;\n        var children = createOrReuseChildren(curr, prevState);\n        return new tree_1.TreeNode(value, children);\n    }\n    else {\n        var value = createActivatedRoute(curr.value);\n        var children = curr.children.map(function (c) { return createNode(c); });\n        return new tree_1.TreeNode(value, children);\n    }\n}\nfunction createOrReuseChildren(curr, prevState) {\n    return curr.children.map(function (child) {\n        var index = prevState.children.findIndex(function (p) { return equalRouteSnapshots(p.value.snapshot, child.value); });\n        if (index >= 0) {\n            return createNode(child, prevState.children[index]);\n        }\n        else {\n            return createNode(child);\n        }\n    });\n}\nfunction createActivatedRoute(c) {\n    return new router_state_1.ActivatedRoute(new BehaviorSubject_1.BehaviorSubject(c.url), new BehaviorSubject_1.BehaviorSubject(c.params), c.outlet, c.component, c);\n}\nfunction equalRouteSnapshots(a, b) {\n    return a._routeConfig === b._routeConfig;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlX3JvdXRlcl9zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVfcm91dGVyX3N0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxnQ0FBOEIsc0JBQXNCLENBQUMsQ0FBQTtBQUVyRCw2QkFBdUYsZ0JBQWdCLENBQUMsQ0FBQTtBQUN4RyxxQkFBdUIsY0FBYyxDQUFDLENBQUE7QUFFdEMsMkJBQWtDLElBQXlCLEVBQUUsU0FBc0I7SUFDakYsSUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUM7SUFDN0UsSUFBTSxXQUFXLEdBQUcsU0FBUyxHQUFHLFNBQVMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxpQ0FBZSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUM5RixJQUFNLFFBQVEsR0FBRyxTQUFTLEdBQUcsU0FBUyxDQUFDLFFBQVEsR0FBRyxJQUFJLGlDQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JGLE1BQU0sQ0FBQyxJQUFJLDBCQUFXLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUxlLHlCQUFpQixvQkFLaEMsQ0FBQTtBQUVELG9CQUFvQixJQUFzQyxFQUFFLFNBQW9DO0lBRTlGLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDOUIsS0FBSyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRW5DLElBQU0sUUFBUSxHQUFHLHFCQUFxQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsSUFBSSxlQUFRLENBQWlCLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztJQUV2RCxDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixJQUFNLEtBQUssR0FBRyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0MsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQWIsQ0FBYSxDQUFDLENBQUM7UUFDdkQsTUFBTSxDQUFDLElBQUksZUFBUSxDQUFpQixLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdkQsQ0FBQztBQUNILENBQUM7QUFFRCwrQkFDSSxJQUFzQyxFQUFFLFNBQW1DO0lBQzdFLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFBLEtBQUs7UUFDNUIsSUFBTSxLQUFLLEdBQ1AsU0FBUyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQWxELENBQWtELENBQUMsQ0FBQztRQUMxRixFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNmLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0RCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCw4QkFBOEIsQ0FBeUI7SUFDckQsTUFBTSxDQUFDLElBQUksNkJBQWMsQ0FDckIsSUFBSSxpQ0FBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLGlDQUFlLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMzRixDQUFDO0FBRUQsNkJBQTZCLENBQXlCLEVBQUUsQ0FBeUI7SUFDL0UsTUFBTSxDQUFDLENBQUMsQ0FBQyxZQUFZLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQztBQUMzQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtCZWhhdmlvclN1YmplY3R9IGZyb20gJ3J4anMvQmVoYXZpb3JTdWJqZWN0JztcblxuaW1wb3J0IHtBY3RpdmF0ZWRSb3V0ZSwgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgUm91dGVyU3RhdGUsIFJvdXRlclN0YXRlU25hcHNob3R9IGZyb20gJy4vcm91dGVyX3N0YXRlJztcbmltcG9ydCB7VHJlZU5vZGV9IGZyb20gJy4vdXRpbHMvdHJlZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSb3V0ZXJTdGF0ZShjdXJyOiBSb3V0ZXJTdGF0ZVNuYXBzaG90LCBwcmV2U3RhdGU6IFJvdXRlclN0YXRlKTogUm91dGVyU3RhdGUge1xuICBjb25zdCByb290ID0gY3JlYXRlTm9kZShjdXJyLl9yb290LCBwcmV2U3RhdGUgPyBwcmV2U3RhdGUuX3Jvb3QgOiB1bmRlZmluZWQpO1xuICBjb25zdCBxdWVyeVBhcmFtcyA9IHByZXZTdGF0ZSA/IHByZXZTdGF0ZS5xdWVyeVBhcmFtcyA6IG5ldyBCZWhhdmlvclN1YmplY3QoY3Vyci5xdWVyeVBhcmFtcyk7XG4gIGNvbnN0IGZyYWdtZW50ID0gcHJldlN0YXRlID8gcHJldlN0YXRlLmZyYWdtZW50IDogbmV3IEJlaGF2aW9yU3ViamVjdChjdXJyLmZyYWdtZW50KTtcbiAgcmV0dXJuIG5ldyBSb3V0ZXJTdGF0ZShyb290LCBxdWVyeVBhcmFtcywgZnJhZ21lbnQsIGN1cnIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb2RlKGN1cnI6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+LCBwcmV2U3RhdGU/OiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZT4pOlxuICAgIFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlPiB7XG4gIGlmIChwcmV2U3RhdGUgJiYgZXF1YWxSb3V0ZVNuYXBzaG90cyhwcmV2U3RhdGUudmFsdWUuc25hcHNob3QsIGN1cnIudmFsdWUpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwcmV2U3RhdGUudmFsdWU7XG4gICAgdmFsdWUuX2Z1dHVyZVNuYXBzaG90ID0gY3Vyci52YWx1ZTtcblxuICAgIGNvbnN0IGNoaWxkcmVuID0gY3JlYXRlT3JSZXVzZUNoaWxkcmVuKGN1cnIsIHByZXZTdGF0ZSk7XG4gICAgcmV0dXJuIG5ldyBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZT4odmFsdWUsIGNoaWxkcmVuKTtcblxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZhbHVlID0gY3JlYXRlQWN0aXZhdGVkUm91dGUoY3Vyci52YWx1ZSk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjdXJyLmNoaWxkcmVuLm1hcChjID0+IGNyZWF0ZU5vZGUoYykpO1xuICAgIHJldHVybiBuZXcgVHJlZU5vZGU8QWN0aXZhdGVkUm91dGU+KHZhbHVlLCBjaGlsZHJlbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlT3JSZXVzZUNoaWxkcmVuKFxuICAgIGN1cnI6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+LCBwcmV2U3RhdGU6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlPikge1xuICByZXR1cm4gY3Vyci5jaGlsZHJlbi5tYXAoY2hpbGQgPT4ge1xuICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgcHJldlN0YXRlLmNoaWxkcmVuLmZpbmRJbmRleChwID0+IGVxdWFsUm91dGVTbmFwc2hvdHMocC52YWx1ZS5zbmFwc2hvdCwgY2hpbGQudmFsdWUpKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZU5vZGUoY2hpbGQsIHByZXZTdGF0ZS5jaGlsZHJlbltpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlTm9kZShjaGlsZCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQWN0aXZhdGVkUm91dGUoYzogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICByZXR1cm4gbmV3IEFjdGl2YXRlZFJvdXRlKFxuICAgICAgbmV3IEJlaGF2aW9yU3ViamVjdChjLnVybCksIG5ldyBCZWhhdmlvclN1YmplY3QoYy5wYXJhbXMpLCBjLm91dGxldCwgYy5jb21wb25lbnQsIGMpO1xufVxuXG5mdW5jdGlvbiBlcXVhbFJvdXRlU25hcHNob3RzKGE6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIGI6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QpOiBib29sZWFuIHtcbiAgcmV0dXJuIGEuX3JvdXRlQ29uZmlnID09PSBiLl9yb3V0ZUNvbmZpZztcbn0iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/create_router_state.js\n ** module id = 421\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar throwError_1 = require('./util/throwError');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasErrored) {\n            throwError_1.throwError(this.errorValue);\n        }\n        else if (this.isUnsubscribed) {\n            throwError_1.throwError(new ObjectUnsubscribedError_1.ObjectUnsubscribedError());\n        }\n        else {\n            return this._value;\n        }\n    };\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.isUnsubscribed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype._next = function (value) {\n        _super.prototype._next.call(this, this._value = value);\n    };\n    BehaviorSubject.prototype._error = function (err) {\n        this.hasErrored = true;\n        _super.prototype._error.call(this, this.errorValue = err);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/BehaviorSubject.js\n ** module id = 422\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar BehaviorSubject_1 = require('rxjs/BehaviorSubject');\nvar shared_1 = require('./shared');\nvar url_tree_1 = require('./url_tree');\nvar collection_1 = require('./utils/collection');\nvar tree_1 = require('./utils/tree');\nvar RouterState = (function (_super) {\n    __extends(RouterState, _super);\n    function RouterState(root, queryParams, fragment, snapshot) {\n        _super.call(this, root);\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n        this.snapshot = snapshot;\n    }\n    RouterState.prototype.toString = function () { return this.snapshot.toString(); };\n    return RouterState;\n}(tree_1.Tree));\nexports.RouterState = RouterState;\nfunction createEmptyState(urlTree, rootComponent) {\n    var snapshot = createEmptyStateSnapshot(urlTree, rootComponent);\n    var emptyUrl = new BehaviorSubject_1.BehaviorSubject([new url_tree_1.UrlPathWithParams('', {})]);\n    var emptyParams = new BehaviorSubject_1.BehaviorSubject({});\n    var emptyQueryParams = new BehaviorSubject_1.BehaviorSubject({});\n    var fragment = new BehaviorSubject_1.BehaviorSubject('');\n    var activated = new ActivatedRoute(emptyUrl, emptyParams, shared_1.PRIMARY_OUTLET, rootComponent, snapshot.root);\n    activated.snapshot = snapshot.root;\n    return new RouterState(new tree_1.TreeNode(activated, []), emptyQueryParams, fragment, snapshot);\n}\nexports.createEmptyState = createEmptyState;\nfunction createEmptyStateSnapshot(urlTree, rootComponent) {\n    var emptyParams = {};\n    var emptyQueryParams = {};\n    var fragment = '';\n    var activated = new ActivatedRouteSnapshot([], emptyParams, shared_1.PRIMARY_OUTLET, rootComponent, null, urlTree.root, -1);\n    return new RouterStateSnapshot('', new tree_1.TreeNode(activated, []), emptyQueryParams, fragment);\n}\nvar ActivatedRoute = (function () {\n    function ActivatedRoute(url, params, outlet, component, futureSnapshot) {\n        this.url = url;\n        this.params = params;\n        this.outlet = outlet;\n        this.component = component;\n        this._futureSnapshot = futureSnapshot;\n    }\n    ActivatedRoute.prototype.toString = function () {\n        return this.snapshot ? this.snapshot.toString() : \"Future(\" + this._futureSnapshot + \")\";\n    };\n    return ActivatedRoute;\n}());\nexports.ActivatedRoute = ActivatedRoute;\nvar ActivatedRouteSnapshot = (function () {\n    function ActivatedRouteSnapshot(url, params, outlet, component, routeConfig, urlSegment, lastPathIndex) {\n        this.url = url;\n        this.params = params;\n        this.outlet = outlet;\n        this.component = component;\n        this._routeConfig = routeConfig;\n        this._urlSegment = urlSegment;\n        this._lastPathIndex = lastPathIndex;\n    }\n    ActivatedRouteSnapshot.prototype.toString = function () {\n        var url = this.url.map(function (s) { return s.toString(); }).join('/');\n        var matched = this._routeConfig ? this._routeConfig.path : '';\n        return \"Route(url:'\" + url + \"', path:'\" + matched + \"')\";\n    };\n    return ActivatedRouteSnapshot;\n}());\nexports.ActivatedRouteSnapshot = ActivatedRouteSnapshot;\nvar RouterStateSnapshot = (function (_super) {\n    __extends(RouterStateSnapshot, _super);\n    function RouterStateSnapshot(url, root, queryParams, fragment) {\n        _super.call(this, root);\n        this.url = url;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n    }\n    RouterStateSnapshot.prototype.toString = function () { return serializeNode(this._root); };\n    return RouterStateSnapshot;\n}(tree_1.Tree));\nexports.RouterStateSnapshot = RouterStateSnapshot;\nfunction serializeNode(node) {\n    var c = node.children.length > 0 ? \" { \" + node.children.map(serializeNode).join(\", \") + \" } \" : '';\n    return \"\" + node.value + c;\n}\nfunction advanceActivatedRoute(route) {\n    if (route.snapshot && !collection_1.shallowEqual(route.snapshot.params, route._futureSnapshot.params)) {\n        route.snapshot = route._futureSnapshot;\n        route.url.next(route.snapshot.url);\n        route.params.next(route.snapshot.params);\n    }\n    else {\n        route.snapshot = route._futureSnapshot;\n    }\n}\nexports.advanceActivatedRoute = advanceActivatedRoute;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyX3N0YXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3JvdXRlcl9zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxnQ0FBOEIsc0JBQXNCLENBQUMsQ0FBQTtBQUlyRCx1QkFBcUMsVUFBVSxDQUFDLENBQUE7QUFDaEQseUJBQXFELFlBQVksQ0FBQyxDQUFBO0FBQ2xFLDJCQUEyQixvQkFBb0IsQ0FBQyxDQUFBO0FBQ2hELHFCQUE2QixjQUFjLENBQUMsQ0FBQTtBQWtCNUM7SUFBaUMsK0JBQW9CO0lBSW5ELHFCQUNJLElBQThCLEVBQVMsV0FBK0IsRUFDL0QsUUFBNEIsRUFBUyxRQUE2QjtRQUMzRSxrQkFBTSxJQUFJLENBQUMsQ0FBQztRQUY2QixnQkFBVyxHQUFYLFdBQVcsQ0FBb0I7UUFDL0QsYUFBUSxHQUFSLFFBQVEsQ0FBb0I7UUFBUyxhQUFRLEdBQVIsUUFBUSxDQUFxQjtJQUU3RSxDQUFDO0lBRUQsOEJBQVEsR0FBUixjQUFxQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsa0JBQUM7QUFBRCxDQUFDLEFBWEQsQ0FBaUMsV0FBSSxHQVdwQztBQVhZLG1CQUFXLGNBV3ZCLENBQUE7QUFFRCwwQkFBaUMsT0FBZ0IsRUFBRSxhQUFtQjtJQUNwRSxJQUFNLFFBQVEsR0FBRyx3QkFBd0IsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDbEUsSUFBTSxRQUFRLEdBQUcsSUFBSSxpQ0FBZSxDQUFDLENBQUMsSUFBSSw0QkFBaUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLElBQU0sV0FBVyxHQUFHLElBQUksaUNBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM1QyxJQUFNLGdCQUFnQixHQUFHLElBQUksaUNBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqRCxJQUFNLFFBQVEs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UUFDTixLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxlQUFlLENBQUM7SUFDekMsQ0FBQztBQUNILENBQUM7QUFSZSw2QkFBcUIsd0JBUXBDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudEZhY3RvcnksIFR5cGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtCZWhhdmlvclN1YmplY3R9IGZyb20gJ3J4anMvQmVoYXZpb3JTdWJqZWN0JztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcblxuaW1wb3J0IHtSb3V0ZX0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHtQUklNQVJZX09VVExFVCwgUGFyYW1zfSBmcm9tICcuL3NoYXJlZCc7XG5pbXBvcnQge1VybFBhdGhXaXRoUGFyYW1zLCBVcmxTZWdtZW50LCBVcmxUcmVlfSBmcm9tICcuL3VybF90cmVlJztcbmltcG9ydCB7c2hhbGxvd0VxdWFsfSBmcm9tICcuL3V0aWxzL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHtUcmVlLCBUcmVlTm9kZX0gZnJvbSAnLi91dGlscy90cmVlJztcblxuXG4vKipcbiAqIFRoZSBzdGF0ZSBvZiB0aGUgcm91dGVyLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIGBgYFxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihyb3V0ZXI6IFJvdXRlcikge1xuICogICAgIGNvbnN0IHN0YXRlID0gcm91dGVyLnJvdXRlclN0YXRlO1xuICogICAgIGNvbnN0IGlkOiBPYnNlcnZhYmxlPHN0cmluZz4gPSBzdGF0ZS5maXJzdENoaWxkKHN0YXRlLnJvb3QpLnBhcmFtcy5tYXAocCA9PiBwLmlkKTtcbiAqICAgICBjb25zdCBpc0RlYnVnOiBPYnNlcnZhYmxlPHN0cmluZz4gPSBzdGF0ZS5xdWVyeVBhcmFtcy5tYXAocSA9PiBxLmRlYnVnKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3V0ZXJTdGF0ZSBleHRlbmRzIFRyZWU8QWN0aXZhdGVkUm91dGU+IHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgICByb290OiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZT4sIHB1YmxpYyBxdWVyeVBhcmFtczogT2JzZXJ2YWJsZTxQYXJhbXM+LFxuICAgICAgcHVibGljIGZyYWdtZW50OiBPYnNlcnZhYmxlPHN0cmluZz4sIHB1YmxpYyBzbmFwc2hvdDogUm91dGVyU3RhdGVTbmFwc2hvdCkge1xuICAgIHN1cGVyKHJvb3QpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuc25hcHNob3QudG9TdHJpbmcoKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1wdHlTdGF0ZSh1cmxUcmVlOiBVcmxUcmVlLCByb290Q29tcG9uZW50OiBUeXBlKTogUm91dGVyU3RhdGUge1xuICBjb25zdCBzbmFwc2hvdCA9IGNyZWF0ZUVtcHR5U3RhdGVTbmFwc2hvdCh1cmxUcmVlLCByb290Q29tcG9uZW50KTtcbiAgY29uc3QgZW1wdHlVcmwgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KFtuZXcgVXJsUGF0aFdpdGhQYXJhbXMoJycsIHt9KV0pO1xuICBjb25zdCBlbXB0eVBhcmFtcyA9IG5ldyBCZWhhdmlvclN1YmplY3Qoe30pO1xuICBjb25zdCBlbXB0eVF1ZXJ5UGFyYW1zID0gbmV3IEJlaGF2aW9yU3ViamVjdCh7fSk7XG4gIGNvbnN0IGZyYWdtZW50ID0gbmV3IEJlaGF2aW9yU3ViamVjdCgnJyk7XG4gIGNvbnN0IGFjdGl2YXRlZCA9XG4gICAgICBuZXcgQWN0aXZhdGVkUm91dGUoZW1wdHlVcmwsIGVtcHR5UGFyYW1zLCBQUklNQVJZX09VVExFVCwgcm9vdENvbXBvbmVudCwgc25hcHNob3Qucm9vdCk7XG4gIGFjdGl2YXRlZC5zbmFwc2hvdCA9IHNuYXBzaG90LnJvb3Q7XG4gIHJldHVybiBuZXcgUm91dGVyU3RhdGUoXG4gICAgICBuZXcgVHJlZU5vZGU8QWN0aXZhdGVkUm91dGU+KGFjdGl2YXRlZCwgW10pLCBlbXB0eVF1ZXJ5UGFyYW1zLCBmcmFnbWVudCwgc25hcHNob3QpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbXB0eVN0YXRlU25hcHNob3QodXJsVHJlZTogVXJsVHJlZSwgcm9vdENvbXBvbmVudDogVHlwZSk6IFJvdXRlclN0YXRlU25hcHNob3Qge1xuICBjb25zdCBlbXB0eVBhcmFtcyA9IHt9O1xuICBjb25zdCBlbXB0eVF1ZXJ5UGFyYW1zID0ge307XG4gIGNvbnN0IGZyYWdtZW50ID0gJyc7XG4gIGNvbnN0IGFjdGl2YXRlZCA9IG5ldyBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KFxuICAgICAgW10sIGVtcHR5UGFyYW1zLCBQUklNQVJZX09VVExFVCwgcm9vdENvbXBvbmVudCwgbnVsbCwgdXJsVHJlZS5yb290LCAtMSk7XG4gIHJldHVybiBuZXcgUm91dGVyU3RhdGVTbmFwc2hvdChcbiAgICAgICcnLCBuZXcgVHJlZU5vZGU8QWN0aXZhdGVkUm91dGVTbmFwc2hvdD4oYWN0aXZhdGVkLCBbXSksIGVtcHR5UXVlcnlQYXJhbXMsIGZyYWdtZW50KTtcbn1cblxuLyoqXG4gKiBDb250YWlucyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgYSBjb21wb25lbnQgbG9hZGVkIGluIGFuIG91dGxldC4gVGhlIGluZm9ybWF0aW9uIGlzIHByb3ZpZGVkXG4gKiB0aHJvdWdoXG4gKiB0aGUgcGFyYW1zIGFuZCB1cmxTZWdtZW50cyBvYnNlcnZhYmxlcy5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3Iocm91dGU6IEFjdGl2YXRlZFJvdXRlKSB7XG4gKiAgICAgY29uc3QgaWQ6IE9ic2VydmFibGU8c3RyaW5nPiA9IHJvdXRlLnBhcmFtcy5tYXAocCA9PiBwLmlkKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3RpdmF0ZWRSb3V0ZSB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Z1dHVyZVNuYXBzaG90OiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90O1xuICBzbmFwc2hvdDogQWN0aXZhdGVkUm91dGVTbmFwc2hvdDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHB1YmxpYyB1cmw6IE9ic2VydmFibGU8VXJsUGF0aFdpdGhQYXJhbXNbXT4sIHB1YmxpYyBwYXJhbXM6IE9ic2VydmFibGU8UGFyYW1zPixcbiAgICAgIHB1YmxpYyBvdXRsZXQ6IHN0cmluZywgcHVibGljIGNvbXBvbmVudDogVHlwZXxzdHJpbmcsXG4gICAgICBmdXR1cmVTbmFwc2hvdDogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgIHRoaXMuX2Z1dHVyZVNuYXBzaG90ID0gZnV0dXJlU25hcHNob3Q7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnNuYXBzaG90ID8gdGhpcy5zbmFwc2hvdC50b1N0cmluZygpIDogYEZ1dHVyZSgke3RoaXMuX2Z1dHVyZVNuYXBzaG90fSlgO1xuICB9XG59XG5cbi8qKlxuICogQ29udGFpbnMgdGhlIGluZm9ybWF0aW9uIGFib3V0IGEgY29tcG9uZW50IGxvYWRlZCBpbiBhbiBvdXRsZXQgYXQgYSBwYXJ0aWN1bGFyIG1vbWVudCBpbiB0aW1lLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIGBgYFxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihyb3V0ZTogQWN0aXZhdGVkUm91dGUpIHtcbiAqICAgICBjb25zdCBpZDogc3RyaW5nID0gcm91dGUuc25hcHNob3QucGFyYW1zLmlkO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGl2YXRlZFJvdXRlU25hcHNob3Qge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfcmVzb2x2ZWRDb21wb25lbnRGYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5PGFueT47XG5cbiAgLyoqIEBpbnRlcm5hbCAqKi9cbiAgX3JvdXRlQ29uZmlnOiBSb3V0ZTtcblxuICAvKiogQGludGVybmFsICoqL1xuICBfdXJsU2VnbWVudDogVXJsU2VnbWVudDtcblxuICBfbGFzdFBhdGhJbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHVibGljIHVybDogVXJsUGF0aFdpdGhQYXJhbXNbXSwgcHVibGljIHBhcmFtczogUGFyYW1zLCBwdWJsaWMgb3V0bGV0OiBzdHJpbmcsXG4gICAgICBwdWJsaWMgY29tcG9uZW50OiBUeXBlfHN0cmluZywgcm91dGVDb25maWc6IFJvdXRlLCB1cmxTZWdtZW50OiBVcmxTZWdtZW50LFxuICAgICAgbGFzdFBhdGhJbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy5fcm91dGVDb25maWcgPSByb3V0ZUNvbmZpZztcbiAgICB0aGlzLl91cmxTZWdtZW50ID0gdXJsU2VnbWVudDtcbiAgICB0aGlzLl9sYXN0UGF0aEluZGV4ID0gbGFzdFBhdGhJbmRleDtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdXJsID0gdGhpcy51cmwubWFwKHMgPT4gcy50b1N0cmluZygpKS5qb2luKCcvJyk7XG4gICAgY29uc3QgbWF0Y2hlZCA9IHRoaXMuX3JvdXRlQ29uZmlnID8gdGhpcy5fcm91dGVDb25maWcucGF0aCA6ICcnO1xuICAgIHJldHVybiBgUm91dGUodXJsOicke3VybH0nLCBwYXRoOicke21hdGNoZWR9JylgO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHN0YXRlIG9mIHRoZSByb3V0ZXIgYXQgYSBwYXJ0aWN1bGFyIG1vbWVudCBpbiB0aW1lLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIGBgYFxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihyb3V0ZXI6IFJvdXRlcikge1xuICogICAgIGNvbnN0IHNuYXBzaG90ID0gcm91dGVyLnJvdXRlclN0YXRlLnNuYXBzaG90O1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJvdXRlclN0YXRlU25hcHNob3QgZXh0ZW5kcyBUcmVlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+IHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgICBwdWJsaWMgdXJsOiBzdHJpbmcsIHJvb3Q6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+LCBwdWJsaWMgcXVlcnlQYXJhbXM6IFBhcmFtcyxcbiAgICAgIHB1YmxpYyBmcmFnbWVudDogc3RyaW5nKSB7XG4gICAgc3VwZXIocm9vdCk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcgeyByZXR1cm4gc2VyaWFsaXplTm9kZSh0aGlzLl9yb290KTsgfVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVOb2RlKG5vZGU6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+KTogc3RyaW5nIHtcbiAgY29uc3QgYyA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCA/IGAgeyAke25vZGUuY2hpbGRyZW4ubWFwKHNlcmlhbGl6ZU5vZGUpLmpvaW4oXCIsIFwiKX0gfSBgIDogJyc7XG4gIHJldHVybiBgJHtub2RlLnZhbHVlfSR7Y31gO1xufVxuXG5cbi8qKlxuICogVGhlIGV4cGVjdGF0aW9uIGlzIHRoYXQgdGhlIGFjdGl2YXRlIHJvdXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGUgcmlnaHQgc2V0IG9mIHBhcmFtZXRlcnMuXG4gKiBTbyB3ZSBwdXNoIG5ldyB2YWx1ZXMgaW50byB0aGUgb2JzZXJ2YWJsZXMgb25seSB3aGVuIHRoZXkgYXJlIG5vdCB0aGUgaW5pdGlhbCB2YWx1ZXMuXG4gKiBBbmQgd2UgZGV0ZWN0IHRoYXQgYnkgY2hlY2tpbmcgaWYgdGhlIHNuYXBzaG90IGZpZWxkIGlzIHNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkdmFuY2VBY3RpdmF0ZWRSb3V0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGUpOiB2b2lkIHtcbiAgaWYgKHJvdXRlLnNuYXBzaG90ICYmICFzaGFsbG93RXF1YWwocm91dGUuc25hcHNob3QucGFyYW1zLCByb3V0ZS5fZnV0dXJlU25hcHNob3QucGFyYW1zKSkge1xuICAgIHJvdXRlLnNuYXBzaG90ID0gcm91dGUuX2Z1dHVyZVNuYXBzaG90O1xuICAgICg8YW55PnJvdXRlLnVybCkubmV4dChyb3V0ZS5zbmFwc2hvdC51cmwpO1xuICAgICg8YW55PnJvdXRlLnBhcmFtcykubmV4dChyb3V0ZS5zbmFwc2hvdC5wYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIHJvdXRlLnNuYXBzaG90ID0gcm91dGUuX2Z1dHVyZVNuYXBzaG90O1xuICB9XG59Il19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/router_state.js\n ** module id = 423\n ** module chunks = 0\n **/","\"use strict\";\nvar Tree = (function () {\n    function Tree(root) {\n        this._root = root;\n    }\n    Object.defineProperty(Tree.prototype, \"root\", {\n        get: function () { return this._root.value; },\n        enumerable: true,\n        configurable: true\n    });\n    Tree.prototype.parent = function (t) {\n        var p = this.pathFromRoot(t);\n        return p.length > 1 ? p[p.length - 2] : null;\n    };\n    Tree.prototype.children = function (t) {\n        var n = findNode(t, this._root);\n        return n ? n.children.map(function (t) { return t.value; }) : [];\n    };\n    Tree.prototype.firstChild = function (t) {\n        var n = findNode(t, this._root);\n        return n && n.children.length > 0 ? n.children[0].value : null;\n    };\n    Tree.prototype.siblings = function (t) {\n        var p = findPath(t, this._root, []);\n        if (p.length < 2)\n            return [];\n        var c = p[p.length - 2].children.map(function (c) { return c.value; });\n        return c.filter(function (cc) { return cc !== t; });\n    };\n    Tree.prototype.pathFromRoot = function (t) { return findPath(t, this._root, []).map(function (s) { return s.value; }); };\n    Tree.prototype.contains = function (tree) { return contains(this._root, tree._root); };\n    return Tree;\n}());\nexports.Tree = Tree;\nfunction findNode(expected, c) {\n    if (expected === c.value)\n        return c;\n    for (var _i = 0, _a = c.children; _i < _a.length; _i++) {\n        var cc = _a[_i];\n        var r = findNode(expected, cc);\n        if (r)\n            return r;\n    }\n    return null;\n}\nfunction findPath(expected, c, collected) {\n    collected.push(c);\n    if (expected === c.value)\n        return collected;\n    for (var _i = 0, _a = c.children; _i < _a.length; _i++) {\n        var cc = _a[_i];\n        var cloned = collected.slice(0);\n        var r = findPath(expected, cc, cloned);\n        if (r)\n            return r;\n    }\n    return [];\n}\nfunction contains(tree, subtree) {\n    if (tree.value !== subtree.value)\n        return false;\n    var _loop_1 = function(subtreeNode) {\n        var s = tree.children.filter(function (child) { return child.value === subtreeNode.value; });\n        if (s.length === 0)\n            return { value: false };\n        if (!contains(s[0], subtreeNode))\n            return { value: false };\n    };\n    for (var _i = 0, _a = subtree.children; _i < _a.length; _i++) {\n        var subtreeNode = _a[_i];\n        var state_1 = _loop_1(subtreeNode);\n        if (typeof state_1 === \"object\") return state_1.value;\n    }\n    return true;\n}\nvar TreeNode = (function () {\n    function TreeNode(value, children) {\n        this.value = value;\n        this.children = children;\n    }\n    TreeNode.prototype.toString = function () { return \"TreeNode(\" + this.value + \")\"; };\n    return TreeNode;\n}());\nexports.TreeNode = TreeNode;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy90cmVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtJQUlFLGNBQVksSUFBaUI7UUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUFDLENBQUM7SUFFckQsc0JBQUksc0JBQUk7YUFBUixjQUFnQixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUUxQyxxQkFBTSxHQUFOLFVBQU8sQ0FBSTtRQUNULElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztJQUMvQyxDQUFDO0lBRUQsdUJBQVEsR0FBUixVQUFTLENBQUk7UUFDWCxJQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLEtBQUssRUFBUCxDQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDL0MsQ0FBQztJQUVELHlCQUFVLEdBQVYsVUFBVyxDQUFJO1FBQ2IsSUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ2pFLENBQUM7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SyxFQUFqQyxDQUFpQyxDQUFDLENBQUM7UUFDM0UsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7WUFBQyxnQkFBTyxLQUFLLEdBQUM7UUFDakMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQUMsZ0JBQU8sS0FBSyxHQUFDOztJQUhqRCxHQUFHLENBQUMsQ0FBb0IsVUFBZ0IsRUFBaEIsS0FBQSxPQUFPLENBQUMsUUFBUSxFQUFoQixjQUFnQixFQUFoQixJQUFnQixDQUFDO1FBQXBDLElBQUksV0FBVyxTQUFBOzs7S0FJbkI7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVEO0lBQ0Usa0JBQW1CLEtBQVEsRUFBUyxRQUF1QjtRQUF4QyxVQUFLLEdBQUwsS0FBSyxDQUFHO1FBQVMsYUFBUSxHQUFSLFFBQVEsQ0FBZTtJQUFHLENBQUM7SUFFL0QsMkJBQVEsR0FBUixjQUFxQixNQUFNLENBQUMsY0FBWSxJQUFJLENBQUMsS0FBSyxNQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzFELGVBQUM7QUFBRCxDQUFDLEFBSkQsSUFJQztBQUpZLGdCQUFRLFdBSXBCLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVHJlZTxUPiB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3Jvb3Q6IFRyZWVOb2RlPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IFRyZWVOb2RlPFQ+KSB7IHRoaXMuX3Jvb3QgPSByb290OyB9XG5cbiAgZ2V0IHJvb3QoKTogVCB7IHJldHVybiB0aGlzLl9yb290LnZhbHVlOyB9XG5cbiAgcGFyZW50KHQ6IFQpOiBUIHtcbiAgICBjb25zdCBwID0gdGhpcy5wYXRoRnJvbVJvb3QodCk7XG4gICAgcmV0dXJuIHAubGVuZ3RoID4gMSA/IHBbcC5sZW5ndGggLSAyXSA6IG51bGw7XG4gIH1cblxuICBjaGlsZHJlbih0OiBUKTogVFtdIHtcbiAgICBjb25zdCBuID0gZmluZE5vZGUodCwgdGhpcy5fcm9vdCk7XG4gICAgcmV0dXJuIG4gPyBuLmNoaWxkcmVuLm1hcCh0ID0+IHQudmFsdWUpIDogW107XG4gIH1cblxuICBmaXJzdENoaWxkKHQ6IFQpOiBUIHtcbiAgICBjb25zdCBuID0gZmluZE5vZGUodCwgdGhpcy5fcm9vdCk7XG4gICAgcmV0dXJuIG4gJiYgbi5jaGlsZHJlbi5sZW5ndGggPiAwID8gbi5jaGlsZHJlblswXS52YWx1ZSA6IG51bGw7XG4gIH1cblxuICBzaWJsaW5ncyh0OiBUKTogVFtdIHtcbiAgICBjb25zdCBwID0gZmluZFBhdGgodCwgdGhpcy5fcm9vdCwgW10pO1xuICAgIGlmIChwLmxlbmd0aCA8IDIpIHJldHVybiBbXTtcblxuICAgIGNvbnN0IGMgPSBwW3AubGVuZ3RoIC0gMl0uY2hpbGRyZW4ubWFwKGMgPT4gYy52YWx1ZSk7XG4gICAgcmV0dXJuIGMuZmlsdGVyKGNjID0+IGNjICE9PSB0KTtcbiAgfVxuXG4gIHBhdGhGcm9tUm9vdCh0OiBUKTogVFtdIHsgcmV0dXJuIGZpbmRQYXRoKHQsIHRoaXMuX3Jvb3QsIFtdKS5tYXAocyA9PiBzLnZhbHVlKTsgfVxuXG4gIGNvbnRhaW5zKHRyZWU6IFRyZWU8VD4pOiBib29sZWFuIHsgcmV0dXJuIGNvbnRhaW5zKHRoaXMuX3Jvb3QsIHRyZWUuX3Jvb3QpOyB9XG59XG5cbmZ1bmN0aW9uIGZpbmROb2RlPFQ+KGV4cGVjdGVkOiBULCBjOiBUcmVlTm9kZTxUPik6IFRyZWVOb2RlPFQ+IHtcbiAgaWYgKGV4cGVjdGVkID09PSBjLnZhbHVlKSByZXR1cm4gYztcbiAgZm9yIChsZXQgY2Mgb2YgYy5jaGlsZHJlbikge1xuICAgIGNvbnN0IHIgPSBmaW5kTm9kZShleHBlY3RlZCwgY2MpO1xuICAgIGlmIChyKSByZXR1cm4gcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmluZFBhdGg8VD4oZXhwZWN0ZWQ6IFQsIGM6IFRyZWVOb2RlPFQ+LCBjb2xsZWN0ZWQ6IFRyZWVOb2RlPFQ+W10pOiBUcmVlTm9kZTxUPltdIHtcbiAgY29sbGVjdGVkLnB1c2goYyk7XG4gIGlmIChleHBlY3RlZCA9PT0gYy52YWx1ZSkgcmV0dXJuIGNvbGxlY3RlZDtcblxuICBmb3IgKGxldCBjYyBvZiBjLmNoaWxkcmVuKSB7XG4gICAgY29uc3QgY2xvbmVkID0gY29sbGVjdGVkLnNsaWNlKDApO1xuICAgIGNvbnN0IHIgPSBmaW5kUGF0aChleHBlY3RlZCwgY2MsIGNsb25lZCk7XG4gICAgaWYgKHIpIHJldHVybiByO1xuICB9XG5cbiAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBjb250YWluczxUPih0cmVlOiBUcmVlTm9kZTxUPiwgc3VidHJlZTogVHJlZU5vZGU8VD4pOiBib29sZWFuIHtcbiAgaWYgKHRyZWUudmFsdWUgIT09IHN1YnRyZWUudmFsdWUpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKGxldCBzdWJ0cmVlTm9kZSBvZiBzdWJ0cmVlLmNoaWxkcmVuKSB7XG4gICAgY29uc3QgcyA9IHRyZWUuY2hpbGRyZW4uZmlsdGVyKGNoaWxkID0+IGNoaWxkLnZhbHVlID09PSBzdWJ0cmVlTm9kZS52YWx1ZSk7XG4gICAgaWYgKHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFjb250YWlucyhzWzBdLCBzdWJ0cmVlTm9kZSkpIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgY2xhc3MgVHJlZU5vZGU8VD4ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFQsIHB1YmxpYyBjaGlsZHJlbjogVHJlZU5vZGU8VD5bXSkge31cblxuICB0b1N0cmluZygpOiBzdHJpbmcgeyByZXR1cm4gYFRyZWVOb2RlKCR7dGhpcy52YWx1ZX0pYDsgfVxufSJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/utils/tree.js\n ** module id = 424\n ** module chunks = 0\n **/","\"use strict\";\nvar shared_1 = require('./shared');\nvar url_tree_1 = require('./url_tree');\nvar collection_1 = require('./utils/collection');\nfunction createUrlTree(route, urlTree, commands, queryParams, fragment) {\n    if (commands.length === 0) {\n        return tree(urlTree.root, urlTree.root, urlTree, queryParams, fragment);\n    }\n    var normalizedCommands = normalizeCommands(commands);\n    if (navigateToRoot(normalizedCommands)) {\n        return tree(urlTree.root, new url_tree_1.UrlSegment([], {}), urlTree, queryParams, fragment);\n    }\n    var startingPosition = findStartingPosition(normalizedCommands, urlTree, route);\n    var segment = startingPosition.processChildren ?\n        updateSegmentChildren(startingPosition.segment, startingPosition.index, normalizedCommands.commands) :\n        updateSegment(startingPosition.segment, startingPosition.index, normalizedCommands.commands);\n    return tree(startingPosition.segment, segment, urlTree, queryParams, fragment);\n}\nexports.createUrlTree = createUrlTree;\nfunction tree(oldSegment, newSegment, urlTree, queryParams, fragment) {\n    var q = queryParams ? stringify(queryParams) : urlTree.queryParams;\n    var f = fragment ? fragment : urlTree.fragment;\n    if (urlTree.root === oldSegment) {\n        return new url_tree_1.UrlTree(newSegment, q, f);\n    }\n    else {\n        return new url_tree_1.UrlTree(replaceSegment(urlTree.root, oldSegment, newSegment), q, f);\n    }\n}\nfunction replaceSegment(current, oldSegment, newSegment) {\n    var children = {};\n    collection_1.forEach(current.children, function (c, outletName) {\n        if (c === oldSegment) {\n            children[outletName] = newSegment;\n        }\n        else {\n            children[outletName] = replaceSegment(c, oldSegment, newSegment);\n        }\n    });\n    return new url_tree_1.UrlSegment(current.pathsWithParams, children);\n}\nfunction navigateToRoot(normalizedChange) {\n    return normalizedChange.isAbsolute && normalizedChange.commands.length === 1 &&\n        normalizedChange.commands[0] == '/';\n}\nvar NormalizedNavigationCommands = (function () {\n    function NormalizedNavigationCommands(isAbsolute, numberOfDoubleDots, commands) {\n        this.isAbsolute = isAbsolute;\n        this.numberOfDoubleDots = numberOfDoubleDots;\n        this.commands = commands;\n    }\n    return NormalizedNavigationCommands;\n}());\nfunction normalizeCommands(commands) {\n    if ((typeof commands[0] === 'string') && commands.length === 1 && commands[0] == '/') {\n        return new NormalizedNavigationCommands(true, 0, commands);\n    }\n    var numberOfDoubleDots = 0;\n    var isAbsolute = false;\n    var res = [];\n    for (var i = 0; i < commands.length; ++i) {\n        var c = commands[i];\n        if (!(typeof c === 'string')) {\n            res.push(c);\n            continue;\n        }\n        var parts = c.split('/');\n        for (var j = 0; j < parts.length; ++j) {\n            var cc = parts[j];\n            if (i == 0) {\n                if (j == 0 && cc == '.') {\n                }\n                else if (j == 0 && cc == '') {\n                    isAbsolute = true;\n                }\n                else if (cc == '..') {\n                    numberOfDoubleDots++;\n                }\n                else if (cc != '') {\n                    res.push(cc);\n                }\n            }\n            else {\n                if (cc != '') {\n                    res.push(cc);\n                }\n            }\n        }\n    }\n    return new NormalizedNavigationCommands(isAbsolute, numberOfDoubleDots, res);\n}\nvar Position = (function () {\n    function Position(segment, processChildren, index) {\n        this.segment = segment;\n        this.processChildren = processChildren;\n        this.index = index;\n    }\n    return Position;\n}());\nfunction findStartingPosition(normalizedChange, urlTree, route) {\n    if (normalizedChange.isAbsolute) {\n        return new Position(urlTree.root, true, 0);\n    }\n    else if (route.snapshot._lastPathIndex === -1) {\n        return new Position(route.snapshot._urlSegment, true, 0);\n    }\n    else if (route.snapshot._lastPathIndex + 1 - normalizedChange.numberOfDoubleDots >= 0) {\n        return new Position(route.snapshot._urlSegment, false, route.snapshot._lastPathIndex + 1 - normalizedChange.numberOfDoubleDots);\n    }\n    else {\n        throw new Error('Invalid number of \\'../\\'');\n    }\n}\nfunction getPath(command) {\n    if (!(typeof command === 'string'))\n        return command.toString();\n    var parts = command.toString().split(':');\n    return parts.length > 1 ? parts[1] : command;\n}\nfunction getOutlet(commands) {\n    if (!(typeof commands[0] === 'string'))\n        return shared_1.PRIMARY_OUTLET;\n    var parts = commands[0].toString().split(':');\n    return parts.length > 1 ? parts[0] : shared_1.PRIMARY_OUTLET;\n}\nfunction updateSegment(segment, startIndex, commands) {\n    if (!segment) {\n        segment = new url_tree_1.UrlSegment([], {});\n    }\n    if (segment.pathsWithParams.length === 0 && Object.keys(segment.children).length > 0) {\n        return updateSegmentChildren(segment, startIndex, commands);\n    }\n    var m = prefixedWith(segment, startIndex, commands);\n    var slicedCommands = commands.slice(m.lastIndex);\n    if (m.match && slicedCommands.length === 0) {\n        return new url_tree_1.UrlSegment(segment.pathsWithParams, {});\n    }\n    else if (m.match && Object.keys(segment.children).length === 0) {\n        return createNewSegment(segment, startIndex, commands);\n    }\n    else if (m.match) {\n        return updateSegmentChildren(segment, 0, slicedCommands);\n    }\n    else {\n        return createNewSegment(segment, startIndex, commands);\n    }\n}\nfunction updateSegmentChildren(segment, startIndex, commands) {\n    if (commands.length === 0) {\n        return new url_tree_1.UrlSegment(segment.pathsWithParams, {});\n    }\n    else {\n        var outlet_1 = getOutlet(commands);\n        var children_1 = {};\n        children_1[outlet_1] = updateSegment(segment.children[outlet_1], startIndex, commands);\n        collection_1.forEach(segment.children, function (child, childOutlet) {\n            if (childOutlet !== outlet_1) {\n                children_1[childOutlet] = child;\n            }\n        });\n        return new url_tree_1.UrlSegment(segment.pathsWithParams, children_1);\n    }\n}\nfunction prefixedWith(segment, startIndex, commands) {\n    var currentCommandIndex = 0;\n    var currentPathIndex = startIndex;\n    var noMatch = { match: false, lastIndex: 0 };\n    while (currentPathIndex < segment.pathsWithParams.length) {\n        if (currentCommandIndex >= commands.length)\n            return noMatch;\n        var path = segment.pathsWithParams[currentPathIndex];\n        var curr = getPath(commands[currentCommandIndex]);\n        var next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n        if (curr && next && (typeof next === 'object')) {\n            if (!compare(curr, next, path))\n                return noMatch;\n            currentCommandIndex += 2;\n        }\n        else {\n            if (!compare(curr, {}, path))\n                return noMatch;\n            currentCommandIndex++;\n        }\n        currentPathIndex++;\n    }\n    return { match: true, lastIndex: currentCommandIndex };\n}\nfunction createNewSegment(segment, startIndex, commands) {\n    var paths = segment.pathsWithParams.slice(0, startIndex);\n    var i = 0;\n    while (i < commands.length) {\n        if (i === 0 && (typeof commands[0] === 'object')) {\n            var p = segment.pathsWithParams[startIndex];\n            paths.push(new url_tree_1.UrlPathWithParams(p.path, commands[0]));\n            i++;\n            continue;\n        }\n        var curr = getPath(commands[i]);\n        var next = (i < commands.length - 1) ? commands[i + 1] : null;\n        if (curr && next && (typeof next === 'object')) {\n            paths.push(new url_tree_1.UrlPathWithParams(curr, stringify(next)));\n            i += 2;\n        }\n        else {\n            paths.push(new url_tree_1.UrlPathWithParams(curr, {}));\n            i++;\n        }\n    }\n    return new url_tree_1.UrlSegment(paths, {});\n}\nfunction stringify(params) {\n    var res = {};\n    collection_1.forEach(params, function (v, k) { return res[k] = \"\" + v; });\n    return res;\n}\nfunction compare(path, params, pathWithParams) {\n    return path == pathWithParams.path && collection_1.shallowEqual(params, pathWithParams.parameters);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlX3VybF90cmVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NyZWF0ZV91cmxfdHJlZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsdUJBQXFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2hELHlCQUFxRCxZQUFZLENBQUMsQ0FBQTtBQUNsRSwyQkFBb0Msb0JBQW9CLENBQUMsQ0FBQTtBQUV6RCx1QkFDSSxLQUFxQixFQUFFLE9BQWdCLEVBQUUsUUFBZSxFQUFFLFdBQW1CLEVBQzdFLFFBQWdCO0lBQ2xCLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFRCxJQUFNLGtCQUFrQixHQUFHLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZELEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxxQkFBVSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3BGLENBQUM7SUFFRCxJQUFNLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNsRixJQUFNLE9BQU8sR0FBRyxnQkFBZ0IsQ0FBQyxlQUFlO1FBQzVDLHFCQUFxQixDQUNqQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLGtCQUFrQixDQUFDLFFBQVEsQ0FBQztRQUNsRixhQUFhLENBQUMsZ0JBQWdCLENB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QkFBaUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QyxDQUFDLEVBQUUsQ0FBQztRQUNOLENBQUM7SUFDSCxDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQUkscUJBQVUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVELG1CQUFtQixNQUE0QjtJQUM3QyxJQUFNLEdBQUcsR0FBNEIsRUFBRSxDQUFDO0lBQ3hDLG9CQUFPLENBQUMsTUFBTSxFQUFFLFVBQUMsQ0FBTSxFQUFFLENBQVMsSUFBSyxPQUFBLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFHLENBQUcsRUFBZixDQUFlLENBQUMsQ0FBQztJQUN4RCxNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVELGlCQUNJLElBQVksRUFBRSxNQUE0QixFQUFFLGNBQWlDO0lBQy9FLE1BQU0sQ0FBQyxJQUFJLElBQUksY0FBYyxDQUFDLElBQUksSUFBSSx5QkFBWSxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDeEYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWN0aXZhdGVkUm91dGV9IGZyb20gJy4vcm91dGVyX3N0YXRlJztcbmltcG9ydCB7UFJJTUFSWV9PVVRMRVQsIFBhcmFtc30gZnJvbSAnLi9zaGFyZWQnO1xuaW1wb3J0IHtVcmxQYXRoV2l0aFBhcmFtcywgVXJsU2VnbWVudCwgVXJsVHJlZX0gZnJvbSAnLi91cmxfdHJlZSc7XG5pbXBvcnQge2ZvckVhY2gsIHNoYWxsb3dFcXVhbH0gZnJvbSAnLi91dGlscy9jb2xsZWN0aW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVybFRyZWUoXG4gICAgcm91dGU6IEFjdGl2YXRlZFJvdXRlLCB1cmxUcmVlOiBVcmxUcmVlLCBjb21tYW5kczogYW55W10sIHF1ZXJ5UGFyYW1zOiBQYXJhbXMsXG4gICAgZnJhZ21lbnQ6IHN0cmluZyk6IFVybFRyZWUge1xuICBpZiAoY29tbWFuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRyZWUodXJsVHJlZS5yb290LCB1cmxUcmVlLnJvb3QsIHVybFRyZWUsIHF1ZXJ5UGFyYW1zLCBmcmFnbWVudCk7XG4gIH1cblxuICBjb25zdCBub3JtYWxpemVkQ29tbWFuZHMgPSBub3JtYWxpemVDb21tYW5kcyhjb21tYW5kcyk7XG4gIGlmIChuYXZpZ2F0ZVRvUm9vdChub3JtYWxpemVkQ29tbWFuZHMpKSB7XG4gICAgcmV0dXJuIHRyZWUodXJsVHJlZS5yb290LCBuZXcgVXJsU2VnbWVudChbXSwge30pLCB1cmxUcmVlLCBxdWVyeVBhcmFtcywgZnJhZ21lbnQpO1xuICB9XG5cbiAgY29uc3Qgc3RhcnRpbmdQb3NpdGlvbiA9IGZpbmRTdGFydGluZ1Bvc2l0aW9uKG5vcm1hbGl6ZWRDb21tYW5kcywgdXJsVHJlZSwgcm91dGUpO1xuICBjb25zdCBzZWdtZW50ID0gc3RhcnRpbmdQb3NpdGlvbi5wcm9jZXNzQ2hpbGRyZW4gP1xuICAgICAgdXBkYXRlU2VnbWVudENoaWxkcmVuKFxuICAgICAgICAgIHN0YXJ0aW5nUG9zaXRpb24uc2VnbWVudCwgc3RhcnRpbmdQb3NpdGlvbi5pbmRleCwgbm9ybWFsaXplZENvbW1hbmRzLmNvbW1hbmRzKSA6XG4gICAgICB1cGRhdGVTZWdtZW50KHN0YXJ0aW5nUG9zaXRpb24uc2VnbWVudCwgc3RhcnRpbmdQb3NpdGlvbi5pbmRleCwgbm9ybWFsaXplZENvbW1hbmRzLmNvbW1hbmRzKTtcbiAgcmV0dXJuIHRyZWUoc3RhcnRpbmdQb3NpdGlvbi5zZWdtZW50LCBzZWdtZW50LCB1cmxUcmVlLCBxdWVyeVBhcmFtcywgZnJhZ21lbnQpO1xufVxuXG5mdW5jdGlvbiB0cmVlKFxuICAgIG9sZFNlZ21lbnQ6IFVybFNlZ21lbnQsIG5ld1NlZ21lbnQ6IFVybFNlZ21lbnQsIHVybFRyZWU6IFVybFRyZWUsIHF1ZXJ5UGFyYW1zOiBQYXJhbXMsXG4gICAgZnJhZ21lbnQ6IHN0cmluZyk6IFVybFRyZWUge1xuICBjb25zdCBxID0gcXVlcnlQYXJhbXMgPyBzdHJpbmdpZnkocXVlcnlQYXJhbXMpIDogdXJsVHJlZS5xdWVyeVBhcmFtcztcbiAgY29uc3QgZiA9IGZyYWdtZW50ID8gZnJhZ21lbnQgOiB1cmxUcmVlLmZyYWdtZW50O1xuXG4gIGlmICh1cmxUcmVlLnJvb3QgPT09IG9sZFNlZ21lbnQpIHtcbiAgICByZXR1cm4gbmV3IFVybFRyZWUobmV3U2VnbWVudCwgcSwgZik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBVcmxUcmVlKHJlcGxhY2VTZWdtZW50KHVybFRyZWUucm9vdCwgb2xkU2VnbWVudCwgbmV3U2VnbWVudCksIHEsIGYpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VTZWdtZW50KFxuICAgIGN1cnJlbnQ6IFVybFNlZ21lbnQsIG9sZFNlZ21lbnQ6IFVybFNlZ21lbnQsIG5ld1NlZ21lbnQ6IFVybFNlZ21lbnQpOiBVcmxTZWdtZW50IHtcbiAgY29uc3QgY2hpbGRyZW46IHtba2V5OiBzdHJpbmddOiBVcmxTZWdtZW50fSA9IHt9O1xuICBmb3JFYWNoKGN1cnJlbnQuY2hpbGRyZW4sIChjOiBVcmxTZWdtZW50LCBvdXRsZXROYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoYyA9PT0gb2xkU2VnbWVudCkge1xuICAgICAgY2hpbGRyZW5bb3V0bGV0TmFtZV0gPSBuZXdTZWdtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZHJlbltvdXRsZXROYW1lXSA9IHJlcGxhY2VTZWdtZW50KGMsIG9sZFNlZ21lbnQsIG5ld1NlZ21lbnQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXcgVXJsU2VnbWVudChjdXJyZW50LnBhdGhzV2l0aFBhcmFtcywgY2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvUm9vdChub3JtYWxpemVkQ2hhbmdlOiBOb3JtYWxpemVkTmF2aWdhdGlvbkNvbW1hbmRzKTogYm9vbGVhbiB7XG4gIHJldHVybiBub3JtYWxpemVkQ2hhbmdlLmlzQWJzb2x1dGUgJiYgbm9ybWFsaXplZENoYW5nZS5jb21tYW5kcy5sZW5ndGggPT09IDEgJiZcbiAgICAgIG5vcm1hbGl6ZWRDaGFuZ2UuY29tbWFuZHNbMF0gPT0gJy8nO1xufVxuXG5jbGFzcyBOb3JtYWxpemVkTmF2aWdhdGlvbkNvbW1hbmRzIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBwdWJsaWMgaXNBYnNvbHV0ZTogYm9vbGVhbiwgcHVibGljIG51bWJlck9mRG91YmxlRG90czogbnVtYmVyLCBwdWJsaWMgY29tbWFuZHM6IGFueVtdKSB7fVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVDb21tYW5kcyhjb21tYW5kczogYW55W10pOiBOb3JtYWxpemVkTmF2aWdhdGlvbkNvbW1hbmRzIHtcbiAgaWYgKCh0eXBlb2YgY29tbWFuZHNbMF0gPT09ICdzdHJpbmcnKSAmJiBjb21tYW5kcy5sZW5ndGggPT09IDEgJiYgY29tbWFuZHNbMF0gPT0gJy8nKSB7XG4gICAgcmV0dXJuIG5ldyBOb3JtYWxpemVkTmF2aWdhdGlvbkNvbW1hbmRzKHRydWUsIDAsIGNvbW1hbmRzKTtcbiAgfVxuXG4gIGxldCBudW1iZXJPZkRvdWJsZURvdHMgPSAwO1xuICBsZXQgaXNBYnNvbHV0ZSA9IGZhbHNlO1xuICBjb25zdCByZXM6IGFueVtdID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21tYW5kcy5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGMgPSBjb21tYW5kc1tpXTtcblxuICAgIGlmICghKHR5cGVvZiBjID09PSAnc3RyaW5nJykpIHtcbiAgICAgIHJlcy5wdXNoKGMpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgcGFydHMgPSBjLnNwbGl0KCcvJyk7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7ICsraikge1xuICAgICAgbGV0IGNjID0gcGFydHNbal07XG5cbiAgICAgIC8vIGZpcnN0IGV4cCBpcyB0cmVhdGVkIGluIGEgc3BlY2lhbCB3YXlcbiAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgaWYgKGogPT0gMCAmJiBjYyA9PSAnLicpIHsgIC8vICAnLi9hJ1xuICAgICAgICAgIC8vIHNraXAgaXRcbiAgICAgICAgfSBlbHNlIGlmIChqID09IDAgJiYgY2MgPT0gJycpIHsgIC8vICAnL2EnXG4gICAgICAgICAgaXNBYnNvbHV0ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY2MgPT0gJy4uJykgeyAgLy8gICcuLi9hJ1xuICAgICAgICAgIG51bWJlck9mRG91YmxlRG90cysrO1xuICAgICAgICB9IGVsc2UgaWYgKGNjICE9ICcnKSB7XG4gICAgICAgICAgcmVzLnB1c2goY2MpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjYyAhPSAnJykge1xuICAgICAgICAgIHJlcy5wdXNoKGNjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgTm9ybWFsaXplZE5hdmlnYXRpb25Db21tYW5kcyhpc0Fic29sdXRlLCBudW1iZXJPZkRvdWJsZURvdHMsIHJlcyk7XG59XG5cbmNsYXNzIFBvc2l0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHNlZ21lbnQ6IFVybFNlZ21lbnQsIHB1YmxpYyBwcm9jZXNzQ2hpbGRyZW46IGJvb2xlYW4sIHB1YmxpYyBpbmRleDogbnVtYmVyKSB7fVxufVxuXG5mdW5jdGlvbiBmaW5kU3RhcnRpbmdQb3NpdGlvbihcbiAgICBub3JtYWxpemVkQ2hhbmdlOiBOb3JtYWxpemVkTmF2aWdhdGlvbkNvbW1hbmRzLCB1cmxUcmVlOiBVcmxUcmVlLFxuICAgIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSk6IFBvc2l0aW9uIHtcbiAgaWYgKG5vcm1hbGl6ZWRDaGFuZ2UuaXNBYnNvbHV0ZSkge1xuICAgIHJldHVybiBuZXcgUG9zaXRpb24odXJsVHJlZS5yb290LCB0cnVlLCAwKTtcbiAgfSBlbHNlIGlmIChyb3V0ZS5zbmFwc2hvdC5fbGFzdFBhdGhJbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHJvdXRlLnNuYXBzaG90Ll91cmxTZWdtZW50LCB0cnVlLCAwKTtcbiAgfSBlbHNlIGlmIChyb3V0ZS5zbmFwc2hvdC5fbGFzdFBhdGhJbmRleCArIDEgLSBub3JtYWxpemVkQ2hhbmdlLm51bWJlck9mRG91YmxlRG90cyA+PSAwKSB7XG4gICAgcmV0dXJuIG5ldyBQb3NpdGlvbihcbiAgICAgICAgcm91dGUuc25hcHNob3QuX3VybFNlZ21lbnQsIGZhbHNlLFxuICAgICAgICByb3V0ZS5zbmFwc2hvdC5fbGFzdFBhdGhJbmRleCArIDEgLSBub3JtYWxpemVkQ2hhbmdlLm51bWJlck9mRG91YmxlRG90cyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG51bWJlciBvZiBcXCcuLi9cXCcnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoKGNvbW1hbmQ6IGFueSk6IGFueSB7XG4gIGlmICghKHR5cGVvZiBjb21tYW5kID09PSAnc3RyaW5nJykpIHJldHVybiBjb21tYW5kLnRvU3RyaW5nKCk7XG4gIGNvbnN0IHBhcnRzID0gY29tbWFuZC50b1N0cmluZygpLnNwbGl0KCc6Jyk7XG4gIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiBjb21tYW5kO1xufVxuXG5mdW5jdGlvbiBnZXRPdXRsZXQoY29tbWFuZHM6IGFueVtdKTogc3RyaW5nIHtcbiAgaWYgKCEodHlwZW9mIGNvbW1hbmRzWzBdID09PSAnc3RyaW5nJykpIHJldHVybiBQUklNQVJZX09VVExFVDtcbiAgY29uc3QgcGFydHMgPSBjb21tYW5kc1swXS50b1N0cmluZygpLnNwbGl0KCc6Jyk7XG4gIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMF0gOiBQUklNQVJZX09VVExFVDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2VnbWVudChzZWdtZW50OiBVcmxTZWdtZW50LCBzdGFydEluZGV4OiBudW1iZXIsIGNvbW1hbmRzOiBhbnlbXSk6IFVybFNlZ21lbnQge1xuICBpZiAoIXNlZ21lbnQpIHtcbiAgICBzZWdtZW50ID0gbmV3IFVybFNlZ21lbnQoW10sIHt9KTtcbiAgfVxuICBpZiAoc2VnbWVudC5wYXRoc1dpdGhQYXJhbXMubGVuZ3RoID09PSAwICYmIE9iamVjdC5rZXlzKHNlZ21lbnQuY2hpbGRyZW4pLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdXBkYXRlU2VnbWVudENoaWxkcmVuKHNlZ21lbnQsIHN0YXJ0SW5kZXgsIGNvbW1hbmRzKTtcbiAgfVxuICBjb25zdCBtID0gcHJlZml4ZWRXaXRoKHNlZ21lbnQsIHN0YXJ0SW5kZXgsIGNvbW1hbmRzKTtcbiAgY29uc3Qgc2xpY2VkQ29tbWFuZHMgPSBjb21tYW5kcy5zbGljZShtLmxhc3RJbmRleCk7XG5cbiAgaWYgKG0ubWF0Y2ggJiYgc2xpY2VkQ29tbWFuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG5ldyBVcmxTZWdtZW50KHNlZ21lbnQucGF0aHNXaXRoUGFyYW1zLCB7fSk7XG4gIH0gZWxzZSBpZiAobS5tYXRjaCAmJiBPYmplY3Qua2V5cyhzZWdtZW50LmNoaWxkcmVuKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY3JlYXRlTmV3U2VnbWVudChzZWdtZW50LCBzdGFydEluZGV4LCBjb21tYW5kcyk7XG4gIH0gZWxzZSBpZiAobS5tYXRjaCkge1xuICAgIHJldHVybiB1cGRhdGVTZWdtZW50Q2hpbGRyZW4oc2VnbWVudCwgMCwgc2xpY2VkQ29tbWFuZHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVOZXdTZWdtZW50KHNlZ21lbnQsIHN0YXJ0SW5kZXgsIGNvbW1hbmRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVTZWdtZW50Q2hpbGRyZW4oXG4gICAgc2VnbWVudDogVXJsU2VnbWVudCwgc3RhcnRJbmRleDogbnVtYmVyLCBjb21tYW5kczogYW55W10pOiBVcmxTZWdtZW50IHtcbiAgaWYgKGNvbW1hbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBuZXcgVXJsU2VnbWVudChzZWdtZW50LnBhdGhzV2l0aFBhcmFtcywge30pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG91dGxldCA9IGdldE91dGxldChjb21tYW5kcyk7XG4gICAgY29uc3QgY2hpbGRyZW46IHtba2V5OiBzdHJpbmddOiBVcmxTZWdtZW50fSA9IHt9O1xuICAgIGNoaWxkcmVuW291dGxldF0gPSB1cGRhdGVTZWdtZW50KHNlZ21lbnQuY2hpbGRyZW5bb3V0bGV0XSwgc3RhcnRJbmRleCwgY29tbWFuZHMpO1xuICAgIGZvckVhY2goc2VnbWVudC5jaGlsZHJlbiwgKGNoaWxkOiBVcmxTZWdtZW50LCBjaGlsZE91dGxldDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoY2hpbGRPdXRsZXQgIT09IG91dGxldCkge1xuICAgICAgICBjaGlsZHJlbltjaGlsZE91dGxldF0gPSBjaGlsZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFVybFNlZ21lbnQoc2VnbWVudC5wYXRoc1dpdGhQYXJhbXMsIGNoaWxkcmVuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVmaXhlZFdpdGgoc2VnbWVudDogVXJsU2VnbWVudCwgc3RhcnRJbmRleDogbnVtYmVyLCBjb21tYW5kczogYW55W10pIHtcbiAgbGV0IGN1cnJlbnRDb21tYW5kSW5kZXggPSAwO1xuICBsZXQgY3VycmVudFBhdGhJbmRleCA9IHN0YXJ0SW5kZXg7XG5cbiAgY29uc3Qgbm9NYXRjaCA9IHttYXRjaDogZmFsc2UsIGxhc3RJbmRleDogMH07XG4gIHdoaWxlIChjdXJyZW50UGF0aEluZGV4IDwgc2VnbWVudC5wYXRoc1dpdGhQYXJhbXMubGVuZ3RoKSB7XG4gICAgaWYgKGN1cnJlbnRDb21tYW5kSW5kZXggPj0gY29tbWFuZHMubGVuZ3RoKSByZXR1cm4gbm9NYXRjaDtcbiAgICBjb25zdCBwYXRoID0gc2VnbWVudC5wYXRoc1dpdGhQYXJhbXNbY3VycmVudFBhdGhJbmRleF07XG4gICAgY29uc3QgY3VyciA9IGdldFBhdGgoY29tbWFuZHNbY3VycmVudENvbW1hbmRJbmRleF0pO1xuICAgIGNvbnN0IG5leHQgPVxuICAgICAgICBjdXJyZW50Q29tbWFuZEluZGV4IDwgY29tbWFuZHMubGVuZ3RoIC0gMSA/IGNvbW1hbmRzW2N1cnJlbnRDb21tYW5kSW5kZXggKyAxXSA6IG51bGw7XG5cbiAgICBpZiAoY3VyciAmJiBuZXh0ICYmICh0eXBlb2YgbmV4dCA9PT0gJ29iamVjdCcpKSB7XG4gICAgICBpZiAoIWNvbXBhcmUoY3VyciwgbmV4dCwgcGF0aCkpIHJldHVybiBub01hdGNoO1xuICAgICAgY3VycmVudENvbW1hbmRJbmRleCArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNvbXBhcmUoY3Vyciwge30sIHBhdGgpKSByZXR1cm4gbm9NYXRjaDtcbiAgICAgIGN1cnJlbnRDb21tYW5kSW5kZXgrKztcbiAgICB9XG4gICAgY3VycmVudFBhdGhJbmRleCsrO1xuICB9XG5cbiAgcmV0dXJuIHttYXRjaDogdHJ1ZSwgbGFzdEluZGV4OiBjdXJyZW50Q29tbWFuZEluZGV4fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3U2VnbWVudChzZWdtZW50OiBVcmxTZWdtZW50LCBzdGFydEluZGV4OiBudW1iZXIsIGNvbW1hbmRzOiBhbnlbXSk6IFVybFNlZ21lbnQge1xuICBjb25zdCBwYXRocyA9IHNlZ21lbnQucGF0aHNXaXRoUGFyYW1zLnNsaWNlKDAsIHN0YXJ0SW5kZXgpO1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChpIDwgY29tbWFuZHMubGVuZ3RoKSB7XG4gICAgLy8gaWYgd2Ugc3RhcnQgd2l0aCBhbiBvYmplY3QgbGl0ZXJhbCwgd2UgbmVlZCB0byByZXVzZSB0aGUgcGF0aCBwYXJ0IGZyb20gdGhlIHNlZ21lbnRcbiAgICBpZiAoaSA9PT0gMCAmJiAodHlwZW9mIGNvbW1hbmRzWzBdID09PSAnb2JqZWN0JykpIHtcbiAgICAgIGNvbnN0IHAgPSBzZWdtZW50LnBhdGhzV2l0aFBhcmFtc1tzdGFydEluZGV4XTtcbiAgICAgIHBhdGhzLnB1c2gobmV3IFVybFBhdGhXaXRoUGFyYW1zKHAucGF0aCwgY29tbWFuZHNbMF0pKTtcbiAgICAgIGkrKztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnIgPSBnZXRQYXRoKGNvbW1hbmRzW2ldKTtcbiAgICBjb25zdCBuZXh0ID0gKGkgPCBjb21tYW5kcy5sZW5ndGggLSAxKSA/IGNvbW1hbmRzW2kgKyAxXSA6IG51bGw7XG4gICAgaWYgKGN1cnIgJiYgbmV4dCAmJiAodHlwZW9mIG5leHQgPT09ICdvYmplY3QnKSkge1xuICAgICAgcGF0aHMucHVzaChuZXcgVXJsUGF0aFdpdGhQYXJhbXMoY3Vyciwgc3RyaW5naWZ5KG5leHQpKSk7XG4gICAgICBpICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGhzLnB1c2gobmV3IFVybFBhdGhXaXRoUGFyYW1zKGN1cnIsIHt9KSk7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgVXJsU2VnbWVudChwYXRocywge30pO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkocGFyYW1zOiB7W2tleTogc3RyaW5nXTogYW55fSk6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9IHtcbiAgY29uc3QgcmVzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuICBmb3JFYWNoKHBhcmFtcywgKHY6IGFueSwgazogc3RyaW5nKSA9PiByZXNba10gPSBgJHt2fWApO1xuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlKFxuICAgIHBhdGg6IHN0cmluZywgcGFyYW1zOiB7W2tleTogc3RyaW5nXTogYW55fSwgcGF0aFdpdGhQYXJhbXM6IFVybFBhdGhXaXRoUGFyYW1zKTogYm9vbGVhbiB7XG4gIHJldHVybiBwYXRoID09IHBhdGhXaXRoUGFyYW1zLnBhdGggJiYgc2hhbGxvd0VxdWFsKHBhcmFtcywgcGF0aFdpdGhQYXJhbXMucGFyYW1ldGVycyk7XG59Il19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/create_url_tree.js\n ** module id = 425\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('rxjs/Observable');\nvar of_1 = require('rxjs/observable/of');\nvar router_state_1 = require('./router_state');\nvar shared_1 = require('./shared');\nvar url_tree_1 = require('./url_tree');\nvar collection_1 = require('./utils/collection');\nvar tree_1 = require('./utils/tree');\nvar NoMatch = (function () {\n    function NoMatch(segment) {\n        if (segment === void 0) { segment = null; }\n        this.segment = segment;\n    }\n    return NoMatch;\n}());\nfunction recognize(rootComponentType, config, urlTree, url) {\n    try {\n        var children = processSegment(config, urlTree.root, shared_1.PRIMARY_OUTLET);\n        var root = new router_state_1.ActivatedRouteSnapshot([], {}, shared_1.PRIMARY_OUTLET, rootComponentType, null, urlTree.root, -1);\n        var rootNode = new tree_1.TreeNode(root, children);\n        return of_1.of(new router_state_1.RouterStateSnapshot(url, rootNode, urlTree.queryParams, urlTree.fragment));\n    }\n    catch (e) {\n        if (e instanceof NoMatch) {\n            return new Observable_1.Observable(function (obs) {\n                return obs.error(new Error(\"Cannot match any routes: '\" + e.segment + \"'\"));\n            });\n        }\n        else {\n            return new Observable_1.Observable(function (obs) { return obs.error(e); });\n        }\n    }\n}\nexports.recognize = recognize;\nfunction processSegment(config, segment, outlet) {\n    if (segment.pathsWithParams.length === 0 && Object.keys(segment.children).length > 0) {\n        return processSegmentChildren(config, segment);\n    }\n    else {\n        return [processPathsWithParams(config, segment, 0, segment.pathsWithParams, outlet)];\n    }\n}\nfunction processSegmentChildren(config, segment) {\n    var children = url_tree_1.mapChildrenIntoArray(segment, function (child, childOutlet) { return processSegment(config, child, childOutlet); });\n    checkOutletNameUniqueness(children);\n    sortActivatedRouteSnapshots(children);\n    return children;\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n    nodes.sort(function (a, b) {\n        if (a.value.outlet === shared_1.PRIMARY_OUTLET)\n            return -1;\n        if (b.value.outlet === shared_1.PRIMARY_OUTLET)\n            return 1;\n        return a.value.outlet.localeCompare(b.value.outlet);\n    });\n}\nfunction processPathsWithParams(config, segment, pathIndex, paths, outlet) {\n    for (var _i = 0, config_1 = config; _i < config_1.length; _i++) {\n        var r = config_1[_i];\n        try {\n            return processPathsWithParamsAgainstRoute(r, segment, pathIndex, paths, outlet);\n        }\n        catch (e) {\n            if (!(e instanceof NoMatch))\n                throw e;\n        }\n    }\n    throw new NoMatch(segment);\n}\nfunction processPathsWithParamsAgainstRoute(route, segment, pathIndex, paths, outlet) {\n    if (route.redirectTo)\n        throw new NoMatch();\n    if ((route.outlet ? route.outlet : shared_1.PRIMARY_OUTLET) !== outlet)\n        throw new NoMatch();\n    if (route.path === '**') {\n        var params = paths.length > 0 ? collection_1.last(paths).parameters : {};\n        var snapshot_1 = new router_state_1.ActivatedRouteSnapshot(paths, params, outlet, route.component, route, segment, -1);\n        return new tree_1.TreeNode(snapshot_1, []);\n    }\n    var _a = match(segment, route, paths), consumedPaths = _a.consumedPaths, parameters = _a.parameters, lastChild = _a.lastChild;\n    var snapshot = new router_state_1.ActivatedRouteSnapshot(consumedPaths, parameters, outlet, route.component, route, segment, pathIndex + lastChild - 1);\n    var slicedPath = paths.slice(lastChild);\n    var childConfig = route.children ? route.children : [];\n    if (childConfig.length === 0 && slicedPath.length === 0) {\n        return new tree_1.TreeNode(snapshot, []);\n    }\n    else if (slicedPath.length === 0 && Object.keys(segment.children).length > 0) {\n        var children = processSegmentChildren(childConfig, segment);\n        return new tree_1.TreeNode(snapshot, children);\n    }\n    else {\n        var child = processPathsWithParams(childConfig, segment, pathIndex + lastChild, slicedPath, shared_1.PRIMARY_OUTLET);\n        return new tree_1.TreeNode(snapshot, [child]);\n    }\n}\nfunction match(segment, route, paths) {\n    if (route.path === '') {\n        if (route.terminal && (Object.keys(segment.children).length > 0 || paths.length > 0)) {\n            throw new NoMatch();\n        }\n        else {\n            return { consumedPaths: [], lastChild: 0, parameters: {} };\n        }\n    }\n    var path = route.path;\n    var parts = path.split('/');\n    var posParameters = {};\n    var consumedPaths = [];\n    var currentIndex = 0;\n    for (var i = 0; i < parts.length; ++i) {\n        if (currentIndex >= paths.length)\n            throw new NoMatch();\n        var current = paths[currentIndex];\n        var p = parts[i];\n        var isPosParam = p.startsWith(':');\n        if (!isPosParam && p !== current.path)\n            throw new NoMatch();\n        if (isPosParam) {\n            posParameters[p.substring(1)] = current.path;\n        }\n        consumedPaths.push(current);\n        currentIndex++;\n    }\n    if (route.terminal && (Object.keys(segment.children).length > 0 || currentIndex < paths.length)) {\n        throw new NoMatch();\n    }\n    var parameters = collection_1.merge(posParameters, consumedPaths[consumedPaths.length - 1].parameters);\n    return { consumedPaths: consumedPaths, lastChild: currentIndex, parameters: parameters };\n}\nfunction checkOutletNameUniqueness(nodes) {\n    var names = {};\n    nodes.forEach(function (n) {\n        var routeWithSameOutletName = names[n.value.outlet];\n        if (routeWithSameOutletName) {\n            var p = routeWithSameOutletName.url.map(function (s) { return s.toString(); }).join('/');\n            var c = n.value.url.map(function (s) { return s.toString(); }).join('/');\n            throw new Error(\"Two segments cannot have the same outlet name: '\" + p + \"' and '\" + c + \"'.\");\n        }\n        names[n.value.outlet] = n.value;\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjb2duaXplLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3JlY29nbml6ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsMkJBQXlCLGlCQUFpQixDQUFDLENBQUE7QUFFM0MsbUJBQWtCLG9CQUFvQixDQUFDLENBQUE7QUFHdkMsNkJBQTBELGdCQUFnQixDQUFDLENBQUE7QUFDM0UsdUJBQTZCLFVBQVUsQ0FBQyxDQUFBO0FBQ3hDLHlCQUEyRSxZQUFZLENBQUMsQ0FBQTtBQUN4RiwyQkFBMEIsb0JBQW9CLENBQUMsQ0FBQTtBQUMvQyxxQkFBdUIsY0FBYyxDQUFDLENBQUE7QUFFdEM7SUFDRSxpQkFBbUIsT0FBMEI7UUFBakMsdUJBQWlDLEdBQWpDLGNBQWlDO1FBQTFCLFlBQU8sR0FBUCxPQUFPLENBQW1CO0lBQUcsQ0FBQztJQUNuRCxjQUFDO0FBQUQsQ0FBQyxBQUZELElBRUM7QUFFRCxtQkFDSSxpQkFBdUIsRUFBRSxNQUFvQixFQUFFLE9BQWdCLEVBQy9ELEdBQVc7SUFDYixJQUFJLENBQUM7UUFDSCxJQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsdUJBQWMsQ0FBQyxDQUFDO1FBQ3RFLElBQU0sSUFBSSxHQUFHLElBQUkscUNBQXNCLENBQ25DLEVBQUUsRUFBRSxFQUFFLEVBQUUsdUJBQWMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQU0sUUFBUSxHQUFHLElBQUksZUFBUSxDQUF5QixJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDdEUsTUFBTSxDQUFDLE9BQUUsQ0FBRSxJQUFJLGtDQUFtQixDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUM1RixDQUFFO0lBQUEsS0FBSyxD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QUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQVosQ0FBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sSUFBSSxLQUFLLENBQUMscURBQW1ELENBQUMsZUFBVSxDQUFDLE9BQUksQ0FBQyxDQUFDO1FBQ3ZGLENBQUM7UUFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VHlwZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQge09ic2VydmVyfSBmcm9tICdyeGpzL09ic2VydmVyJztcbmltcG9ydCB7b2YgfSBmcm9tICdyeGpzL29ic2VydmFibGUvb2YnO1xuXG5pbXBvcnQge1JvdXRlLCBSb3V0ZXJDb25maWd9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7QWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgUm91dGVyU3RhdGVTbmFwc2hvdH0gZnJvbSAnLi9yb3V0ZXJfc3RhdGUnO1xuaW1wb3J0IHtQUklNQVJZX09VVExFVH0gZnJvbSAnLi9zaGFyZWQnO1xuaW1wb3J0IHtVcmxQYXRoV2l0aFBhcmFtcywgVXJsU2VnbWVudCwgVXJsVHJlZSwgbWFwQ2hpbGRyZW5JbnRvQXJyYXl9IGZyb20gJy4vdXJsX3RyZWUnO1xuaW1wb3J0IHtsYXN0LCBtZXJnZX0gZnJvbSAnLi91dGlscy9jb2xsZWN0aW9uJztcbmltcG9ydCB7VHJlZU5vZGV9IGZyb20gJy4vdXRpbHMvdHJlZSc7XG5cbmNsYXNzIE5vTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2VnbWVudDogVXJsU2VnbWVudCA9IG51bGwpIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWNvZ25pemUoXG4gICAgcm9vdENvbXBvbmVudFR5cGU6IFR5cGUsIGNvbmZpZzogUm91dGVyQ29uZmlnLCB1cmxUcmVlOiBVcmxUcmVlLFxuICAgIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxSb3V0ZXJTdGF0ZVNuYXBzaG90PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwcm9jZXNzU2VnbWVudChjb25maWcsIHVybFRyZWUucm9vdCwgUFJJTUFSWV9PVVRMRVQpO1xuICAgIGNvbnN0IHJvb3QgPSBuZXcgQWN0aXZhdGVkUm91dGVTbmFwc2hvdChcbiAgICAgICAgW10sIHt9LCBQUklNQVJZX09VVExFVCwgcm9vdENvbXBvbmVudFR5cGUsIG51bGwsIHVybFRyZWUucm9vdCwgLTEpO1xuICAgIGNvbnN0IHJvb3ROb2RlID0gbmV3IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+KHJvb3QsIGNoaWxkcmVuKTtcbiAgICByZXR1cm4gb2YgKG5ldyBSb3V0ZXJTdGF0ZVNuYXBzaG90KHVybCwgcm9vdE5vZGUsIHVybFRyZWUucXVlcnlQYXJhbXMsIHVybFRyZWUuZnJhZ21lbnQpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgTm9NYXRjaCkge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFJvdXRlclN0YXRlU25hcHNob3Q+KFxuICAgICAgICAgIChvYnM6IE9ic2VydmVyPFJvdXRlclN0YXRlU25hcHNob3Q+KSA9PlxuICAgICAgICAgICAgICBvYnMuZXJyb3IobmV3IEVycm9yKGBDYW5ub3QgbWF0Y2ggYW55IHJvdXRlczogJyR7ZS5zZWdtZW50fSdgKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8Um91dGVyU3RhdGVTbmFwc2hvdD4oXG4gICAgICAgICAgKG9iczogT2JzZXJ2ZXI8Um91dGVyU3RhdGVTbmFwc2hvdD4pID0+IG9icy5lcnJvcihlKSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NTZWdtZW50KFxuICAgIGNvbmZpZzogUm91dGVbXSwgc2VnbWVudDogVXJsU2VnbWVudCwgb3V0bGV0OiBzdHJpbmcpOiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PltdIHtcbiAgaWYgKHNlZ21lbnQucGF0aHNXaXRoUGFyYW1zLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhzZWdtZW50LmNoaWxkcmVuKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NTZWdtZW50Q2hpbGRyZW4oY29uZmlnLCBzZWdtZW50KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3Byb2Nlc3NQYXRoc1dpdGhQYXJhbXMoY29uZmlnLCBzZWdtZW50LCAwLCBzZWdtZW50LnBhdGhzV2l0aFBhcmFtcywgb3V0bGV0KV07XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1NlZ21lbnRDaGlsZHJlbihcbiAgICBjb25maWc6IFJvdXRlW10sIHNlZ21lbnQ6IFVybFNlZ21lbnQpOiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PltdIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBtYXBDaGlsZHJlbkludG9BcnJheShcbiAgICAgIHNlZ21lbnQsIChjaGlsZCwgY2hpbGRPdXRsZXQpID0+IHByb2Nlc3NTZWdtZW50KGNvbmZpZywgY2hpbGQsIGNoaWxkT3V0bGV0KSk7XG4gIGNoZWNrT3V0bGV0TmFtZVVuaXF1ZW5lc3MoY2hpbGRyZW4pO1xuICBzb3J0QWN0aXZhdGVkUm91dGVTbmFwc2hvdHMoY2hpbGRyZW4pO1xuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIHNvcnRBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90cyhub2RlczogVHJlZU5vZGU8QWN0aXZhdGVkUm91dGVTbmFwc2hvdD5bXSk6IHZvaWQge1xuICBub2Rlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgaWYgKGEudmFsdWUub3V0bGV0ID09PSBQUklNQVJZX09VVExFVCkgcmV0dXJuIC0xO1xuICAgIGlmIChiLnZhbHVlLm91dGxldCA9PT0gUFJJTUFSWV9PVVRMRVQpIHJldHVybiAxO1xuICAgIHJldHVybiBhLnZhbHVlLm91dGxldC5sb2NhbGVDb21wYXJlKGIudmFsdWUub3V0bGV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NQYXRoc1dpdGhQYXJhbXMoXG4gICAgY29uZmlnOiBSb3V0ZVtdLCBzZWdtZW50OiBVcmxTZWdtZW50LCBwYXRoSW5kZXg6IG51bWJlciwgcGF0aHM6IFVybFBhdGhXaXRoUGFyYW1zW10sXG4gICAgb3V0bGV0OiBzdHJpbmcpOiBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PiB7XG4gIGZvciAobGV0IHIgb2YgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBwcm9jZXNzUGF0aHNXaXRoUGFyYW1zQWdhaW5zdFJvdXRlKHIsIHNlZ21lbnQsIHBhdGhJbmRleCwgcGF0aHMsIG91dGxldCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIE5vTWF0Y2gpKSB0aHJvdyBlO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgTm9NYXRjaChzZWdtZW50KTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1BhdGhzV2l0aFBhcmFtc0FnYWluc3RSb3V0ZShcbiAgICByb3V0ZTogUm91dGUsIHNlZ21lbnQ6IFVybFNlZ21lbnQsIHBhdGhJbmRleDogbnVtYmVyLCBwYXRoczogVXJsUGF0aFdpdGhQYXJhbXNbXSxcbiAgICBvdXRsZXQ6IHN0cmluZyk6IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+IHtcbiAgaWYgKHJvdXRlLnJlZGlyZWN0VG8pIHRocm93IG5ldyBOb01hdGNoKCk7XG4gIGlmICgocm91dGUub3V0bGV0ID8gcm91dGUub3V0bGV0IDogUFJJTUFSWV9PVVRMRVQpICE9PSBvdXRsZXQpIHRocm93IG5ldyBOb01hdGNoKCk7XG5cbiAgaWYgKHJvdXRlLnBhdGggPT09ICcqKicpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBwYXRocy5sZW5ndGggPiAwID8gbGFzdChwYXRocykucGFyYW1ldGVycyA6IHt9O1xuICAgIGNvbnN0IHNuYXBzaG90ID1cbiAgICAgICAgbmV3IEFjdGl2YXRlZFJvdXRlU25hcHNob3QocGF0aHMsIHBhcmFtcywgb3V0bGV0LCByb3V0ZS5jb21wb25lbnQsIHJvdXRlLCBzZWdtZW50LCAtMSk7XG4gICAgcmV0dXJuIG5ldyBUcmVlTm9kZTxBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PihzbmFwc2hvdCwgW10pO1xuICB9XG5cbiAgY29uc3Qge2NvbnN1bWVkUGF0aHMsIHBhcmFtZXRlcnMsIGxhc3RDaGlsZH0gPSBtYXRjaChzZWdtZW50LCByb3V0ZSwgcGF0aHMpO1xuXG4gIGNvbnN0IHNuYXBzaG90ID0gbmV3IEFjdGl2YXRlZFJvdXRlU25hcHNob3QoXG4gICAgICBjb25zdW1lZFBhdGhzLCBwYXJhbWV0ZXJzLCBvdXRsZXQsIHJvdXRlLmNvbXBvbmVudCwgcm91dGUsIHNlZ21lbnQsXG4gICAgICBwYXRoSW5kZXggKyBsYXN0Q2hpbGQgLSAxKTtcbiAgY29uc3Qgc2xpY2VkUGF0aCA9IHBhdGhzLnNsaWNlKGxhc3RDaGlsZCk7XG4gIGNvbnN0IGNoaWxkQ29uZmlnID0gcm91dGUuY2hpbGRyZW4gPyByb3V0ZS5jaGlsZHJlbiA6IFtdO1xuXG4gIGlmIChjaGlsZENvbmZpZy5sZW5ndGggPT09IDAgJiYgc2xpY2VkUGF0aC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbmV3IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+KHNuYXBzaG90LCBbXSk7XG5cbiAgICAvLyBUT0RPOiBjaGVjayB0aGF0IHRoZSByaWdodCBzZWdtZW50IGlzIHByZXNlbnRcbiAgfSBlbHNlIGlmIChzbGljZWRQYXRoLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhzZWdtZW50LmNoaWxkcmVuKS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwcm9jZXNzU2VnbWVudENoaWxkcmVuKGNoaWxkQ29uZmlnLCBzZWdtZW50KTtcbiAgICByZXR1cm4gbmV3IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+KHNuYXBzaG90LCBjaGlsZHJlbik7XG5cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjaGlsZCA9IHByb2Nlc3NQYXRoc1dpdGhQYXJhbXMoXG4gICAgICAgIGNoaWxkQ29uZmlnLCBzZWdtZW50LCBwYXRoSW5kZXggKyBsYXN0Q2hpbGQsIHNsaWNlZFBhdGgsIFBSSU1BUllfT1VUTEVUKTtcbiAgICByZXR1cm4gbmV3IFRyZWVOb2RlPEFjdGl2YXRlZFJvdXRlU25hcHNob3Q+KHNuYXBzaG90LCBbY2hpbGRdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaChzZWdtZW50OiBVcmxTZWdtZW50LCByb3V0ZTogUm91dGUsIHBhdGhzOiBVcmxQYXRoV2l0aFBhcmFtc1tdKSB7XG4gIGlmIChyb3V0ZS5wYXRoID09PSAnJykge1xuICAgIGlmIChyb3V0ZS50ZXJtaW5hbCAmJiAoT2JqZWN0LmtleXMoc2VnbWVudC5jaGlsZHJlbikubGVuZ3RoID4gMCB8fCBwYXRocy5sZW5ndGggPiAwKSkge1xuICAgICAgdGhyb3cgbmV3IE5vTWF0Y2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtjb25zdW1lZFBhdGhzOiBbXSwgbGFzdENoaWxkOiAwLCBwYXJhbWV0ZXJzOiB7fX07XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGF0aCA9IHJvdXRlLnBhdGg7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICBjb25zdCBwb3NQYXJhbWV0ZXJzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHt9O1xuICBjb25zdCBjb25zdW1lZFBhdGhzOiBVcmxQYXRoV2l0aFBhcmFtc1tdID0gW107XG5cbiAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChjdXJyZW50SW5kZXggPj0gcGF0aHMubGVuZ3RoKSB0aHJvdyBuZXcgTm9NYXRjaCgpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBwYXRoc1tjdXJyZW50SW5kZXhdO1xuXG4gICAgY29uc3QgcCA9IHBhcnRzW2ldO1xuICAgIGNvbnN0IGlzUG9zUGFyYW0gPSBwLnN0YXJ0c1dpdGgoJzonKTtcblxuICAgIGlmICghaXNQb3NQYXJhbSAmJiBwICE9PSBjdXJyZW50LnBhdGgpIHRocm93IG5ldyBOb01hdGNoKCk7XG4gICAgaWYgKGlzUG9zUGFyYW0pIHtcbiAgICAgIHBvc1BhcmFtZXRlcnNbcC5zdWJzdHJpbmcoMSldID0gY3VycmVudC5wYXRoO1xuICAgIH1cbiAgICBjb25zdW1lZFBhdGhzLnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudEluZGV4Kys7XG4gIH1cblxuICBpZiAocm91dGUudGVybWluYWwgJiYgKE9iamVjdC5rZXlzKHNlZ21lbnQuY2hpbGRyZW4pLmxlbmd0aCA+IDAgfHwgY3VycmVudEluZGV4IDwgcGF0aHMubGVuZ3RoKSkge1xuICAgIHRocm93IG5ldyBOb01hdGNoKCk7XG4gIH1cblxuICBjb25zdCBwYXJhbWV0ZXJzID0gbWVyZ2UocG9zUGFyYW1ldGVycywgY29uc3VtZWRQYXRoc1tjb25zdW1lZFBhdGhzLmxlbmd0aCAtIDFdLnBhcmFtZXRlcnMpO1xuICByZXR1cm4ge2NvbnN1bWVkUGF0aHMsIGxhc3RDaGlsZDogY3VycmVudEluZGV4LCBwYXJhbWV0ZXJzfTtcbn1cblxuZnVuY3Rpb24gY2hlY2tPdXRsZXROYW1lVW5pcXVlbmVzcyhub2RlczogVHJlZU5vZGU8QWN0aXZhdGVkUm91dGVTbmFwc2hvdD5bXSk6IHZvaWQge1xuICBjb25zdCBuYW1lczoge1trOiBzdHJpbmddOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90fSA9IHt9O1xuICBub2Rlcy5mb3JFYWNoKG4gPT4ge1xuICAgIGxldCByb3V0ZVdpdGhTYW1lT3V0bGV0TmFtZSA9IG5hbWVzW24udmFsdWUub3V0bGV0XTtcbiAgICBpZiAocm91dGVXaXRoU2FtZU91dGxldE5hbWUpIHtcbiAgICAgIGNvbnN0IHAgPSByb3V0ZVdpdGhTYW1lT3V0bGV0TmFtZS51cmwubWFwKHMgPT4gcy50b1N0cmluZygpKS5qb2luKCcvJyk7XG4gICAgICBjb25zdCBjID0gbi52YWx1ZS51cmwubWFwKHMgPT4gcy50b1N0cmluZygpKS5qb2luKCcvJyk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFR3byBzZWdtZW50cyBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBvdXRsZXQgbmFtZTogJyR7cH0nIGFuZCAnJHtjfScuYCk7XG4gICAgfVxuICAgIG5hbWVzW24udmFsdWUub3V0bGV0XSA9IG4udmFsdWU7XG4gIH0pO1xufSJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/recognize.js\n ** module id = 426\n ** module chunks = 0\n **/","\"use strict\";\nrequire('rxjs/add/operator/map');\nrequire('rxjs/add/operator/toPromise');\nvar forkJoin_1 = require('rxjs/observable/forkJoin');\nvar fromPromise_1 = require('rxjs/observable/fromPromise');\nfunction resolve(resolver, state) {\n    return resolveNode(resolver, state._root).map(function (_) { return state; });\n}\nexports.resolve = resolve;\nfunction resolveNode(resolver, node) {\n    if (node.children.length === 0) {\n        return fromPromise_1.fromPromise(resolver.resolveComponent(node.value.component).then(function (factory) {\n            node.value._resolvedComponentFactory = factory;\n            return node.value;\n        }));\n    }\n    else {\n        var c = node.children.map(function (c) { return resolveNode(resolver, c).toPromise(); });\n        return forkJoin_1.forkJoin(c).map(function (_) { return resolver.resolveComponent(node.value.component).then(function (factory) {\n            node.value._resolvedComponentFactory = factory;\n            return node.value;\n        }); });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXNvbHZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxRQUFPLHVCQUF1QixDQUFDLENBQUE7QUFDL0IsUUFBTyw2QkFBNkIsQ0FBQyxDQUFBO0FBSXJDLHlCQUF1QiwwQkFBMEIsQ0FBQyxDQUFBO0FBQ2xELDRCQUEwQiw2QkFBNkIsQ0FBQyxDQUFBO0FBS3hELGlCQUNJLFFBQTJCLEVBQUUsS0FBMEI7SUFDekQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUssRUFBTCxDQUFLLENBQUMsQ0FBQztBQUM1RCxDQUFDO0FBSGUsZUFBTyxVQUd0QixDQUFBO0FBRUQscUJBQ0ksUUFBMkIsRUFBRSxJQUFzQztJQUNyRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLE1BQU0sQ0FBQyx5QkFBVyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLE9BQU87WUFDbEYsSUFBSSxDQUFDLEtBQUssQ0FBQyx5QkFBeUIsR0FBRyxPQUFPLENBQUM7WUFDL0MsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVOLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBcEMsQ0FBb0MsQ0FBQyxDQUFDO1FBQ3ZFLE1BQU0sQ0FBQyxtQkFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FDbEIsVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLENBQUMsZ0JBQWdCLENBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxPQUFPO1lBQ3BFLElBQUksQ0FBQyxLQUFLLENBQUMseUJBQXlCLEdBQUcsT0FBTyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BCLENBQUMsQ0FBQyxFQUhHLENBR0gsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL3RvUHJvbWlzZSc7XG5cbmltcG9ydCB7Q29tcG9uZW50UmVzb2x2ZXJ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0IHtmb3JrSm9pbn0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL2ZvcmtKb2luJztcbmltcG9ydCB7ZnJvbVByb21pc2V9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9mcm9tUHJvbWlzZSc7XG5cbmltcG9ydCB7QWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgUm91dGVyU3RhdGVTbmFwc2hvdH0gZnJvbSAnLi9yb3V0ZXJfc3RhdGUnO1xuaW1wb3J0IHtUcmVlTm9kZX0gZnJvbSAnLi91dGlscy90cmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmUoXG4gICAgcmVzb2x2ZXI6IENvbXBvbmVudFJlc29sdmVyLCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Um91dGVyU3RhdGVTbmFwc2hvdD4ge1xuICByZXR1cm4gcmVzb2x2ZU5vZGUocmVzb2x2ZXIsIHN0YXRlLl9yb290KS5tYXAoXyA9PiBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVOb2RlKFxuICAgIHJlc29sdmVyOiBDb21wb25lbnRSZXNvbHZlciwgbm9kZTogVHJlZU5vZGU8QWN0aXZhdGVkUm91dGVTbmFwc2hvdD4pOiBPYnNlcnZhYmxlPGFueT4ge1xuICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnJvbVByb21pc2UocmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudCg8YW55Pm5vZGUudmFsdWUuY29tcG9uZW50KS50aGVuKGZhY3RvcnkgPT4ge1xuICAgICAgbm9kZS52YWx1ZS5fcmVzb2x2ZWRDb21wb25lbnRGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgIH0pKTtcblxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGMgPSBub2RlLmNoaWxkcmVuLm1hcChjID0+IHJlc29sdmVOb2RlKHJlc29sdmVyLCBjKS50b1Byb21pc2UoKSk7XG4gICAgcmV0dXJuIGZvcmtKb2luKGMpLm1hcChcbiAgICAgICAgXyA9PiByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50KDxhbnk+bm9kZS52YWx1ZS5jb21wb25lbnQpLnRoZW4oZmFjdG9yeSA9PiB7XG4gICAgICAgICAgbm9kZS52YWx1ZS5fcmVzb2x2ZWRDb21wb25lbnRGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgICAgICAgfSkpO1xuICB9XG59Il19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/resolve.js\n ** module id = 427\n ** module chunks = 0\n **/","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar toPromise_1 = require('../../operator/toPromise');\nObservable_1.Observable.prototype.toPromise = toPromise_1.toPromise;\n//# sourceMappingURL=toPromise.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/add/operator/toPromise.js\n ** module id = 428\n ** module chunks = 0\n **/","\"use strict\";\nvar PromiseObservable_1 = require('./PromiseObservable');\nexports.fromPromise = PromiseObservable_1.PromiseObservable.create;\n//# sourceMappingURL=fromPromise.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rxjs/observable/fromPromise.js\n ** module id = 431\n ** module chunks = 0\n **/","\"use strict\";\nvar RouterOutletMap = (function () {\n    function RouterOutletMap() {\n        this._outlets = {};\n    }\n    RouterOutletMap.prototype.registerOutlet = function (name, outlet) { this._outlets[name] = outlet; };\n    return RouterOutletMap;\n}());\nexports.RouterOutletMap = RouterOutletMap;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyX291dGxldF9tYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcm91dGVyX291dGxldF9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUtBO0lBQUE7UUFFRSxhQUFRLEdBQW1DLEVBQUUsQ0FBQztJQUVoRCxDQUFDO0lBREMsd0NBQWMsR0FBZCxVQUFlLElBQVksRUFBRSxNQUFvQixJQUFVLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUM1RixzQkFBQztBQUFELENBQUMsQUFKRCxJQUlDO0FBSlksdUJBQWUsa0JBSTNCLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlck91dGxldH0gZnJvbSAnLi9kaXJlY3RpdmVzL3JvdXRlcl9vdXRsZXQnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgUm91dGVyT3V0bGV0TWFwIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfb3V0bGV0czoge1tuYW1lOiBzdHJpbmddOiBSb3V0ZXJPdXRsZXR9ID0ge307XG4gIHJlZ2lzdGVyT3V0bGV0KG5hbWU6IHN0cmluZywgb3V0bGV0OiBSb3V0ZXJPdXRsZXQpOiB2b2lkIHsgdGhpcy5fb3V0bGV0c1tuYW1lXSA9IG91dGxldDsgfVxufVxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/router_outlet_map.js\n ** module id = 432\n ** module chunks = 0\n **/","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar core_1 = require('@angular/core');\nvar router_1 = require('../router');\nvar url_tree_1 = require('../url_tree');\nvar router_link_1 = require('./router_link');\nvar RouterLinkActive = (function () {\n    function RouterLinkActive(router, element, renderer) {\n        var _this = this;\n        this.router = router;\n        this.element = element;\n        this.renderer = renderer;\n        this.classes = [];\n        this.routerLinkActiveOptions = { exact: true };\n        this.subscription = router.events.subscribe(function (s) {\n            if (s instanceof router_1.NavigationEnd) {\n                _this.update();\n            }\n        });\n    }\n    RouterLinkActive.prototype.ngAfterContentInit = function () {\n        var _this = this;\n        this.links.changes.subscribe(function (s) { return _this.update(); });\n        this.update();\n    };\n    Object.defineProperty(RouterLinkActive.prototype, \"routerLinkActive\", {\n        set: function (data) {\n            if (Array.isArray(data)) {\n                this.classes = data;\n            }\n            else {\n                this.classes = data.split(' ');\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RouterLinkActive.prototype.ngOnChanges = function (changes) { this.update(); };\n    RouterLinkActive.prototype.ngOnDestroy = function () { this.subscription.unsubscribe(); };\n    RouterLinkActive.prototype.update = function () {\n        var _this = this;\n        if (!this.links || this.links.length === 0)\n            return;\n        var currentUrlTree = this.router.parseUrl(this.router.url);\n        var isActive = this.links.reduce(function (res, link) {\n            return res || url_tree_1.containsTree(currentUrlTree, link.urlTree, _this.routerLinkActiveOptions.exact);\n        }, false);\n        this.classes.forEach(function (c) { return _this.renderer.setElementClass(_this.element.nativeElement, c, isActive); });\n    };\n    __decorate([\n        core_1.ContentChildren(router_link_1.RouterLink), \n        __metadata('design:type', core_1.QueryList)\n    ], RouterLinkActive.prototype, \"links\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], RouterLinkActive.prototype, \"routerLinkActiveOptions\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object), \n        __metadata('design:paramtypes', [Object])\n    ], RouterLinkActive.prototype, \"routerLinkActive\", null);\n    RouterLinkActive = __decorate([\n        core_1.Directive({ selector: '[routerLinkActive]' }), \n        __metadata('design:paramtypes', [router_1.Router, core_1.ElementRef, core_1.Renderer])\n    ], RouterLinkActive);\n    return RouterLinkActive;\n}());\nexports.RouterLinkActive = RouterLinkActive;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyX2xpbmtfYWN0aXZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RpcmVjdGl2ZXMvcm91dGVyX2xpbmtfYWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxQkFBeUgsZUFBZSxDQUFDLENBQUE7QUFHekksdUJBQW9DLFdBQVcsQ0FBQyxDQUFBO0FBQ2hELHlCQUEyQixhQUFhLENBQUMsQ0FBQTtBQUV6Qyw0QkFBeUIsZUFBZSxDQUFDLENBQUE7QUFPekM7SUFVRSwwQkFBb0IsTUFBYyxFQUFVLE9BQW1CLEVBQVUsUUFBa0I7UUFWN0YsaUJBK0NDO1FBckNxQixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQVUsWUFBTyxHQUFQLE9BQU8sQ0FBWTtRQUFVLGFBQVEsR0FBUixRQUFRLENBQVU7UUFSbkYsWUFBTyxHQUFhLEVBQUUsQ0FBQztRQUdkLDRCQUF1QixHQUE0QixFQUFDLEtBQUssRUFBRSxJQUFJLEVBQUMsQ0FBQztRQU1oRixJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQUEsQ0FBQztZQUMzQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksc0JBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQy9CLEtBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNoQixDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsNkNBQWtCLEdBQWxCO1FBQUEsaUJBR0M7UUFGQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsTUFBTSxFQUFFLEVBQWIsQ0FBYSxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFHRCxzQkFBSSw4Q0FBZ0I7YUFBcEIsVUFBcUIsSUFBcUI7WUFDeEMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQVEsSUFBSSxDQUFDO1lBQzNCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakMsQ0FBQztRQUNILENBQUM7OztPQUFBO0lBRUQsc0NBQVcsR0FBWCxVQUFZLE9BQVcsSUFBUyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hELHNDQUFXLEdBQVgsY0FBcUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFL0MsaUNBQU0sR0FBZDtRQUFBLGlCQVdDO1FBVkMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQztRQUVuRCxJQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdELElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUM5QixVQUFDLEdBQUcsRUFBRSxJQUFJO1lBQ04sT0FBQSxHQUFHLElBQUksdUJBQVksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFJLENBQUMsdUJBQXVCLENBQUMsS0FBSyxDQUFDO1FBQXJGLENBQXFGLEVBQ3pGLEtBQUssQ0FBQyxDQUFDO1FBRVgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQ2hCLFVBQUEsQ0FBQyxJQUFJLE9BQUEsS0FBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUF0RSxDQUFzRSxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQTdDRDtRQUFDLHNCQUFlLENBQUMsd0JBQVUsQ0FBQzs7bURBQUE7SUFJNUI7UUFBQyxZQUFLLEVBQUU7O3FFQUFBO0lBa0JSO1FBQUMsWUFBSyxFQUFFOzs7NERBQUE7SUF4QlY7UUFBQyxnQkFBUyxDQUFDLEVBQUMsUUFBUSxFQUFFLG9CQUFvQixFQUFDLENBQUM7O3dCQUFBO0lBZ0Q1Qyx1QkFBQztBQUFELENBQUMsQUEvQ0QsSUErQ0M7QUEvQ1ksd0JBQWdCLG1CQStDNUIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWZ0ZXJDb250ZW50SW5pdCwgQ29udGVudENoaWxkcmVuLCBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIElucHV0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgUXVlcnlMaXN0LCBSZW5kZXJlcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1N1YnNjcmlwdGlvbn0gZnJvbSAncnhqcy9TdWJzY3JpcHRpb24nO1xuXG5pbXBvcnQge05hdmlnYXRpb25FbmQsIFJvdXRlcn0gZnJvbSAnLi4vcm91dGVyJztcbmltcG9ydCB7Y29udGFpbnNUcmVlfSBmcm9tICcuLi91cmxfdHJlZSc7XG5cbmltcG9ydCB7Um91dGVyTGlua30gZnJvbSAnLi9yb3V0ZXJfbGluayc7XG5cbmludGVyZmFjZSBSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucyB7XG4gIGV4YWN0OiBib29sZWFuO1xufVxuXG5ARGlyZWN0aXZlKHtzZWxlY3RvcjogJ1tyb3V0ZXJMaW5rQWN0aXZlXSd9KVxuZXhwb3J0IGNsYXNzIFJvdXRlckxpbmtBY3RpdmUgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uRGVzdHJveSwgQWZ0ZXJDb250ZW50SW5pdCB7XG4gIEBDb250ZW50Q2hpbGRyZW4oUm91dGVyTGluaykgcHJpdmF0ZSBsaW5rczogUXVlcnlMaXN0PFJvdXRlckxpbms+O1xuICBwcml2YXRlIGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgQElucHV0KCkgcHJpdmF0ZSByb3V0ZXJMaW5rQWN0aXZlT3B0aW9uczogUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMgPSB7ZXhhY3Q6IHRydWV9O1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsIHByaXZhdGUgZWxlbWVudDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHJvdXRlci5ldmVudHMuc3Vic2NyaWJlKHMgPT4ge1xuICAgICAgaWYgKHMgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5saW5rcy5jaGFuZ2VzLnN1YnNjcmliZShzID0+IHRoaXMudXBkYXRlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBASW5wdXQoKVxuICBzZXQgcm91dGVyTGlua0FjdGl2ZShkYXRhOiBzdHJpbmdbXXxzdHJpbmcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgdGhpcy5jbGFzc2VzID0gPGFueT5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsYXNzZXMgPSBkYXRhLnNwbGl0KCcgJyk7XG4gICAgfVxuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczoge30pOiBhbnkgeyB0aGlzLnVwZGF0ZSgpOyB9XG4gIG5nT25EZXN0cm95KCk6IGFueSB7IHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7IH1cblxuICBwcml2YXRlIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubGlua3MgfHwgdGhpcy5saW5rcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRVcmxUcmVlID0gdGhpcy5yb3V0ZXIucGFyc2VVcmwodGhpcy5yb3V0ZXIudXJsKTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHRoaXMubGlua3MucmVkdWNlKFxuICAgICAgICAocmVzLCBsaW5rKSA9PlxuICAgICAgICAgICAgcmVzIHx8IGNvbnRhaW5zVHJlZShjdXJyZW50VXJsVHJlZSwgbGluay51cmxUcmVlLCB0aGlzLnJvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KSxcbiAgICAgICAgZmFsc2UpO1xuXG4gICAgdGhpcy5jbGFzc2VzLmZvckVhY2goXG4gICAgICAgIGMgPT4gdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3ModGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIGMsIGlzQWN0aXZlKSk7XG4gIH1cbn1cbiJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/directives/router_link_active.js\n ** module id = 433\n ** module chunks = 0\n **/","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar core_1 = require('@angular/core');\nvar router_outlet_map_1 = require('../router_outlet_map');\nvar shared_1 = require('../shared');\nvar RouterOutlet = (function () {\n    function RouterOutlet(parentOutletMap, location, name) {\n        this.location = location;\n        parentOutletMap.registerOutlet(name ? name : shared_1.PRIMARY_OUTLET, this);\n    }\n    Object.defineProperty(RouterOutlet.prototype, \"isActivated\", {\n        get: function () { return !!this.activated; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RouterOutlet.prototype, \"component\", {\n        get: function () {\n            if (!this.activated)\n                throw new Error('Outlet is not activated');\n            return this.activated.instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RouterOutlet.prototype, \"activatedRoute\", {\n        get: function () {\n            if (!this.activated)\n                throw new Error('Outlet is not activated');\n            return this._activatedRoute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RouterOutlet.prototype.deactivate = function () {\n        if (this.activated) {\n            this.activated.destroy();\n            this.activated = null;\n        }\n    };\n    RouterOutlet.prototype.activate = function (factory, activatedRoute, providers, outletMap) {\n        this.outletMap = outletMap;\n        this._activatedRoute = activatedRoute;\n        var inj = core_1.ReflectiveInjector.fromResolvedProviders(providers, this.location.parentInjector);\n        this.activated = this.location.createComponent(factory, this.location.length, inj, []);\n    };\n    RouterOutlet = __decorate([\n        core_1.Directive({ selector: 'router-outlet' }),\n        __param(2, core_1.Attribute('name')), \n        __metadata('design:paramtypes', [router_outlet_map_1.RouterOutletMap, core_1.ViewContainerRef, String])\n    ], RouterOutlet);\n    return RouterOutlet;\n}());\nexports.RouterOutlet = RouterOutlet;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyX291dGxldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaXJlY3RpdmVzL3JvdXRlcl9vdXRsZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLHFCQUFxSSxlQUFlLENBQUMsQ0FBQTtBQUNySixrQ0FBOEIsc0JBQXNCLENBQUMsQ0FBQTtBQUVyRCx1QkFBNkIsV0FBVyxDQUFDLENBQUE7QUFHekM7SUFRRSxzQkFDSSxlQUFnQyxFQUFVLFFBQTBCLEVBQ2pELElBQVk7UUFEVyxhQUFRLEdBQVIsUUFBUSxDQUFrQjtRQUV0RSxlQUFlLENBQUMsY0FBYyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsdUJBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRUQsc0JBQUkscUNBQVc7YUFBZixjQUE2QixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUN2RCxzQkFBSSxtQ0FBUzthQUFiO1lBQ0UsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUNoRSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFDRCxzQkFBSSx3Q0FBYzthQUFsQjtZQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFBQyxNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDaEUsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxpQ0FBVSxHQUFWO1FBQ0UsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN4QixDQUFDO0lBQ0gsQ0FBQztJQUVELCtCQUFRLEdBQVIsVUFDSSxPQUE4QixFQUFFLGNBQThCLEVBQzlELFNBQXVDLEVBQUUsU0FBMEI7UUFDckUsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLGVBQWUsR0FBRyxjQUFjLENBQUM7UUFDdEMsSUFBTSxHQUFHLEdBQUcseUJBQWtCLENBQUMscUJBQXFCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUYsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3pGLENBQUM7SUF2Q0g7UUFBQyxnQkFBUyxDQUFDLEVBQUMsUUFBUSxFQUFFLGVBQWUsRUFBQyxDQUFDO21CQVdoQyxnQkFBUyxDQUFDLE1BQU0sQ0FBQzs7b0JBWGU7SUF3Q3ZDLG1CQUFDO0FBQUQsQ0FBQyxBQXZDRCxJQXVDQztBQXZDWSxvQkFBWSxlQXVDeEIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXR0cmlidXRlLCBDb21wb25lbnRGYWN0b3J5LCBDb21wb25lbnRSZWYsIERpcmVjdGl2ZSwgUmVmbGVjdGl2ZUluamVjdG9yLCBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlciwgVmlld0NvbnRhaW5lclJlZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1JvdXRlck91dGxldE1hcH0gZnJvbSAnLi4vcm91dGVyX291dGxldF9tYXAnO1xuaW1wb3J0IHtBY3RpdmF0ZWRSb3V0ZX0gZnJvbSAnLi4vcm91dGVyX3N0YXRlJztcbmltcG9ydCB7UFJJTUFSWV9PVVRMRVR9IGZyb20gJy4uL3NoYXJlZCc7XG5cbkBEaXJlY3RpdmUoe3NlbGVjdG9yOiAncm91dGVyLW91dGxldCd9KVxuZXhwb3J0IGNsYXNzIFJvdXRlck91dGxldCB7XG4gIHByaXZhdGUgYWN0aXZhdGVkOiBDb21wb25lbnRSZWY8YW55PjtcbiAgcHJpdmF0ZSBfYWN0aXZhdGVkUm91dGU6IEFjdGl2YXRlZFJvdXRlO1xuICBwdWJsaWMgb3V0bGV0TWFwOiBSb3V0ZXJPdXRsZXRNYXA7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgICBwYXJlbnRPdXRsZXRNYXA6IFJvdXRlck91dGxldE1hcCwgcHJpdmF0ZSBsb2NhdGlvbjogVmlld0NvbnRhaW5lclJlZixcbiAgICAgIEBBdHRyaWJ1dGUoJ25hbWUnKSBuYW1lOiBzdHJpbmcpIHtcbiAgICBwYXJlbnRPdXRsZXRNYXAucmVnaXN0ZXJPdXRsZXQobmFtZSA/IG5hbWUgOiBQUklNQVJZX09VVExFVCwgdGhpcyk7XG4gIH1cblxuICBnZXQgaXNBY3RpdmF0ZWQoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuYWN0aXZhdGVkOyB9XG4gIGdldCBjb21wb25lbnQoKTogT2JqZWN0IHtcbiAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB0aHJvdyBuZXcgRXJyb3IoJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICB9XG4gIGdldCBhY3RpdmF0ZWRSb3V0ZSgpOiBBY3RpdmF0ZWRSb3V0ZSB7XG4gICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkgdGhyb3cgbmV3IEVycm9yKCdPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCcpO1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICB0aGlzLmFjdGl2YXRlZC5kZXN0cm95KCk7XG4gICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgYWN0aXZhdGUoXG4gICAgICBmYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5PGFueT4sIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgIHByb3ZpZGVyczogUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJbXSwgb3V0bGV0TWFwOiBSb3V0ZXJPdXRsZXRNYXApOiB2b2lkIHtcbiAgICB0aGlzLm91dGxldE1hcCA9IG91dGxldE1hcDtcbiAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IGFjdGl2YXRlZFJvdXRlO1xuICAgIGNvbnN0IGluaiA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzLCB0aGlzLmxvY2F0aW9uLnBhcmVudEluamVjdG9yKTtcbiAgICB0aGlzLmFjdGl2YXRlZCA9IHRoaXMubG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KGZhY3RvcnksIHRoaXMubG9jYXRpb24ubGVuZ3RoLCBpbmosIFtdKTtcbiAgfVxufVxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/directives/router_outlet.js\n ** module id = 434\n ** module chunks = 0\n **/","\"use strict\";\nvar common_1 = require('@angular/common');\nvar platform_browser_1 = require('@angular/platform-browser');\nvar common = require('./common_router_providers');\nfunction provideRouter(config, opts) {\n    if (opts === void 0) { opts = {}; }\n    return [\n        { provide: common_1.PlatformLocation, useClass: platform_browser_1.BrowserPlatformLocation }\n    ].concat(common.provideRouter(config, opts));\n}\nexports.provideRouter = provideRouter;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyX3Byb3ZpZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9yb3V0ZXJfcHJvdmlkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx1QkFBK0IsaUJBQWlCLENBQUMsQ0FBQTtBQUNqRCxpQ0FBc0MsMkJBQTJCLENBQUMsQ0FBQTtBQUVsRSxJQUFZLE1BQU0sV0FBTSwyQkFBMkIsQ0FBQyxDQUFBO0FBc0JwRCx1QkFBOEIsTUFBb0IsRUFBRSxJQUE4QjtJQUE5QixvQkFBOEIsR0FBOUIsU0FBOEI7SUFDaEYsTUFBTSxDQUFDO1FBQ0wsRUFBQyxPQUFPLEVBQUUseUJBQWdCLEVBQUUsUUFBUSxFQUFFLDBDQUF1QixFQUFDO2FBQzNELE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUN0QyxDQUFDO0FBQ0osQ0FBQztBQUxlLHFCQUFhLGdCQUs1QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQbGF0Zm9ybUxvY2F0aW9ufSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbn0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5cbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL2NvbW1vbl9yb3V0ZXJfcHJvdmlkZXJzJztcbmltcG9ydCB7Um91dGVyQ29uZmlnfSBmcm9tICcuL2NvbmZpZyc7XG5cblxuLyoqXG4gKiBBIGxpc3Qgb2Yge0BsaW5rIFByb3ZpZGVyfXMuIFRvIHVzZSB0aGUgcm91dGVyLCB5b3UgbXVzdCBhZGQgdGhpcyB0byB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBAQ29tcG9uZW50KHtkaXJlY3RpdmVzOiBbUk9VVEVSX0RJUkVDVElWRVNdfSlcbiAqIGNsYXNzIEFwcENtcCB7XG4gKiAgIC8vIC4uLlxuICogfVxuICpcbiAqIGNvbnN0IHJvdXRlciA9IFtcbiAqICAge3BhdGg6ICcvaG9tZScsIGNvbXBvbmVudDogSG9tZX1cbiAqIF07XG4gKlxuICogYm9vdHN0cmFwKEFwcENtcCwgW3Byb3ZpZGVSb3V0ZXIocm91dGVyKV0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm92aWRlUm91dGVyKGNvbmZpZzogUm91dGVyQ29uZmlnLCBvcHRzOiBjb21tb24uRXh0cmFPcHRpb25zID0ge30pOiBhbnlbXSB7XG4gIHJldHVybiBbXG4gICAge3Byb3ZpZGU6IFBsYXRmb3JtTG9jYXRpb24sIHVzZUNsYXNzOiBCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbn0sXG4gICAgLi4uY29tbW9uLnByb3ZpZGVSb3V0ZXIoY29uZmlnLCBvcHRzKVxuICBdO1xufVxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/router_providers.js\n ** module id = 435\n ** module chunks = 0\n **/","\"use strict\";\nvar common_1 = require('@angular/common');\nvar core_1 = require('@angular/core');\nvar router_1 = require('./router');\nvar router_outlet_map_1 = require('./router_outlet_map');\nvar router_state_1 = require('./router_state');\nvar url_serializer_1 = require('./url_serializer');\nexports.ROUTER_CONFIG = new core_1.OpaqueToken('ROUTER_CONFIG');\nexports.ROUTER_OPTIONS = new core_1.OpaqueToken('ROUTER_OPTIONS');\nfunction setupRouter(ref, resolver, urlSerializer, outletMap, location, injector, config, opts) {\n    if (ref.componentTypes.length == 0) {\n        throw new Error('Bootstrap at least one component before injecting Router.');\n    }\n    var componentType = ref.componentTypes[0];\n    var r = new router_1.Router(componentType, resolver, urlSerializer, outletMap, location, injector, config);\n    ref.registerDisposeListener(function () { return r.dispose(); });\n    if (opts.enableTracing) {\n        r.events.subscribe(function (e) {\n            console.group(\"Router Event: \" + e.constructor.name);\n            console.log(e.toString());\n            console.log(e);\n            console.groupEnd();\n        });\n    }\n    return r;\n}\nexports.setupRouter = setupRouter;\nfunction setupRouterInitializer(injector) {\n    setTimeout(function () {\n        var appRef = injector.get(core_1.ApplicationRef);\n        if (appRef.componentTypes.length == 0) {\n            appRef.registerBootstrapListener(function () { injector.get(router_1.Router).initialNavigation(); });\n        }\n        else {\n            injector.get(router_1.Router).initialNavigation();\n        }\n    }, 0);\n    return function () { return null; };\n}\nexports.setupRouterInitializer = setupRouterInitializer;\nfunction provideRouter(_config, _opts) {\n    return [\n        { provide: exports.ROUTER_CONFIG, useValue: _config }, { provide: exports.ROUTER_OPTIONS, useValue: _opts },\n        common_1.Location, { provide: common_1.LocationStrategy, useClass: common_1.PathLocationStrategy },\n        { provide: url_serializer_1.UrlSerializer, useClass: url_serializer_1.DefaultUrlSerializer },\n        {\n            provide: router_1.Router,\n            useFactory: setupRouter,\n            deps: [\n                core_1.ApplicationRef, core_1.ComponentResolver, url_serializer_1.UrlSerializer, router_outlet_map_1.RouterOutletMap, common_1.Location, core_1.Injector,\n                exports.ROUTER_CONFIG, exports.ROUTER_OPTIONS\n            ]\n        },\n        router_outlet_map_1.RouterOutletMap,\n        { provide: router_state_1.ActivatedRoute, useFactory: function (r) { return r.routerState.root; }, deps: [router_1.Router] },\n        { provide: core_1.APP_INITIALIZER, multi: true, useFactory: setupRouterInitializer, deps: [core_1.Injector] }\n    ];\n}\nexports.provideRouter = provideRouter;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uX3JvdXRlcl9wcm92aWRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tbW9uX3JvdXRlcl9wcm92aWRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHVCQUErRCxpQkFBaUIsQ0FBQyxDQUFBO0FBQ2pGLHFCQUF3RixlQUFlLENBQUMsQ0FBQTtBQUd4Ryx1QkFBcUIsVUFBVSxDQUFDLENBQUE7QUFDaEMsa0NBQThCLHFCQUFxQixDQUFDLENBQUE7QUFDcEQsNkJBQTZCLGdCQUFnQixDQUFDLENBQUE7QUFDOUMsK0JBQWtELGtCQUFrQixDQUFDLENBQUE7QUFFeEQscUJBQWEsR0FBRyxJQUFJLGtCQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDakQsc0JBQWMsR0FBRyxJQUFJLGtCQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUloRSxxQkFDSSxHQUFtQixFQUFFLFFBQTJCLEVBQUUsYUFBNEIsRUFDOUUsU0FBMEIsRUFBRSxRQUFrQixFQUFFLFFBQWtCLEVBQUUsTUFBb0IsRUFDeEYsSUFBa0I7SUFDcEIsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxNQUFNLElBQUksS0FBSyxDQUFDLDJEQUEyRCxDQUFDLENBQUM7SUFDL0UsQ0FBQztJQUNELElBQU0sYUFBYSxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsSUFBTSxDQUFDLEdBQ0gsSUFBSSxlQUFNLENBQUMsYUFBYSxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDOUYsR0FBRyxDQUFDLHVCQUF1QixDQUFDLGNBQU0sT0FBQSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQVgsQ0FBVyxDQUFDLENBQUM7SUFFL0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBQSxDQUFDO1lBQ2xCLE9BQU8sQ0FBQyxLQUFLLENBQUMsbUJBQXVCLENBQUMsQ0FBQyxXQUFZLENBQUMsSUFBTSxDQUFDLENBQUM7WUFDNUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztZQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2YsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDWCxDQUFDO0FBdEJlLG1CQUFXLGNBc0IxQixDQUFBO0FBRUQsZ0NBQXVDLFFBQWtCO0lBSXZELFVBQVUsQ0FBQztRQUNULElBQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMscUJBQWMsQ0FBQyxDQUFDO1FBQzVDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLHlCQUF5QixDQUFDLGNBQVEsUUFBUSxDQUFDLEdBQUcsQ0FBQyxlQUFNLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEYsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sUUFBUSxDQUFDLEdBQUcsQ0FBQyxlQUFNLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzNDLENBQUM7SUFDSCxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDTixNQUFNLENBQUMsY0FBVyxPQUFBLElBQUksRUFBSixDQUFJLENBQUM7QUFDekIsQ0FBQztBQWJlLDhCQUFzQix5QkFhckMsQ0FBQTtBQW9CRCx1QkFBOEIsT0FBcUIsRUFBRSxLQUFtQjtJQUN0RSxNQUFNLENBQUM7UUFDTCxFQUFDLE9BQU8sRUFBRSxxQkFBYSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBRSxzQkFBYyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUM7UUFDdkYsaUJBQVEsRUFBRSxFQUFDLE9BQU8sRUFBRSx5QkFBZ0IsRUFBRSxRQUFRLEVBQUUsNkJBQW9CLEVBQUM7UUFDckUsRUFBQyxPQUFPLEVBQUUsOEJBQWEsRUFBRSxRQUFRLEVBQUUscUNBQW9CLEVBQUM7UUFFeEQ7WUFDRSxPQUFPLEVBQUUsZUFBTTtZQUNmLFVBQVUsRUFBRSxXQUFXO1lBQ3ZCLElBQUksRUFBRTtnQkFDSixxQkFBYyxFQUFFLHdCQUFpQixFQUFFLDhCQUFhLEVBQUUsbUNBQWUsRUFBRSxpQkFBUSxFQUFFLGVBQVE7Z0JBQ3JGLHFCQUFhLEVBQUUsc0JBQWM7YUFDOUI7U0FDRjtRQUVELG1DQUFlO1FBQ2YsRUFBQyxPQUFPLEVBQUUsNkJBQWMsRUFBRSxVQUFVLEVBQUUsVUFBQyxDQUFTLElBQUssT0FBQSxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksRUFBbEIsQ0FBa0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxlQUFNLENBQUMsRUFBQztRQUd4RixFQUFDLE9BQU8sRUFBRSxzQkFBZSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLHNCQUFzQixFQUFFLElBQUksRUFBRSxDQUFDLGVBQVEsQ0FBQyxFQUFDO0tBQzlGLENBQUM7QUFDSixDQUFDO0FBckJlLHFCQUFhLGdCQXFCNUIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TG9jYXRpb24sIExvY2F0aW9uU3RyYXRlZ3ksIFBhdGhMb2NhdGlvblN0cmF0ZWd5fSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtBUFBfSU5JVElBTElaRVIsIEFwcGxpY2F0aW9uUmVmLCBDb21wb25lbnRSZXNvbHZlciwgSW5qZWN0b3IsIE9wYXF1ZVRva2VufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHtSb3V0ZXJDb25maWd9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7Um91dGVyfSBmcm9tICcuL3JvdXRlcic7XG5pbXBvcnQge1JvdXRlck91dGxldE1hcH0gZnJvbSAnLi9yb3V0ZXJfb3V0bGV0X21hcCc7XG5pbXBvcnQge0FjdGl2YXRlZFJvdXRlfSBmcm9tICcuL3JvdXRlcl9zdGF0ZSc7XG5pbXBvcnQge0RlZmF1bHRVcmxTZXJpYWxpemVyLCBVcmxTZXJpYWxpemVyfSBmcm9tICcuL3VybF9zZXJpYWxpemVyJztcblxuZXhwb3J0IGNvbnN0IFJPVVRFUl9DT05GSUcgPSBuZXcgT3BhcXVlVG9rZW4oJ1JPVVRFUl9DT05GSUcnKTtcbmV4cG9ydCBjb25zdCBST1VURVJfT1BUSU9OUyA9IG5ldyBPcGFxdWVUb2tlbignUk9VVEVSX09QVElPTlMnKTtcblxuZXhwb3J0IGludGVyZmFjZSBFeHRyYU9wdGlvbnMgeyBlbmFibGVUcmFjaW5nPzogYm9vbGVhbjsgfVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBSb3V0ZXIoXG4gICAgcmVmOiBBcHBsaWNhdGlvblJlZiwgcmVzb2x2ZXI6IENvbXBvbmVudFJlc29sdmVyLCB1cmxTZXJpYWxpemVyOiBVcmxTZXJpYWxpemVyLFxuICAgIG91dGxldE1hcDogUm91dGVyT3V0bGV0TWFwLCBsb2NhdGlvbjogTG9jYXRpb24sIGluamVjdG9yOiBJbmplY3RvciwgY29uZmlnOiBSb3V0ZXJDb25maWcsXG4gICAgb3B0czogRXh0cmFPcHRpb25zKSB7XG4gIGlmIChyZWYuY29tcG9uZW50VHlwZXMubGVuZ3RoID09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcCBhdCBsZWFzdCBvbmUgY29tcG9uZW50IGJlZm9yZSBpbmplY3RpbmcgUm91dGVyLicpO1xuICB9XG4gIGNvbnN0IGNvbXBvbmVudFR5cGUgPSByZWYuY29tcG9uZW50VHlwZXNbMF07XG4gIGNvbnN0IHIgPVxuICAgICAgbmV3IFJvdXRlcihjb21wb25lbnRUeXBlLCByZXNvbHZlciwgdXJsU2VyaWFsaXplciwgb3V0bGV0TWFwLCBsb2NhdGlvbiwgaW5qZWN0b3IsIGNvbmZpZyk7XG4gIHJlZi5yZWdpc3RlckRpc3Bvc2VMaXN0ZW5lcigoKSA9PiByLmRpc3Bvc2UoKSk7XG5cbiAgaWYgKG9wdHMuZW5hYmxlVHJhY2luZykge1xuICAgIHIuZXZlbnRzLnN1YnNjcmliZShlID0+IHtcbiAgICAgIGNvbnNvbGUuZ3JvdXAoYFJvdXRlciBFdmVudDogJHsoPGFueT5lLmNvbnN0cnVjdG9yKS5uYW1lfWApO1xuICAgICAgY29uc29sZS5sb2coZS50b1N0cmluZygpKTtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFJvdXRlckluaXRpYWxpemVyKGluamVjdG9yOiBJbmplY3Rvcikge1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy85MTAxXG4gIC8vIERlbGF5IHRoZSByb3V0ZXIgaW5zdGFudGlhdGlvbiB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5IChBcHBsaWNhdGlvblJlZiAtPlxuICAvLyBBUFBfSU5JVElBTElaRVIgLT4gUm91dGVyKVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zdCBhcHBSZWYgPSBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpO1xuICAgIGlmIChhcHBSZWYuY29tcG9uZW50VHlwZXMubGVuZ3RoID09IDApIHtcbiAgICAgIGFwcFJlZi5yZWdpc3RlckJvb3RzdHJhcExpc3RlbmVyKCgpID0+IHsgaW5qZWN0b3IuZ2V0KFJvdXRlcikuaW5pdGlhbE5hdmlnYXRpb24oKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluamVjdG9yLmdldChSb3V0ZXIpLmluaXRpYWxOYXZpZ2F0aW9uKCk7XG4gICAgfVxuICB9LCAwKTtcbiAgcmV0dXJuICgpOiBhbnkgPT4gbnVsbDtcbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2Yge0BsaW5rIFByb3ZpZGVyfXMuIFRvIHVzZSB0aGUgcm91dGVyLCB5b3UgbXVzdCBhZGQgdGhpcyB0byB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBAQ29tcG9uZW50KHtkaXJlY3RpdmVzOiBbUk9VVEVSX0RJUkVDVElWRVNdfSlcbiAqIGNsYXNzIEFwcENtcCB7XG4gKiAgIC8vIC4uLlxuICogfVxuICpcbiAqIGNvbnN0IHJvdXRlciA9IFtcbiAqICAge3BhdGg6ICcvaG9tZScsIGNvbXBvbmVudDogSG9tZX1cbiAqIF07XG4gKlxuICogYm9vdHN0cmFwKEFwcENtcCwgW3Byb3ZpZGVSb3V0ZXIocm91dGVyKV0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm92aWRlUm91dGVyKF9jb25maWc6IFJvdXRlckNvbmZpZywgX29wdHM6IEV4dHJhT3B0aW9ucyk6IGFueVtdIHtcbiAgcmV0dXJuIFtcbiAgICB7cHJvdmlkZTogUk9VVEVSX0NPTkZJRywgdXNlVmFsdWU6IF9jb25maWd9LCB7cHJvdmlkZTogUk9VVEVSX09QVElPTlMsIHVzZVZhbHVlOiBfb3B0c30sXG4gICAgTG9jYXRpb24sIHtwcm92aWRlOiBMb2NhdGlvblN0cmF0ZWd5LCB1c2VDbGFzczogUGF0aExvY2F0aW9uU3RyYXRlZ3l9LFxuICAgIHtwcm92aWRlOiBVcmxTZXJpYWxpemVyLCB1c2VDbGFzczogRGVmYXVsdFVybFNlcmlhbGl6ZXJ9LFxuXG4gICAge1xuICAgICAgcHJvdmlkZTogUm91dGVyLFxuICAgICAgdXNlRmFjdG9yeTogc2V0dXBSb3V0ZXIsXG4gICAgICBkZXBzOiBbXG4gICAgICAgIEFwcGxpY2F0aW9uUmVmLCBDb21wb25lbnRSZXNvbHZlciwgVXJsU2VyaWFsaXplciwgUm91dGVyT3V0bGV0TWFwLCBMb2NhdGlvbiwgSW5qZWN0b3IsXG4gICAgICAgIFJPVVRFUl9DT05GSUcsIFJPVVRFUl9PUFRJT05TXG4gICAgICBdXG4gICAgfSxcblxuICAgIFJvdXRlck91dGxldE1hcCxcbiAgICB7cHJvdmlkZTogQWN0aXZhdGVkUm91dGUsIHVzZUZhY3Rvcnk6IChyOiBSb3V0ZXIpID0+IHIucm91dGVyU3RhdGUucm9vdCwgZGVwczogW1JvdXRlcl19LFxuXG4gICAgLy8gVHJpZ2dlciBpbml0aWFsIG5hdmlnYXRpb25cbiAgICB7cHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLCBtdWx0aTogdHJ1ZSwgdXNlRmFjdG9yeTogc2V0dXBSb3V0ZXJJbml0aWFsaXplciwgZGVwczogW0luamVjdG9yXX1cbiAgXTtcbn1cbiJdfQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@angular/router/common_router_providers.js\n ** module id = 436\n ** module chunks = 0\n **/","import { EnvironmentActions } from './environment.actions';\r\nimport { AppActions } from './app.actions';\r\nimport { ProjectActions } from './project.actions';\r\nimport { TaskActions } from './task.actions';\r\nimport { ReferenceActions } from './reference.actions';\r\nimport { StaffActions } from './staff.actions';\r\n\r\nexport { EnvironmentActions };\r\nexport { AppActions };\r\nexport { ProjectActions };\r\nexport { TaskActions };\r\nexport { ReferenceActions };\r\nexport { StaffActions };\r\n\r\nexport const APP_STORE_ACTIONS = [\r\n    EnvironmentActions,\r\n    AppActions,\r\n    ProjectActions,\r\n    TaskActions,\r\n    ReferenceActions,\r\n    StaffActions\r\n];\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/index.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\n\r\n@Injectable()\r\nexport class EnvironmentActions {\r\n\r\n    static SEARCH = 'SEARCH';\r\n    static TOGGLE_NAV = 'TOGGLE_NAV';\r\n    static TOGGLE_SEARCH = 'TOGGLE_SEARCH';\r\n    static HIDE_NAV = 'HIDE_NAV';\r\n\r\n\r\n    search(keyWord): Action {\r\n        return {\r\n            type: EnvironmentActions.SEARCH,\r\n            payload: { keyWord }\r\n        };\r\n    }\r\n\r\n    toggleNav(): Action {\r\n        return {\r\n            type: EnvironmentActions.TOGGLE_NAV\r\n        };\r\n    }\r\n\r\n    toggleSearch(): Action {\r\n        return {\r\n            type: EnvironmentActions.TOGGLE_SEARCH\r\n        };\r\n    }\r\n\r\n    hideNav(): Action {\r\n        return {\r\n            type: EnvironmentActions.HIDE_NAV\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/environment.actions.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\n\r\nimport { IAuthedState } from '../reducers/authed.reducer';\r\nimport { User } from '../models';\r\n\r\n@Injectable()\r\nexport class AppActions {\r\n\r\n    static FETCH_USER_PROFILE = 'FETCH_USER_PROFILE';\r\n    static FETCH_USER_PROFILE_FAILED = 'FETCH_USER_PROFILE_FAILED';\r\n    static FETCH_USER_PROFILE_FULFILLED = 'FETCH_USER_PROFILE_FULFILLED';\r\n\r\n    static UPDATE_USER_PROFILE = 'UPDATE_USER_PROFILE';\r\n    static UPDATE_USER_PROFILE_FAILED = 'UPDATE_USER_PROFILE_FAILED';\r\n    static UPDATE_USER_PROFILE_FULFILLED = 'UPDATE_USER_PROFILE_FULFILLED';\r\n\r\n\r\n    //===================================\r\n    //  FETCH\r\n    //-----------------------------------\r\n\r\n    fetchUserProfile(): Action {\r\n        return {\r\n            type: AppActions.FETCH_USER_PROFILE\r\n        };\r\n    }\r\n\r\n    fetchUserProfileFailed(error: any): Action {\r\n        return {\r\n            type: AppActions.FETCH_USER_PROFILE_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    fetchUserProfileFulfilled(payload: IAuthedState): Action {\r\n        return {\r\n            type: AppActions.FETCH_USER_PROFILE_FULFILLED,\r\n            payload: payload\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  UPDATE\r\n    //-----------------------------------\r\n\r\n    updateUserProfile(userProfile: User): Action {\r\n        return {\r\n            type: AppActions.UPDATE_USER_PROFILE,\r\n            payload: {\r\n                userProfile\r\n            }\r\n        };\r\n    }\r\n\r\n    updateUserProfileFailed(error: any): Action {\r\n        return {\r\n            type: AppActions.UPDATE_USER_PROFILE_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    updateUserProfileFulfilled(userProfile: User): Action {\r\n        return {\r\n            type: AppActions.UPDATE_USER_PROFILE_FULFILLED,\r\n            payload: {\r\n                userProfile\r\n            }\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/app.actions.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\n\r\nimport { Project } from '../models';\r\n\r\n@Injectable()\r\nexport class ProjectActions {\r\n\r\n    static CREATE_PROJECT = 'CREATE_PROJECT';\r\n    static CREATE_PROJECT_FAILED = 'CREATE_PROJECT_FAILED';\r\n    static CREATE_PROJECT_FULFILLED = 'CREATE_PROJECT_FULFILLED';\r\n\r\n    static FETCH_PROJECTS = 'FETCH_PROJECTS';\r\n    static FETCH_PROJECTS_FAILED = 'FETCH_PROJECTS_FAILED';\r\n    static FETCH_PROJECTS_FULFILLED = 'FETCH_PROJECTS_FULFILLED';\r\n\r\n    static UPDATE_PROJECT = 'UPDATE_PROJECT';\r\n    static UPDATE_PROJECT_FAILED = 'UPDATE_PROJECT_FAILED';\r\n    static UPDATE_PROJECT_FULFILLED = 'UPDATE_PROJECT_FULFILLED';\r\n\r\n    static DELETE_PROJECT = 'DELETE_PROJECT';\r\n    static DELETE_PROJECT_FAILED = 'DELETE_PROJECT_FAILED';\r\n    static DELETE_PROJECT_FULFILLED = 'DELETE_PROJECT_FULFILLED';\r\n\r\n\r\n    //===================================\r\n    //  CREATE\r\n    //-----------------------------------\r\n\r\n    createProject(project: Project): Action {\r\n        return {\r\n            type: ProjectActions.CREATE_PROJECT,\r\n            payload: {\r\n                project\r\n            }\r\n        };\r\n    }\r\n\r\n    createProjectFailed(error: any): Action {\r\n        return {\r\n            type: ProjectActions.CREATE_PROJECT_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    createProjectFulfilled(project: Project): Action {\r\n        return {\r\n            type: ProjectActions.CREATE_PROJECT_FULFILLED,\r\n            payload: {\r\n                project\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  FETCH\r\n    //-----------------------------------\r\n\r\n    fetchProjects(): Action {\r\n        return {\r\n            type: ProjectActions.FETCH_PROJECTS\r\n        };\r\n    }\r\n\r\n    fetchProjectsFailed(error: any): Action {\r\n        return {\r\n            type: ProjectActions.FETCH_PROJECTS_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    fetchProjectsFulfilled(projects: Project[], meta: any): Action {\r\n        return {\r\n            type: ProjectActions.FETCH_PROJECTS_FULFILLED,\r\n            payload: {\r\n                projects,\r\n                meta\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  UPDATE\r\n    //-----------------------------------\r\n\r\n    updateProject(projectId: string, changes: any): Action {\r\n        return {\r\n            type: ProjectActions.UPDATE_PROJECT,\r\n            payload: {\r\n                changes,\r\n                projectId\r\n            }\r\n        };\r\n    }\r\n\r\n    updateProjectFailed(error: any): Action {\r\n        return {\r\n            type: ProjectActions.UPDATE_PROJECT_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    updateProjectFulfilled(project: Project): Action {\r\n        return {\r\n            type: ProjectActions.UPDATE_PROJECT_FULFILLED,\r\n            payload: {\r\n                project\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  DELETE\r\n    //-----------------------------------\r\n\r\n    deleteProject(projectId: string): Action {\r\n        return {\r\n            type: ProjectActions.DELETE_PROJECT,\r\n            payload: {\r\n                projectId\r\n            }\r\n        };\r\n    }\r\n\r\n    deleteProjectFailed(error: any): Action {\r\n        return {\r\n            type: ProjectActions.DELETE_PROJECT_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    deleteProjectFulfilled(project: Project): Action {\r\n        return {\r\n            type: ProjectActions.DELETE_PROJECT_FULFILLED,\r\n            payload: {\r\n                project\r\n            }\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/project.actions.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\n\r\nimport { Task } from '../models';\r\n\r\n@Injectable()\r\nexport class TaskActions {\r\n\r\n    // TASK\r\n    static CREATE_TASK = 'CREATE_TASK';\r\n    static CREATE_TASK_FAILED = 'CREATE_TASK_FAILED';\r\n    static CREATE_TASK_FULFILLED = 'CREATE_TASK_FULFILLED';\r\n\r\n    static TASK_UNLOAD = 'TASK_UNLOAD';\r\n\r\n    static FETCH_TASKS = 'FETCH_TASKS';\r\n    static FETCH_TASKS_FAILED = 'FETCH_TASKS_FAILED';\r\n    static FETCH_TASKS_FULFILLED = 'FETCH_TASKS_FULFILLED';\r\n\r\n    static FETCH_TASK = 'FETCH_TASK';\r\n    static FETCH_TASK_FAILED = 'FETCH_TASK_FAILED';\r\n    static FETCH_TASK_FULFILLED = 'FETCH_TASK_FULFILLED';\r\n\r\n    static UPDATE_TASK = 'UPDATE_TASK';\r\n    static UPDATE_TASK_FAILED = 'UPDATE_TASK_FAILED';\r\n    static UPDATE_TASK_FULFILLED = 'UPDATE_TASK_FULFILLED';\r\n\r\n    static DELETE_TASK = 'DELETE_TASK';\r\n    static DELETE_TASK_FAILED = 'DELETE_TASK_FAILED';\r\n    static DELETE_TASK_FULFILLED = 'DELETE_TASK_FULFILLED';\r\n\r\n    static TOGGLE_STREAM_EXPAND = 'TOGGLE_STREAM_EXPAND';\r\n\r\n    // TASK COMMENT\r\n    static CREATE_TASK_COMMENT = 'CREATE_COMMENT_TASK';\r\n    static CREATE_TASK_COMMENT_FAILED = 'CREATE_TASK_COMMENT_FAILED';\r\n    static CREATE_TASK_COMMENT_FULFILLED = 'CREATE_TASK_COMMENT_FULFILLED';\r\n\r\n    static FETCH_TASK_COMMENTS = 'FETCH_TASK_COMMENTS';\r\n    static FETCH_TASK_COMMENTS_FAILED = 'FETCH_TASK_COMMENTS_FAILED';\r\n    static FETCH_TASK_COMMENTS_FULFILLED = 'FETCH_TASK_COMMENTS_FULFILLED';\r\n\r\n    static UPDATE_TASK_COMMENT = 'UPDATE_TASK_COMMENT';\r\n    static UPDATE_TASK_COMMENT_FAILED = 'UPDATE_TASK_COMMENT_FAILED';\r\n    static UPDATE_TASK_COMMENT_FULFILLED = 'UPDATE_TASK_COMMENT_FULFILLED';\r\n\r\n    static DELETE_TASK_COMMENT = 'DELETE_TASK_COMMENT';\r\n    static DELETE_TASK_COMMENT_FAILED = 'DELETE_TASK_COMMENT_FAILED';\r\n    static DELETE_TASK_COMMENT_FULFILLED = 'DELETE_TASK_COMMENT_FULFILLED';\r\n\r\n    // TASK REQUEST\r\n    static TASK_REQUEST_ACCEPTANCE = 'TASK_REQUEST_ACCEPTANCE';\r\n    static TASK_REQUEST_NEW = 'TASK_REQUEST_NEW';\r\n    static TASK_REQUEST_CANCEL = 'TASK_REQUEST_CANCEL';\r\n\r\n    static CREATE_TASK_REQUEST = 'CREATE_REQUEST_TASK';\r\n    static CREATE_TASK_REQUEST_FAILED = 'CREATE_TASK_REQUEST_FAILED';\r\n    static CREATE_TASK_REQUEST_FULFILLED = 'CREATE_TASK_REQUEST_FULFILLED';\r\n\r\n    static FETCH_TASK_REQUESTS = 'FETCH_TASK_REQUESTS';\r\n    static FETCH_TASK_REQUESTS_FAILED = 'FETCH_TASK_REQUESTS_FAILED';\r\n    static FETCH_TASK_REQUESTS_FULFILLED = 'FETCH_TASK_REQUESTS_FULFILLED';\r\n\r\n\r\n    //===================================\r\n    //  CREATE TASK\r\n    //-----------------------------------\r\n\r\n    createTask(task: Task): Action {\r\n        return {\r\n            type: TaskActions.CREATE_TASK,\r\n            payload: {\r\n                task\r\n            }\r\n        };\r\n    }\r\n\r\n    createTaskFailed(error: any): Action {\r\n        return {\r\n            type: TaskActions.CREATE_TASK_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    createTaskFulfilled(task: Task): Action {\r\n        return {\r\n            type: TaskActions.CREATE_TASK_FULFILLED,\r\n            payload: {\r\n                task\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  FETCH TASKS\r\n    //-----------------------------------\r\n\r\n    fetchTasks(): Action {\r\n        return {\r\n            type: TaskActions.FETCH_TASKS\r\n        };\r\n    }\r\n\r\n    fetchTasksFailed(error: any): Action {\r\n        return {\r\n            type: TaskActions.FETCH_TASKS_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    fetchTasksFulfilled(tasks: Task[], meta: any): Action {\r\n        return {\r\n            type: TaskActions.FETCH_TASKS_FULFILLED,\r\n            payload: {\r\n                tasks,\r\n                meta\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  FETCH TASK\r\n    //-----------------------------------\r\n\r\n    fetchTask(taskId: string): Action {\r\n        return {\r\n            type: TaskActions.FETCH_TASK\r\n        };\r\n    }\r\n\r\n    fetchTaskFailed(error: any): Action {\r\n        return {\r\n            type: TaskActions.FETCH_TASK_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    fetchTaskFulfilled(task: Task): Action {\r\n        return {\r\n            type: TaskActions.FETCH_TASK_FULFILLED,\r\n            payload: {\r\n                task\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  UPDATE TASK\r\n    //-----------------------------------\r\n\r\n    updateTask(taskId: string, changes: any): Action {\r\n        return {\r\n            type: TaskActions.UPDATE_TASK,\r\n            payload: {\r\n                changes,\r\n                taskId\r\n            }\r\n        };\r\n    }\r\n\r\n    updateTaskFailed(error: any): Action {\r\n        return {\r\n            type: TaskActions.UPDATE_TASK_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    updateTaskFulfilled(task: Task): Action {\r\n        return {\r\n            type: TaskActions.UPDATE_TASK_FULFILLED,\r\n            payload: {\r\n                task\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  DELETE TASK\r\n    //-----------------------------------\r\n\r\n    deleteTask(taskId: string): Action {\r\n        return {\r\n            type: TaskActions.DELETE_TASK,\r\n            payload: {\r\n                taskId\r\n            }\r\n        };\r\n    }\r\n\r\n    deleteTaskFailed(error: any): Action {\r\n        return {\r\n            type: TaskActions.DELETE_TASK_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n\r\n    deleteTaskFulfilled(task: Task): Action {\r\n        return {\r\n            type: TaskActions.DELETE_TASK_FULFILLED,\r\n            payload: {\r\n                task\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  TASK STREAM ACTIONS\r\n    //-----------------------------------\r\n    toggleStreamExpand(id: string) {\r\n        return {\r\n            type: TaskActions.TOGGLE_STREAM_EXPAND,\r\n            payload: id\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/task.actions.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\n\r\nimport { TaskType, RequestType, Tag } from '../models';\r\n\r\n@Injectable()\r\nexport class ReferenceActions {\r\n\r\n    static FETCH_TASK_TYPES = 'FETCH_TASK_TYPES';\r\n    static FETCH_REQUEST_TYPES = 'FETCH_REQUEST_TYPES';\r\n    static FETCH_TAGS = 'FETCH_TAGS';\r\n    static FETCH_REFERENCE_FAILED = 'FETCH_REFERENCE_FAILED';\r\n\r\n\r\n    //===================================\r\n    //  FETCH\r\n    //-----------------------------------\r\n\r\n    fetchTaskTypes(taskTypes: TaskType[]): Action {\r\n        return {\r\n            type: ReferenceActions.FETCH_TASK_TYPES,\r\n            payload: { taskTypes }\r\n        };\r\n    }\r\n\r\n    fetchRequestTypes(requestTypes: RequestType[]): Action {\r\n        return {\r\n            type: ReferenceActions.FETCH_REQUEST_TYPES,\r\n            payload: { requestTypes }\r\n        };\r\n    }\r\n\r\n    fetchTags(tags: Tag[]): Action {\r\n        return {\r\n            type: ReferenceActions.FETCH_TAGS,\r\n            payload: { tags }\r\n        };\r\n    }\r\n\r\n    fetchReferenceFailed(error: any): Action {\r\n        return {\r\n            type: ReferenceActions.FETCH_REFERENCE_FAILED,\r\n            payload: error\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/reference.actions.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\n\r\nimport { Organization, User } from '../models';\r\n\r\n@Injectable()\r\nexport class StaffActions {\r\n\r\n    static FETCH_ORGANIZATIONS = 'FETCH_ORGANIZATIONS';\r\n    static FETCH_USERS = 'FETCH_USERS';\r\n\r\n\r\n    //===================================\r\n    //  FETCH\r\n    //-----------------------------------\r\n\r\n    fetchOrganizations(organizations: Organization[]): Action {\r\n        return {\r\n            type: StaffActions.FETCH_ORGANIZATIONS,\r\n            payload: { organizations }\r\n        };\r\n    }\r\n\r\n    fetchUsers(users: User[]): Action {\r\n        return {\r\n            type: StaffActions.FETCH_USERS,\r\n            payload: { users }\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions/staff.actions.ts\n **/","import { AppService } from './app.service';\r\nimport { TranslateService } from './translate.service';\r\nimport { ProjectService } from './project.service';\r\nimport { TaskService } from './task.service';\r\nimport { ReferenceService } from './reference.service';\r\nimport { StaffService } from './staff.service';\r\nimport { UploadService } from './upload.service';\r\n\r\nexport { AppService };\r\nexport { TranslateService };\r\nexport { ProjectService };\r\nexport { TaskService };\r\nexport { ReferenceService };\r\nexport { StaffService };\r\nexport { UploadService };\r\n\r\nexport const APP_SERVICES = [\r\n    AppService,\r\n    TranslateService,\r\n    ProjectService,\r\n    TaskService,\r\n    ReferenceService,\r\n    StaffService,\r\n    UploadService\r\n];\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/index.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { User } from '../models';\r\nimport { parseResponseObjects, serializeObj, transformPostResponse } from '../utils/utils';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Injectable()\r\nexport class AppService {\r\n\r\n    isLogged: boolean = false;\r\n    language: string = 'RUS';\r\n\r\n    constructor(private http: Http) {\r\n        let ck = document.cookie.match('(lang)=(.*?)($|;|,(?! ))');\r\n        if (ck) {\r\n            this.language = ck[2];\r\n        }\r\n    }\r\n\r\n    fetchUserProfile() {\r\n        return this.http.get('p?id=userprofile', { headers: HEADERS }).map(\r\n            response => {\r\n                let res = parseResponseObjects(response.json().objects);\r\n                let pageSize = 20;\r\n                if (res[0].pagesize) {\r\n                    pageSize = res[0].pagesize\r\n                }\r\n                this.isLogged = true;\r\n                return {\r\n                    userProfile: res.employee,\r\n                    languages: res.language.list[0].localizedName,\r\n                    pageSize: pageSize,\r\n                    language: this.language\r\n                }\r\n            },\r\n            error => {\r\n                this.isLogged = false;\r\n            }\r\n        );\r\n    }\r\n\r\n    updateUserProfile(userForm: any) {\r\n        return this.http.post('p?id=userprofile', serializeObj(userForm), { headers: HEADERS })\r\n            .map(response => response.json())\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    logout() {\r\n        return this.http.delete('/');\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/app.service.ts\n **/","import { URLSearchParams, Response } from '@angular/http';\r\n\r\nexport function createURLSearchParams(_params): URLSearchParams {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    for (let p in _params) {\r\n        if (_params[p] instanceof Array) {\r\n            for (let t in _params[p]) {\r\n                params.append(encodeURIComponent(p), encodeURIComponent(_params[p][t]));\r\n            }\r\n        } else {\r\n            if (typeof (_params[p]) != 'undefined') {\r\n                params.set(encodeURIComponent(p), encodeURIComponent(_params[p]));\r\n            }\r\n        }\r\n    }\r\n    return params;\r\n}\r\n\r\nexport function serializeObj(obj): string {\r\n    let result = [];\r\n    for (let property in obj) {\r\n        result.push(encodeURIComponent(property) + '=' + encodeURIComponent(obj[property]));\r\n    }\r\n    return result.join('&');\r\n}\r\n\r\nexport function parseResponseObjects(objects: any): any {\r\n    let result: any = [];\r\n\r\n    for (let obj of objects) {\r\n        if (obj.kind) {\r\n            result[obj.kind] = obj;\r\n        } else if (obj.list && obj.meta && obj.type) {\r\n            result[obj.type] = obj;\r\n        } else if (obj.name && obj.value) { // fsid?\r\n            result[obj.name] = obj.value;\r\n        } else {\r\n            result.push(obj);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function parseListObjectsToKeyValue(list: any): any {\r\n    let result = [];\r\n    if (list) {\r\n        for (let it of list) {\r\n            result[it.id] = it;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function transformPostResponse(response: Response): any {\r\n    let json = response.json();\r\n    return Object.assign(json, {\r\n        ok: json.type === 'DOCUMENT_SAVED',\r\n        message: json.captions ? json.captions.type : json.message\r\n    });\r\n}\r\n\r\nexport function createCookie(name, value, days): void {\r\n    let expires;\r\n\r\n    if (days) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        expires = '; expires=' + date.toUTCString();\r\n    } else {\r\n        expires = '';\r\n    }\r\n    document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value) + expires + '; path=/';\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/utils/utils.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\n\r\n@Injectable()\r\nexport class TranslateService {\r\n\r\n    constructor(\r\n        private http: Http\r\n    ) { }\r\n\r\n    fetchTranslations() {\r\n        let headers = new Headers({\r\n            'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n            'Accept': 'application/json'\r\n        });\r\n\r\n        return this.http.get('p?id=common-captions', { headers: headers }).map(response => {\r\n            return response.json().captions;\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/translate.service.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { TranslateService } from 'ng2-translate/ng2-translate';\r\n\r\nimport { Project, Task, TaskType, Tag, User, Attachment, Organization } from '../models';\r\nimport { createURLSearchParams, parseResponseObjects, serializeObj, transformPostResponse } from '../utils/utils';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Injectable()\r\nexport class ProjectService {\r\n\r\n    constructor(\r\n        private http: Http,\r\n        private translate: TranslateService\r\n    ) { }\r\n\r\n    getProjectStatusTypes() {\r\n        return this.translate.get(['draft', 'processed', 'finished']).map(t => [\r\n            { value: 'DRAFT', text: t.draft, default: true },\r\n            { value: 'PROCESSED', text: t.processed },\r\n            { value: 'FINISHED', text: t.finished }\r\n        ]);\r\n    }\r\n\r\n    fetchProjects(queryParams = {}) {\r\n        return this.http.get('p?id=project-view', {\r\n            headers: HEADERS,\r\n            search: createURLSearchParams(queryParams)\r\n        })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    projects: <Project[]>data.list,\r\n                    meta: data.meta\r\n                };\r\n            });\r\n    }\r\n\r\n    fetchProjectById(projectId: string) {\r\n        if (projectId === 'new') {\r\n            return Observable.of(new Project());\r\n        }\r\n\r\n        return this.http.get('p?id=project-form&projectId=' + projectId, { headers: HEADERS })\r\n            .map(response => {\r\n                let data = parseResponseObjects(response.json().objects);\r\n                let project = <Project>data.project;\r\n                if (data.fsid) {\r\n                    project.fsid = data.fsid;\r\n                }\r\n                if (data.attachment) {\r\n                    project.attachments = data.attachment.list;\r\n                }\r\n                return <Project>project;\r\n            });\r\n    }\r\n\r\n    saveProject(project: Project) {\r\n        let url = 'p?id=project-form&projectId=' + project.id;\r\n        return this.http.post(url, serializeObj(project), { headers: HEADERS })\r\n            .map(response => transformPostResponse(response))\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteProject(projects: Project[]) {\r\n        return this.http.delete('p?id=project-view&projectIds=' + projects.map(it => it.id).join(','), { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteProjectAttachment(project: Project, attachment: Attachment) {\r\n        return this.http.delete('p?id=project-form&projectId=' + project.id + '&attachmentId=' + attachment.id, { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/project.service.ts\n **/","export { User } from './user';\r\nexport { Organization } from './organization';\r\nexport { Attachment } from './attachment';\r\nexport { Project } from './project';\r\nexport { Task } from './task';\r\nexport { Tag } from './tag';\r\nexport { TaskType } from './task-type';\r\nexport { Comment } from './comment';\r\nexport { Request } from './request';\r\nexport { RequestType } from './request-type';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/index.ts\n **/","export class User {\r\n    id: string = '';\r\n    login: string;\r\n    email: string;\r\n    name: string = '@anonymous';\r\n    organizationId: string;\r\n    departmentId: string;\r\n    positionId: string;\r\n    avatarUrl: string;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/user.ts\n **/","export class Organization {\r\n    id: string = '';\r\n    name: string;\r\n    bin: string;\r\n    localizedName: any;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/organization.ts\n **/","export class Attachment {\r\n    id: string = '';\r\n    fieldName: string;\r\n    realFileName: string;\r\n    author: string;\r\n    regDate: Date;\r\n    size: number;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/attachment.ts\n **/","import { Organization } from './organization';\r\nimport { Attachment } from './attachment';\r\n\r\nexport class Project {\r\n    id: string = '';\r\n    author: string;\r\n    regDate: Date;\r\n    editable: boolean = false;\r\n    wasRead: boolean;\r\n    fsid: string = '' + Date.now();\r\n\r\n    name: string;\r\n    status: string = 'DRAFT';\r\n    customer: Organization;\r\n    customerId: string;\r\n    managerUserId: string;\r\n    programmerUserId: string;\r\n    testerUserId: string;\r\n    observerUserIds: string[];\r\n    comment: string;\r\n    finishDate: Date;\r\n    hasAttachments: boolean;\r\n    attachmentIds: string[];\r\n\r\n    attachments: Attachment[];\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/project.ts\n **/","import { Attachment } from './attachment';\r\nimport { Project } from './project';\r\nimport { Request } from './request';\r\n\r\nexport class Task {\r\n    id: string = '';\r\n    author: string;\r\n    regDate: Date;\r\n    editable: boolean = false;\r\n    wasRead: boolean;\r\n    fsid: string = '' + Date.now();\r\n\r\n    project: Project;\r\n    projectId: string;\r\n    parentTask: Task;\r\n    parentTaskId: string;\r\n    hasSubtasks: boolean;\r\n    hasRequests: boolean;\r\n    hasComments: boolean;\r\n    taskTypeId: string;\r\n    status: string = 'DRAFT';\r\n    priority: string = 'NORMAL';\r\n    title: string;\r\n    body: string;\r\n    assigneeUserId: string;\r\n    startDate: Date;\r\n    dueDate: Date;\r\n    tagIds: string[];\r\n    customerObservation: boolean = false;\r\n    hasAttachments: boolean;\r\n    attachmentIds: string[];\r\n\r\n    attachments: Attachment[];\r\n    requests: Request[];\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/task.ts\n **/","export class Tag {\r\n    id: string = '';\r\n    name: string;\r\n    color: string;\r\n    localizedName: any;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/tag.ts\n **/","export class TaskType {\r\n    id: string = '';\r\n    name: string;\r\n    localizedName: any;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/task-type.ts\n **/","import { Attachment } from './attachment';\r\n\r\nexport class Comment {\r\n    id: string = '';\r\n    fsid: string = '' + Date.now();\r\n    regDate: Date;\r\n    taskId: string;\r\n    comment: string;\r\n    attachments: Attachment[];\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/comment.ts\n **/","import { Attachment } from './attachment';\r\nimport { RequestType } from './request-type';\r\n\r\nexport class Request {\r\n    id: string = '';\r\n    fsid: string = '' + Date.now();\r\n    regDate: Date;\r\n    taskId: string;\r\n    requestTypeId: string;\r\n    requestType: RequestType;\r\n    resolution: string;\r\n    resolutionTime: Date;\r\n    comment: string = '';\r\n    hasAttachments: boolean;\r\n    attachments: Attachment[];\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/request.ts\n **/","export class RequestType {\r\n    id: string = '';\r\n    name: string;\r\n    localizedName: any;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/models/request-type.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { TranslateService } from 'ng2-translate/ng2-translate';\r\nimport * as moment from 'moment';\r\n\r\nimport { Task, Request, Comment, Attachment } from '../models';\r\nimport { createURLSearchParams, parseResponseObjects, serializeObj, transformPostResponse } from '../utils/utils';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Injectable()\r\nexport class TaskService {\r\n\r\n    constructor(\r\n        private http: Http,\r\n        private translate: TranslateService\r\n    ) { }\r\n\r\n    getTaskPriorityTypes() {\r\n        return this.translate.get(['urgent', 'high', 'medium', 'normal']).map(t => [\r\n            { value: 'NORMAL', text: t.normal, default: true },\r\n            { value: 'MEDIUM', text: t.medium },\r\n            { value: 'HIGH', text: t.high },\r\n            { value: 'URGENT', text: t.urgent }\r\n        ]);\r\n    }\r\n\r\n    getTaskStatusTypes() {\r\n        return this.translate.get(['draft', 'waiting', 'processed', 'finished']).map(t => [\r\n            { value: 'DRAFT', text: t.draft, default: true },\r\n            { value: 'WAITING', text: t.waiting },\r\n            { value: 'PROCESSED', text: t.processed },\r\n            { value: 'FINISHED', text: t.finished }\r\n        ]);\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  TASK\r\n    //-----------------------------------\r\n\r\n    fetchTasks(queryParams = {}) {\r\n        return this.http.get('p?id=task-view', {\r\n            headers: HEADERS,\r\n            search: createURLSearchParams(queryParams)\r\n        })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    tasks: <Task[]>data.list,\r\n                    meta: data.meta\r\n                }\r\n            });\r\n    }\r\n\r\n    fetchTaskStream(task: Task) {\r\n        return this.http.get('p?id=task-view', {\r\n            headers: HEADERS,\r\n            search: createURLSearchParams({ taskId: task.id, stream: 1 })\r\n        })\r\n            .map(response => response.json().objects)\r\n            .map(data => {\r\n                let list = [];\r\n                data.map(it => list = list.concat(it.list));\r\n                list = list.sort(function(a: any, b: any) {\r\n                    let r1 = moment(a.regDate, 'DD.MM.YYYY HH:mm').valueOf();\r\n                    let r2 = moment(b.regDate, 'DD.MM.YYYY HH:mm').valueOf();\r\n                    return r1 - r2;\r\n                });\r\n                return list;\r\n            });\r\n    }\r\n\r\n    fetchTaskById(taskId: string) {\r\n        if (taskId === 'new') {\r\n            return Observable.of(new Task());\r\n        }\r\n\r\n        return this.http.get('p?id=task-form&taskId=' + taskId, { headers: HEADERS })\r\n            .map(response => {\r\n                let data = parseResponseObjects(response.json().objects);\r\n                let task = <Task>data.task;\r\n                if (data.fsid) {\r\n                    task.fsid = data.fsid;\r\n                }\r\n                if (data.attachment) {\r\n                    task.attachments = <Attachment[]>data.attachment.list;\r\n                }\r\n                return <Task>task\r\n            });\r\n    }\r\n\r\n    saveTask(task: Task) {\r\n        let url = 'p?id=task-form' + (task.id ? '&taskId=' + task.id : '');\r\n        return this.http.post(url, serializeObj(task), { headers: HEADERS })\r\n            .map(response => transformPostResponse(response))\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    completeTask(task: Task) {\r\n        return this.http.put('p?id=task-form&taskId=' + task.id + '&_action=complete', '', { headers: HEADERS })\r\n            .map(response => transformPostResponse(response))\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteTask(tasks: Task[]) {\r\n        return this.http.delete('p?id=task-view&taskIds=' + tasks.map(it => it.id).join(','), { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteTaskAttachment(task: Task, attachment: Attachment) {\r\n        return this.http.delete('p?id=task-form&taskId=' + task.id + '&attachmentId=' + attachment.id, { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  REQUEST\r\n    //-----------------------------------\r\n\r\n    fetchTaskRequests(task: Task, page = 0) {\r\n        return this.http.get('p?id=task-requests&taskId=' + task.id, { headers: HEADERS })\r\n            .map(response => parseResponseObjects(response.json().objects).request || {})\r\n            .map(data => {\r\n                return {\r\n                    requests: <Request[]>data.list,\r\n                    meta: data.meta\r\n                }\r\n            });\r\n    }\r\n\r\n    sendTaskRequest(request: Request) {\r\n        let url = 'p?id=task-requests&taskId=' + request.taskId;\r\n        return this.http.post(url, serializeObj(request), { headers: HEADERS })\r\n            .map(response => transformPostResponse(response))\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    doRequestResolution(request: Request, resolution: string, data?: any) {\r\n        let url = 'p?id=task-requests&requestId=' + request.id + '&resolution=' + resolution + '&' + serializeObj(data);\r\n        return this.http.put(url, '', { headers: HEADERS })\r\n            .map(response => transformPostResponse(response))\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteRequest(request: Request) {\r\n        return this.http.delete('p?id=task-requests&requestId=' + request.id, { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteRequestAttachment(request: Request, attachment: Attachment) {\r\n        return this.http.delete('p?id=task-requests&requestId=' + request.id + '&attachmentId=' + attachment.id, { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n\r\n    //===================================\r\n    //  COMMENT\r\n    //-----------------------------------\r\n\r\n    fetchComments(task: Task, page = 0) {\r\n        return this.http.get('p?id=comments&taskId=' + task.id, { headers: HEADERS })\r\n            .map(response => parseResponseObjects(response.json().objects).comment || {})\r\n            .map(data => {\r\n                return {\r\n                    comments: <Comment[]>data.list,\r\n                    meta: data.meta\r\n                }\r\n            });\r\n    }\r\n\r\n    saveComment(task: Task, comment: Comment) {\r\n        let url = 'p?id=comments&taskId=' + task.id + (comment.id ? '&commentId=' + comment.id : '');\r\n        return this.http.post(url, serializeObj(comment), { headers: HEADERS })\r\n            .map(response => transformPostResponse(response))\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteComment(comment: Comment) {\r\n        return this.http.delete('p?id=comments&commentId=' + comment.id, { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n\r\n    deleteCommentAttachment(comment: Comment, attachment: Attachment) {\r\n        return this.http.delete('p?id=comments&commentId=' + comment.id + '&attachmentId=' + attachment.id, { headers: HEADERS })\r\n            .catch(error => Observable.throw(transformPostResponse(error)));\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/task.service.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\n\r\nimport { Tag, TaskType, RequestType } from '../models';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Injectable()\r\nexport class ReferenceService {\r\n\r\n    constructor(\r\n        private http: Http\r\n    ) { }\r\n\r\n    fetchTags() {\r\n        return this.http.get('/Reference/p?id=tags', { headers: HEADERS })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    tags: <Tag[]>data.list,\r\n                    meta: data.meta\r\n                };\r\n            });\r\n    }\r\n\r\n    fetchTaskTypes() {\r\n        return this.http.get('/Reference/p?id=tasktypes', { headers: HEADERS })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    taskTypes: <TaskType[]>data.list,\r\n                    meta: data.meta\r\n                };\r\n            });\r\n    }\r\n\r\n    fetchRequestTypes() {\r\n        return this.http.get('/Reference/p?id=request-types', { headers: HEADERS })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    requestTypes: <RequestType[]>data.list,\r\n                    meta: data.meta\r\n                };\r\n            });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/reference.service.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\n\r\nimport { Organization, User } from '../models';\r\nimport { createURLSearchParams } from '../utils/utils';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Injectable()\r\nexport class StaffService {\r\n\r\n    constructor(\r\n        private http: Http\r\n    ) { }\r\n\r\n    fetchOrganizations(queryParams = {}) {\r\n        return this.http.get('/Staff/p?id=get-organizations', {\r\n            headers: HEADERS,\r\n            search: createURLSearchParams(queryParams)\r\n        })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    organizations: <Organization[]>data.list,\r\n                    meta: data.meta\r\n                }\r\n            });\r\n    }\r\n\r\n    fetchUsers() {\r\n        return this.http.get('p?id=users', { headers: HEADERS })\r\n            .map(response => response.json().objects[0])\r\n            .map(data => {\r\n                return {\r\n                    users: <User[]>data.list\r\n                }\r\n            });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/staff.service.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n@Injectable()\r\nexport class UploadService {\r\n    public progress$: Observable<any>;\r\n    private progressObserver: any;\r\n\r\n    constructor() {\r\n        this.progress$ = Observable.create(observer => {\r\n            this.progressObserver = observer;\r\n        }).share();\r\n    }\r\n\r\n    makeFileRequest(url: string, params: any, files: File[]): Observable<any> {\r\n        return Observable.create(observer => {\r\n            let formData: FormData = new FormData(),\r\n                xhr: XMLHttpRequest = new XMLHttpRequest();\r\n\r\n            for (let i = 0; i < files.length; i++) {\r\n                formData.append('uploads[]', files[i], files[i].name);\r\n            }\r\n\r\n            if (params) {\r\n                for (let k in params) {\r\n                    formData.append(k, params[k]);\r\n                }\r\n            }\r\n\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState === 4) {\r\n                    if (xhr.status === 200) {\r\n                        observer.next(JSON.parse(xhr.response));\r\n                        observer.complete();\r\n                    } else {\r\n                        observer.error(xhr.response);\r\n                    }\r\n                }\r\n            };\r\n\r\n            xhr.upload.onprogress = (event) => {\r\n                let progress = Math.round(event.loaded / event.total * 100);\r\n                this.progressObserver.next(progress);\r\n            };\r\n\r\n            xhr.open('POST', url, true);\r\n            xhr.send(formData);\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/services/upload.service.ts\n **/","import { DropdownComponent } from './dropdown.component';\r\nimport { DropdownToggleComponent } from './dropdown-toggle.component';\r\n\r\nexport const DROPDOWN_DIRECTIVES = [DropdownComponent, DropdownToggleComponent];\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/dropdown/index.ts\n **/","import {\r\n    Component,\r\n    Input,\r\n    Output,\r\n    HostBinding,\r\n    HostListener,\r\n    Renderer,\r\n    AfterContentInit,\r\n    OnDestroy,\r\n    ContentChildren,\r\n    EventEmitter,\r\n    QueryList\r\n} from '@angular/core';\r\n\r\nimport { DropdownToggleComponent } from './dropdown-toggle.component';\r\n\r\n@Component({\r\n    selector: '[dropdown]',\r\n    template: `<ng-content></ng-content>`\r\n})\r\n\r\nexport class DropdownComponent {\r\n    @HostBinding('class.dropdown') true;\r\n    @HostBinding('class.open') get isOpen() { return this.open };\r\n    @HostBinding('tabIndex') get _tabIndex() { return this.tabIndex; };\r\n\r\n    @HostListener('mouseenter', ['$event']) public onMouseEnter($event: MouseEvent): void {\r\n        if (this.mouseEvent) {\r\n            clearTimeout(this.time);\r\n            this.time = setTimeout(() => this.open = true, this.delay);\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event']) public onMouseLeave($event: MouseEvent): void {\r\n        if (this.mouseEvent) {\r\n            clearTimeout(this.time);\r\n            this.time = setTimeout(() => this.open = false, this.delay);\r\n        }\r\n    }\r\n\r\n    @HostListener('click', ['$event']) public onClick($event: MouseEvent): void {\r\n        this.selfClick = true;\r\n    }\r\n\r\n    @HostListener('focus', ['$event']) public onFocus($event: MouseEvent): void {\r\n        $event.preventDefault();\r\n        this.selfClick = true;\r\n    }\r\n\r\n    @ContentChildren(DropdownToggleComponent) toggleComponent: QueryList<DropdownToggleComponent>;\r\n    @Input() open = false;\r\n    @Input() mouseEvent = false;\r\n    @Input() tabIndex = 0;\r\n    @Output() dropdownToggle = new EventEmitter<any>();\r\n    private documentClickListener;\r\n    private documentKeyupListener;\r\n    private selfClick: boolean = false;\r\n    private time;\r\n    private delay = 500;\r\n\r\n    constructor(private renderer: Renderer) {\r\n        this.documentClickListener = this.renderer.listenGlobal('body', 'click', () => {\r\n            if (!this.selfClick) {\r\n                this.open = false;\r\n            } else {\r\n                this.selfClick = false;\r\n            }\r\n        });\r\n\r\n        this.documentKeyupListener = this.renderer.listenGlobal('body', 'keyup', (event) => {\r\n            if (event.code === 'Escape') {\r\n                this.open = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        this.toggleComponent.forEach(it => it.toggle.subscribe(event => {\r\n            this.toggleDropdown(event);\r\n        }));\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.documentClickListener();\r\n    }\r\n\r\n    toggleDropdown(event) {\r\n        event.preventDefault();\r\n        this.open = !this.open;\r\n        this.dropdownToggle.emit(this.open);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/dropdown/dropdown.component.ts\n **/","import { Component, HostBinding, HostListener, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n    selector: '[dropdown-toggle]',\r\n    template: `<ng-content></ng-content>`\r\n})\r\n\r\nexport class DropdownToggleComponent {\r\n    public toggle: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @HostBinding('class.dropdown-toggle') true;\r\n\r\n    @HostListener('click', ['$event']) public onClick($event: MouseEvent): void {\r\n        $event.preventDefault();\r\n        this.toggle.emit($event);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/dropdown/dropdown-toggle.component.ts\n **/","import { Component, Input, Output, OnInit, OnDestroy } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES }  from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { EnvironmentActions } from '../../actions/environment.actions';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { User } from '../../models/user';\r\n\r\n@Component({\r\n    selector: 'navbar',\r\n    template: require('./navbar.html'),\r\n    directives: [ROUTER_DIRECTIVES, DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class NavbarComponent {\r\n    @Input() user: User;\r\n    keyup$ = new Subject<KeyboardEvent>();\r\n    headerTitle: string = 'Projects';\r\n    workspaceUrl: string = 'Logout'; // '/Workspace/p?id=workspace';\r\n    logoUrl: string = 'img/logo.png';\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private environmentActions: EnvironmentActions\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.keyup$\r\n            .debounceTime(300)\r\n            .map(event => (event.target as HTMLInputElement).value)\r\n            .distinctUntilChanged()\r\n            .subscribe(value => this.search(value));\r\n    }\r\n\r\n    searchFocus() {\r\n        this.store.dispatch(this.environmentActions.toggleSearch());\r\n    }\r\n\r\n    searchBlur() {\r\n        this.store.dispatch(this.environmentActions.hideNav());\r\n    }\r\n\r\n    search(value) {\r\n        this.store.dispatch(this.environmentActions.search(value));\r\n    }\r\n\r\n    toggleNav() {\r\n        this.store.dispatch(this.environmentActions.toggleNav());\r\n    }\r\n\r\n    logout(event) {\r\n        event.preventDefault();\r\n        // this.loggedUser = null;\r\n        window.location.href = 'Logout';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/navbar/navbar.ts\n **/","module.exports = \"<div class=\\\"navbar-header\\\">\\r\\n    <button class=\\\"btn-side-nav-toggle\\\" type=\\\"button\\\" (click)=\\\"toggleNav()\\\"></button>\\r\\n    <img class=\\\"brand-logo\\\" alt=\\\"logo\\\" src=\\\"{{ logoUrl }}\\\" />\\r\\n    <span class=\\\"brand-title\\\">\\r\\n        {{ headerTitle }}\\r\\n    </span>\\r\\n</div>\\r\\n<nav class=\\\"navbar-nav navbar-right\\\">\\r\\n    <ul class=\\\"nav nav-inline navbar-right\\\">\\r\\n        <li dropdown [tabIndex]=\\\"-1\\\" class=\\\"dropdown\\\">\\r\\n            <a dropdown-toggle href=\\\"#\\\" class=\\\"dropdown-toggle\\\">\\r\\n                <i class=\\\"fa fa-user\\\"></i>\\r\\n            </a>\\r\\n            <ul class=\\\"dropdown-menu right\\\">\\r\\n                <li *ngIf=\\\"user\\\">\\r\\n                    <a class=\\\"user-profile\\\" [routerLink]=\\\"['/user-profile']\\\">\\r\\n                        <i class=\\\"fa fa-user\\\"></i>\\r\\n                        <span>{{ user.name }}</span>\\r\\n                    </a>\\r\\n                </li>\\r\\n                <li class=\\\"divider\\\"></li>\\r\\n                <li>\\r\\n                    <a class=\\\"ws\\\" href=\\\"{{workspaceUrl}}\\\">\\r\\n                        <i class=\\\"fa fa-th\\\"></i>\\r\\n                        <span>{{ 'workspace' | translate }}</span>\\r\\n                    </a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </li>\\r\\n    </ul>\\r\\n    <form class=\\\"navbar-form navbar-search\\\">\\r\\n        <input type=\\\"search\\\" class=\\\"q\\\" name=\\\"keyword\\\" #keyWord placeholder=\\\"{{ 'search' | translate }}\\\" required autocomplete=\\\"off\\\" (keyup)=\\\"keyup$.next($event)\\\" (focus)=\\\"searchFocus()\\\" (blur)=\\\"searchBlur($event.target)\\\" />\\r\\n        <button type=\\\"reset\\\" (click)=\\\"search('')\\\"><i class=\\\"fa fa-times\\\"></i></button>\\r\\n        <input type=\\\"submit\\\" value=\\\"search\\\" />\\r\\n    </form>\\r\\n</nav>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/navbar/navbar.html\n ** module id = 587\n ** module chunks = 0\n **/","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { IProjectsState } from '../../reducers/projects.reducer';\r\nimport { ProjectActions } from '../../actions/project.actions';\r\nimport { ProjectService } from '../../services/project.service';\r\nimport { Project } from '../../models/project';\r\n\r\n@Component({\r\n    selector: '[data-c=nav]',\r\n    template: require('./nav.html'),\r\n    directives: [ROUTER_DIRECTIVES],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class NavComponent {\r\n    private sub: Subscription;\r\n    private projects: Project[];\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private projectActions: ProjectActions,\r\n        private projectService: ProjectService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('projects').subscribe((state: IProjectsState) => {\r\n            this.projects = state.projects;\r\n        });\r\n        this.loadNavProjects();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    loadNavProjects() {\r\n        this.projectService.fetchProjects().subscribe(data => {\r\n            this.store.dispatch(this.projectActions.fetchProjectsFulfilled(data.projects, data.meta));\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/nav/nav.ts\n **/","module.exports = \"<ul>\\r\\n    <li>\\r\\n        <a [routerLink]=\\\"['/tasks', 'my']\\\" class=\\\"nav-link\\\">\\r\\n            <i class=\\\"fa fa-pencil\\\"></i>\\r\\n            <span>{{'my_tasks' | translate}}</span>\\r\\n        </a>\\r\\n    </li>\\r\\n    <li>\\r\\n        <a [routerLink]=\\\"['/tasks', 'inbox']\\\" class=\\\"nav-link\\\">\\r\\n            <i class=\\\"fa fa-inbox\\\"></i>\\r\\n            <span>{{'tasks_assigned_to_me' | translate}}</span>\\r\\n        </a>\\r\\n    </li>\\r\\n    <!-- <li>\\r\\n        <a [routerLink]=\\\"['/']\\\" class=\\\"nav-link\\\">\\r\\n            <i class=\\\"fa fa-dashboard\\\"></i>\\r\\n            <span>{{'dashboard' | translate}}</span>\\r\\n        </a>\\r\\n    </li> -->\\r\\n    <li class=\\\"divider\\\"></li>\\r\\n    <li>\\r\\n        <a [routerLink]=\\\"['/projects']\\\" class=\\\"nav-link\\\">\\r\\n            <i class=\\\"fa fa-puzzle-piece\\\"></i>\\r\\n            <span>{{'projects' | translate}}</span>\\r\\n        </a>\\r\\n        <ul>\\r\\n            <li *ngFor=\\\"let project of projects\\\">\\r\\n                <a [routerLink]=\\\"['/projects', project.id, 'tasks']\\\" class=\\\"nav-link\\\">\\r\\n                    <i class=\\\"fa fa-file-text-o\\\"></i>\\r\\n                    <span>{{project.name}}</span>\\r\\n                </a>\\r\\n            </li>\\r\\n        </ul>\\r\\n    </li>\\r\\n</ul>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/nav/nav.html\n ** module id = 589\n ** module chunks = 0\n **/","module.exports = \"<notification></notification>\\r\\n<div class=\\\"layout\\\" [class.hidden]=\\\"!isReady\\\">\\r\\n    <div class=\\\"content-overlay\\\" (mousedown)=\\\"hideNav($event)\\\" (touchstart)=\\\"hideNav($event)\\\"></div>\\r\\n    <header class=\\\"header navbar navbar-fixed-top\\\">\\r\\n        <div class=\\\"container\\\">\\r\\n            <navbar [user]=\\\"loggedUser\\\"></navbar>\\r\\n        </div>\\r\\n    </header>\\r\\n    <section class=\\\"container\\\">\\r\\n        <nav data-c=\\\"nav\\\" class=\\\"aside side-nav\\\"></nav>\\r\\n        <main class=\\\"content\\\">\\r\\n            <router-outlet></router-outlet>\\r\\n        </main>\\r\\n    </section>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/application/app.html\n ** module id = 590\n ** module chunks = 0\n **/","import { provideRouter, RouterConfig }  from '@angular/router';\r\n\r\nimport { AuthGuard } from './auth.guard';\r\nimport { RedirectGuard } from './redirect.guard';\r\nimport { DashboardComponent } from './components/dashboard/dashboard';\r\nimport { ProjectsComponent } from './components/project/projects';\r\nimport { ProjectComponent } from './components/project/project';\r\nimport { TasksComponent } from './components/task/tasks';\r\nimport { TaskComponent } from './components/task/task';\r\nimport { UserProfileComponent } from './components/user-profile/user-profile';\r\nimport { LoginComponent } from './components/login';\r\nimport { User } from './models/user';\r\n\r\nconst routes: RouterConfig = [\r\n    { path: '', component: TasksComponent, canActivate: [RedirectGuard, AuthGuard] },\r\n    { path: 'dashboard', component: DashboardComponent, canActivate: [AuthGuard] },\r\n    { path: 'projects/:projectId/tasks', component: TasksComponent, canActivate: [AuthGuard] },\r\n    { path: 'projects/:projectId', component: ProjectComponent, canActivate: [AuthGuard] },\r\n    { path: 'projects', component: ProjectsComponent, canActivate: [AuthGuard] },\r\n    // {\r\n    //     path: 'projects', component: ProjectsComponent, canActivate: [AuthGuard], children: [\r\n    //         { path: ':projectId', component: ProjectComponent }\r\n    //     ]\r\n    // },\r\n    { path: 'tasks/:for', component: TasksComponent, canActivate: [AuthGuard] },\r\n    { path: 'tasks', component: TasksComponent, canActivate: [AuthGuard] },\r\n    { path: 'task/:taskId/:new', component: TaskComponent, canActivate: [AuthGuard] },\r\n    { path: 'task/:taskId', component: TaskComponent, canActivate: [AuthGuard] },\r\n    { path: 'user-profile', component: UserProfileComponent, canActivate: [AuthGuard] },\r\n    { path: 'login', component: LoginComponent },\r\n    { path: '**', component: TasksComponent, canActivate: [AuthGuard] }\r\n];\r\n\r\nexport const APP_ROUTER_PROVIDERS = [\r\n    provideRouter(routes),\r\n    AuthGuard,\r\n    RedirectGuard\r\n];\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/app.routes.ts\n **/","import { Injectable } from '@angular/core';\r\nimport {\r\n    Router,\r\n    CanActivate,\r\n    ActivatedRouteSnapshot,\r\n    RouterStateSnapshot\r\n} from '@angular/router';\r\n\r\nimport { AppService } from './services';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n\r\n    constructor(\r\n        private appService: AppService,\r\n        private router: Router\r\n    ) { }\r\n\r\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        if (this.appService.isLogged) {\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/auth.guard.ts\n **/","import { Injectable } from '@angular/core';\r\nimport {\r\n    Router,\r\n    CanActivate,\r\n    ActivatedRouteSnapshot,\r\n    RouterStateSnapshot\r\n} from '@angular/router';\r\n\r\nimport { AppService } from './services';\r\n\r\n@Injectable()\r\nexport class RedirectGuard implements CanActivate {\r\n\r\n    constructor(private router: Router) { }\r\n\r\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n\r\n        if (state.url === '/') {\r\n            let s = 'id=project-form&projectId=';\r\n            let index = location.search.indexOf(s);\r\n            if (index != -1) {\r\n                let id = location.search.substring(index + s.length, location.search.length);\r\n                // history.replaceState({}, '', location.pathname);\r\n                // this.router.navigate(['/projects/' + id]);\r\n                location.href = location.protocol + '//' + location.host + location.pathname + '#/projects/' + id;\r\n                return false;\r\n            }\r\n\r\n            s = 'id=task-form&taskId=';\r\n            index = location.search.indexOf(s);\r\n            if (index != -1) {\r\n                let id = location.search.substring(index + s.length, location.search.length);\r\n                // history.replaceState({}, '', location.pathname);\r\n                // this.router.navigate(['/task/' + id]);\r\n                location.href = location.protocol + '//' + location.host + location.pathname + '#/task/' + id;\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/redirect.guard.ts\n **/","import { Component } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { ProjectInputComponent } from '../shared/project-input';\r\nimport { Project } from '../../models';\r\nimport { parseResponseObjects, serializeObj, transformPostResponse } from '../../utils/utils';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Component({\r\n    selector: '[dashboard]',\r\n    template: `\r\n        <div class=\"content-header\">\r\n            <h1 class=\"header-title\">\r\n                {{'dashboard' | translate}}\r\n            </h1>\r\n        </div>\r\n        <div class=\"content-body\">\r\n            Здесь что-то будет\r\n            <!-- <div class=\"dashboard\" *ngFor=\"let project of projects\">\r\n                <header>\r\n                    <span>{{project.name}}</span>\r\n                    <button (click)=\"deleteProjectFromDashboard(project.id)\">delete</button>\r\n                </header>\r\n                <section>\r\n                    project data\r\n                </section>\r\n            </div>\r\n            <div class=\"span3\">\r\n                <project-input editable=\"true\" (select)=\"selectProject($event)\"></project-input>\r\n                <button class=\"btn\" type=\"button\" (click)=\"addProjectToDashboard()\">{{'dashboard_add_project' | translate}}</button>\r\n            </div> -->\r\n        </div>\r\n    `,\r\n    directives: [ProjectInputComponent],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class DashboardComponent {\r\n\r\n    private projects: Project[];\r\n    private projectId: string;\r\n\r\n    constructor(private http: Http) {\r\n        this.fetchDashboardProjects();\r\n    }\r\n\r\n    private fetchDashboardProjects() {\r\n        this.http.get('p?id=dashboard', { headers: HEADERS })\r\n            .map(response => parseResponseObjects(response.json().objects).project)\r\n            .subscribe(data => {\r\n                this.projects = data ? data.list : [];\r\n            });\r\n    }\r\n\r\n    private addProjectToDashboard() {\r\n        this.http.post('p?id=dashboard', `projectId=${this.projectId}`, { headers: HEADERS })\r\n            .map(response => response.json())\r\n            .subscribe(data => {\r\n                this.fetchDashboardProjects();\r\n            });\r\n    }\r\n\r\n    private deleteProjectFromDashboard(projectId: string) {\r\n        this.http.delete(`p?id=dashboard&projectId=${projectId}`, { headers: HEADERS })\r\n            .map(response => response.json())\r\n            .subscribe(data => {\r\n                this.fetchDashboardProjects();\r\n            });\r\n    }\r\n\r\n    private selectProject(project: Project) {\r\n        this.projectId = project.id;\r\n        document.body.click();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/dashboard/dashboard.ts\n **/","import { Component, Input, Output, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { IProjectsState } from '../../reducers/projects.reducer';\r\nimport { Project } from '../../models';\r\n\r\n@Component({\r\n    selector: 'project-input',\r\n    template: `\r\n        <span class=\"input project-input\" *ngIf=\"!editable\">\r\n            {{project?.name}}\r\n        </span>\r\n        <div dropdown class=\"select project-input\" [class.allow-clear]=\"allowClear\" [class.has-selected]=\"project\" *ngIf=\"editable\">\r\n            <div dropdown-toggle class=\"select-selection input\">\r\n                <span>{{project?.name}}</span>\r\n                <span class=\"placeholder\">{{placeHolder}}</span>\r\n                <div class=\"clear\" *ngIf=\"allowClear && project\" (click)=\"clear($event)\">\r\n                    <i class=\"fa fa-times\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"dropdown-menu select-dropdown\">\r\n                <div class=\"select-search\" *ngIf=\"searchable\">\r\n                    <input placeholder=\"{{'search' | translate}}\" #searchInput (keyup)=\"search($event.target.value)\" />\r\n                    <!-- <button type=\"button\" class=\"btn select-search-reset\" *ngIf=\"searchInput.value\" (click)=\"searchInput.value = '' && search('')\">\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </button> -->\r\n                </div>\r\n                <ul class=\"select-list scroll-shadow\" (scroll)=\"onScroll($event)\">\r\n                    <li class=\"select-option\" [class.selected]=\"project?.id == m.id\" *ngFor=\"let m of getProjects()\" (click)=\"onSelect(m)\">\r\n                        {{m.name}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class ProjectInputComponent {\r\n    @Input() projectId: string;\r\n    @Input() placeHolder: string = '';\r\n    @Input() editable: boolean = false;\r\n    @Input() searchable: boolean = false;\r\n    @Input() allowClear: boolean = false;\r\n    @Output() select: EventEmitter<any> = new EventEmitter();\r\n    private projects: Project[] = [];\r\n    private project: Project;\r\n    private sub: any;\r\n    private keyWord: string = '';\r\n\r\n    constructor(private store: Store<any>) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('projects').subscribe((state: IProjectsState) => {\r\n            this.projects = state.projects;\r\n            this.project = state.projects.filter(it => it.id == this.projectId)[0];\r\n            this.searchable = this.projects.length > 13;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    getProjects() {\r\n        if (this.keyWord) {\r\n            return this.projects.filter(it => it.name.toLowerCase().indexOf(this.keyWord) != -1);\r\n        }\r\n        return this.projects;\r\n    }\r\n\r\n    search(keyWord) {\r\n        this.keyWord = keyWord.toLowerCase();\r\n    }\r\n\r\n    clear($event) {\r\n        $event.stopPropagation();\r\n        this.onSelect(null);\r\n    }\r\n\r\n    onSelect(m) {\r\n        this.project = m;\r\n        this.select.emit(this.project);\r\n        document.body.click();\r\n    }\r\n\r\n    onScroll($event) {\r\n        let {scrollHeight, clientHeight, scrollTop} = $event.target;\r\n        if ((scrollHeight - clientHeight) == scrollTop) {\r\n            console.log('scroll end');\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/project-input.ts\n **/","import { Component, OnInit, OnDestroy, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Router, ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { TextTransformPipe, DateFormatPipe } from '../../pipes';\r\nimport { PaginationComponent } from '../../shared/pagination';\r\nimport { StaffService } from '../../services/staff.service';\r\nimport { Project } from '../../models/project';\r\nimport { ProjectService } from '../../services/project.service';\r\nimport { ProjectListComponent } from './project-list';\r\nimport { ProjectComponent } from './project';\r\nimport { ProjectActions } from '../../actions/project.actions';\r\nimport { IEnvironmentState } from '../../reducers/environment.reducer';\r\nimport { IProjectsState } from '../../reducers/projects.reducer';\r\n\r\n@Component({\r\n    selector: 'project-list',\r\n    template: require('./templates/projects.html'),\r\n    // changeDetection: ChangeDetectionStrategy.OnPush,\r\n    directives: [\r\n        ROUTER_DIRECTIVES,\r\n        PaginationComponent,\r\n        ProjectListComponent\r\n    ],\r\n    pipes: [DateFormatPipe, TranslatePipe, TextTransformPipe]\r\n})\r\n\r\nexport class ProjectsComponent {\r\n    private subs: any = [];\r\n\r\n    title = 'projects';\r\n    projects: Project[];\r\n    meta: any = {};\r\n    keyWord: string = '';\r\n    loading: boolean = true;\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private router: Router,\r\n        private projectActions: ProjectActions,\r\n        private projectService: ProjectService,\r\n        private staffService: StaffService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.subs.push(this.store.select('environment').subscribe((state: IEnvironmentState) => {\r\n            if (this.keyWord != state.keyWord) {\r\n                this.loadData({\r\n                    keyWord: state.keyWord\r\n                });\r\n            }\r\n            this.keyWord = state.keyWord;\r\n        }));\r\n\r\n        this.subs.push(this.store.select('projects').subscribe((state: IProjectsState) => {\r\n            if (state) {\r\n                this.projects = state.projects;\r\n                this.meta = state.meta;\r\n                this.loading = state.loading;\r\n            }\r\n        }));\r\n        this.loadData();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subs.map(s => s.unsubscribe());\r\n    }\r\n\r\n    loadData(params?) {\r\n        this.store.dispatch(this.projectActions.fetchProjects());\r\n        this.projectService.fetchProjects(params).subscribe(data => {\r\n            let customerIds = data.projects.map(it => it.customerId);\r\n            this.staffService.fetchOrganizations({ ids: customerIds }).subscribe(\r\n                payload => {\r\n                    let orgs = payload.organizations;\r\n                    data.projects.map(p => {\r\n                        if (p.customerId) {\r\n                            p.customer = orgs.filter(org => org.id == p.customerId)[0];\r\n                        }\r\n                    });\r\n                    this.store.dispatch(this.projectActions.fetchProjectsFulfilled(data.projects, data.meta));\r\n                },\r\n                error => this.store.dispatch(this.projectActions.fetchProjectsFailed(error))\r\n            );\r\n        });\r\n    }\r\n\r\n    goToPage(params) {\r\n        this.loadData({\r\n            page: params.page,\r\n            keyWord: this.keyWord\r\n        });\r\n    }\r\n\r\n    newProject() {\r\n        this.router.navigate(['/projects', 'new']);\r\n    }\r\n\r\n    deleteProject() {\r\n        // this.projectService.deleteProject(this.selectedProjects).subscribe();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/project/projects.ts\n **/","export { DateFormatPipe } from './date-format.pipe';\r\nexport { TextTransformPipe } from './text-transform.pipe';\r\nexport { ValuesPipe } from './values.pipe';\r\nexport { KeysPipe } from './keys.pipe';\r\nexport { LocalizedNamePipe } from './localizedName.pipe';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/pipes/index.ts\n **/","import { Pipe } from '@angular/core';\r\nimport * as moment from 'moment';\r\n\r\n@Pipe({ name: 'dateFmt' })\r\nexport class DateFormatPipe {\r\n    transform(date: string, format: string): string {\r\n        if (!date) {\r\n            return '';\r\n        }\r\n\r\n        if (!format) {\r\n            format = 'DD.MM.YYYY HH:mm';\r\n        }\r\n\r\n        let md = moment(date, format);\r\n\r\n        if (md.isValid()) {\r\n            return md.format(format);\r\n        }\r\n\r\n        return '';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/pipes/date-format.pipe.ts\n **/","import { Pipe } from '@angular/core';\r\n\r\n@Pipe({ name: 'text' })\r\nexport class TextTransformPipe {\r\n    transform(text: string, transform: string): string {\r\n        switch (transform) {\r\n            case 'L':\r\n                return text.toLowerCase();\r\n            case 'U':\r\n                return text.toUpperCase();\r\n            default:\r\n                return text;\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/pipes/text-transform.pipe.ts\n **/","import { Pipe } from '@angular/core';\r\n\r\n@Pipe({ name: 'values' })\r\nexport class ValuesPipe {\r\n    transform(values: any, args: string[]): any {\r\n        return Object.keys(values).map(key => values[key]);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/pipes/values.pipe.ts\n **/","import { Pipe } from '@angular/core';\r\n\r\n@Pipe({ name: 'keys' })\r\nexport class KeysPipe {\r\n    transform(value, args: string[]): any {\r\n        let keys = [];\r\n        for (let key in value) {\r\n            keys.push(key);\r\n        }\r\n        return keys;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/pipes/keys.pipe.ts\n **/","import { Pipe } from '@angular/core';\r\n\r\nimport { AppService } from '../services';\r\n\r\n@Pipe({ name: 'localizedName' })\r\nexport class LocalizedNamePipe {\r\n\r\n    constructor(private appService: AppService) { }\r\n\r\n    transform(model: any, field: string, locale: string): string {\r\n        return model ? model.localizedName[locale || this.appService.language] || model[field || 'name'] : '';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/pipes/localizedName.pipe.ts\n **/","export * from './pagination';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/pagination/index.ts\n **/","import { Component, Input, Output, EventEmitter, AfterContentInit, HostBinding, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'pagination',\r\n    template: `\r\n        <div class=\"pagination\" *ngIf=\"totalPages > 1\">\r\n            <a href=\"#\" *ngIf=\"startPage > 1\" (click)=\"setPage(1, $event)\">1</a>\r\n            <span *ngIf=\"startPage > 1\">...</span>\r\n            <a [class.page-active]=\"p == currentPage\" href=\"#\" *ngFor=\"let p of pages\" (click)=\"setPage(p, $event)\">{{p}}</a>\r\n            <span *ngIf=\"stopPage < totalPages\">...</span>\r\n            <a *ngIf=\"stopPage < totalPages\" href=\"#\" (click)=\"setPage(totalPages, $event)\">{{totalPages}}</a>\r\n        </div>\r\n    `,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class PaginationComponent {\r\n    @HostBinding('hidden') get isHidden() { return this.totalPages < 2; };\r\n    @Input() maxPageControl: number = 5;\r\n    @Input('totalPages') set _totalPages(totalPages: number) {\r\n        this.totalPages = totalPages;\r\n        this.currentPage = totalPages;\r\n    }\r\n    @Input('page') set _page(page: number) {\r\n        this.currentPage = page;\r\n        this.pagination();\r\n    }\r\n    @Output() change = new EventEmitter<any>();\r\n    private totalPages: number = 0;\r\n    private currentPage: number = 0;\r\n    private startPage: number = 0;\r\n    private stopPage: number = 0;\r\n    private pages: number[] = [];\r\n\r\n    setPage(page: number, $event) {\r\n        $event.preventDefault();\r\n        this.change.emit({ page: page });\r\n    }\r\n\r\n    pagination() {\r\n        this.pages = [];\r\n\r\n        if (this.totalPages <= 1) {\r\n            return;\r\n        }\r\n\r\n        let perPage = Math.floor(this.maxPageControl / 2);\r\n        this.startPage = (this.currentPage - perPage);\r\n        this.stopPage = (this.currentPage + perPage);\r\n\r\n        if (this.startPage <= perPage) {\r\n            this.startPage = 1;\r\n        } else if (this.currentPage == this.totalPages) {\r\n            this.startPage = this.totalPages - this.maxPageControl;\r\n        }\r\n\r\n        if (this.stopPage > (this.totalPages - perPage)) {\r\n            this.stopPage = this.totalPages;\r\n        } else if (this.currentPage == 1) {\r\n            this.stopPage = this.maxPageControl + 1;\r\n        }\r\n\r\n        if ((this.maxPageControl + perPage) >= this.totalPages) {\r\n            this.startPage = 1;\r\n            this.stopPage = this.totalPages;\r\n        }\r\n\r\n        for (let p = this.startPage; p <= this.stopPage; p++) {\r\n            this.pages.push(p);\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/pagination/pagination.ts\n **/","import { Component, Input, Output } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { OrganizationInputComponent, UserInputComponent } from '../shared';\r\nimport { TextTransformPipe, DateFormatPipe } from '../../pipes';\r\nimport { Project } from '../../models';\r\n\r\n@Component({\r\n    selector: 'project-list',\r\n    template: require('./templates/project-list.html'),\r\n    directives: [ROUTER_DIRECTIVES, OrganizationInputComponent, UserInputComponent],\r\n    pipes: [DateFormatPipe, TranslatePipe, TextTransformPipe]\r\n})\r\n\r\nexport class ProjectListComponent {\r\n    @Input('projects') set _projects(projects: Project[]) {\r\n        this.projects = projects;\r\n        this.selectedIds = [];\r\n        this.isSelectedAll = false;\r\n    }\r\n    @Input() showHeader: boolean = true;\r\n\r\n    private projects: Project[];\r\n    private selectedIds: string[] = [];\r\n    private isSelectedAll: boolean = false;\r\n\r\n    isSelected(id: string) {\r\n        return this.selectedIds.indexOf(id) != -1;\r\n    }\r\n\r\n    toggleSelectAll() {\r\n        if (this.selectedIds.length) {\r\n            this.selectedIds = [];\r\n            this.isSelectedAll = false;\r\n        } else {\r\n            this.selectedIds = this.projects.map(it => it.id);\r\n            this.isSelectedAll = true;\r\n        }\r\n    }\r\n\r\n    toggleSelected(id: string) {\r\n        let index = this.selectedIds.indexOf(id);\r\n        if (index != -1) {\r\n            this.selectedIds.push(id);\r\n        } else {\r\n            this.selectedIds.splice(index);\r\n            if (!this.selectedIds.length) {\r\n                this.isSelectedAll = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/project/project-list.ts\n **/","export * from './organization-input';\r\nexport * from './project-input';\r\nexport * from './request-type-input';\r\nexport * from './tags-input';\r\nexport * from './task-type-input';\r\nexport * from './user-input';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/index.ts\n **/","import { Component, Input, Output, OnInit, EventEmitter } from '@angular/core';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { StaffService } from '../../services/staff.service';\r\nimport { Organization } from '../../models';\r\n\r\n@Component({\r\n    selector: 'organization-input',\r\n    template: `\r\n        <span class=\"input organization-input\" *ngIf=\"!editable\">\r\n            {{org?.name}}\r\n        </span>\r\n        <div dropdown class=\"select organization-input\" [class.allow-clear]=\"allowClear\" [class.has-selected]=\"org\" *ngIf=\"editable\" (dropdownToggle)=\"startLoad()\">\r\n            <div dropdown-toggle class=\"select-selection input\">\r\n                <span>{{org?.name}}</span>\r\n                <span class=\"placeholder\">{{placeHolder}}</span>\r\n                <div class=\"clear\" *ngIf=\"allowClear && org\" (click)=\"clear($event)\">\r\n                    <i class=\"fa fa-times\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"dropdown-menu select-dropdown\">\r\n                <div class=\"select-search\" *ngIf=\"searchable\">\r\n                    <input placeholder=\"{{'search' | translate}}\" #searchInput (keyup)=\"search($event.target.value)\" />\r\n                    <!-- <button type=\"button\" class=\"btn select-search-reset\" *ngIf=\"searchInput.value\" (click)=\"searchInput.value = '' && search('')\">\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </button> -->\r\n                </div>\r\n                <ul class=\"select-list scroll-shadow\" (scroll)=\"onScroll($event)\">\r\n                    <li class=\"select-option\" [class.selected]=\"org?.id == m.id\" *ngFor=\"let m of getOrganizations()\" (click)=\"onSelect(m)\">\r\n                        {{m.name}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class OrganizationInputComponent {\r\n    @Input() orgId: string;\r\n    @Input() org: Organization;\r\n    @Input() placeHolder: string = '';\r\n    @Input() editable: boolean = false;\r\n    @Input() searchable: boolean = false;\r\n    @Input() allowClear: boolean = false;\r\n    @Output() select: EventEmitter<any> = new EventEmitter();\r\n    private organizations: Organization[] = [];\r\n    private keyWord: string = '';\r\n    private meta: any;\r\n    private allLoaded = false;\r\n    private firstLoad = true;\r\n\r\n    constructor(private staffService: StaffService) { }\r\n\r\n    ngOnInit() {\r\n        if (!this.org && this.orgId) {\r\n            this.staffService.fetchOrganizations({ ids: this.orgId }).subscribe(payload => {\r\n                this.org = payload.organizations[0];\r\n            })\r\n        }\r\n    }\r\n\r\n    startLoad() {\r\n        if (this.firstLoad) {\r\n            this.loadOrganizations();\r\n            this.firstLoad = false;\r\n        }\r\n    }\r\n\r\n    loadOrganizations(page = 1) {\r\n        this.staffService.fetchOrganizations({ page: page, keyWord: this.keyWord }).subscribe(payload => {\r\n            this.organizations = this.organizations.concat(payload.organizations);\r\n            this.meta = payload.meta;\r\n            if (!this.searchable) {\r\n                this.searchable = this.organizations.length > 13;\r\n            }\r\n        });\r\n    }\r\n\r\n    getOrganizations() {\r\n        if (this.keyWord) {\r\n            return this.organizations.filter(it => it.name.toLowerCase().indexOf(this.keyWord) != -1);\r\n        }\r\n        return this.organizations;\r\n    }\r\n\r\n    search(keyWord) {\r\n        this.keyWord = keyWord.toLowerCase();\r\n    }\r\n\r\n    clear($event) {\r\n        $event.stopPropagation();\r\n        this.onSelect(null);\r\n    }\r\n\r\n    onSelect(m) {\r\n        this.org = m;\r\n        this.select.emit(this.org);\r\n        document.body.click();\r\n    }\r\n\r\n    onScroll($event) {\r\n        if (this.allLoaded) {\r\n            return;\r\n        }\r\n\r\n        let {scrollHeight, clientHeight, scrollTop} = $event.target;\r\n        if ((scrollHeight - clientHeight) == scrollTop) {\r\n            if (this.meta && this.meta.page < this.meta.totalPages) {\r\n                this.loadOrganizations(this.meta.page + 1);\r\n            } else {\r\n                this.allLoaded = true;\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/organization-input.ts\n **/","import { Component, Input, Output, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { LocalizedNamePipe } from '../../pipes';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { IReferenceState } from '../../reducers/reference.reducer';\r\nimport { Request, RequestType } from '../../models';\r\n\r\n@Component({\r\n    selector: 'request-type-input',\r\n    template: `\r\n        <span class=\"input request-type-input\" *ngIf=\"!editable\">\r\n            {{requestType | localizedName}}\r\n        </span>\r\n        <div dropdown class=\"select request-type-input\" [class.allow-clear]=\"allowClear\" [class.has-selected]=\"requestType\" *ngIf=\"editable\">\r\n            <div dropdown-toggle class=\"select-selection input\">\r\n                <span *ngIf=\"requestType\">\r\n                    {{requestType | localizedName}}\r\n                </span>\r\n                <span class=\"placeholder\">{{placeHolder}}</span>\r\n                <div class=\"clear\" *ngIf=\"allowClear && requestType\" (click)=\"clear($event)\">\r\n                    <i class=\"fa fa-times\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"dropdown-menu select-dropdown\">\r\n                <div class=\"select-search\" *ngIf=\"searchable\">\r\n                    <input placeholder=\"{{'search' | translate}}\" #searchInput (keyup)=\"search($event.target.value)\" />\r\n                    <button type=\"button\" class=\"btn select-search-reset\" *ngIf=\"searchInput.value\" (click)=\"searchInput.value = '' && search('')\">\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </button>\r\n                </div>\r\n                <ul class=\"select-list scroll-shadow\" (scroll)=\"onScroll($event)\">\r\n                    <li class=\"select-option\" [class.selected]=\"requestType?.id == m.id\" *ngFor=\"let m of requestTypes\" (click)=\"onSelect(m)\">\r\n                        {{m | localizedName}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe, LocalizedNamePipe]\r\n})\r\n\r\nexport class RequestTypeInputComponent {\r\n    @Input() requestType: RequestType;\r\n    @Input() placeHolder: string = '';\r\n    @Input() editable: boolean = false;\r\n    @Input() searchable: boolean = false;\r\n    @Input() allowClear: boolean = false;\r\n    @Output() select: EventEmitter<any> = new EventEmitter();\r\n    private requestTypes: any;\r\n    private sub: any;\r\n\r\n    constructor(\r\n        private store: Store<any>\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('reference').subscribe((state: IReferenceState) => {\r\n            this.requestTypes = state.requestTypes;\r\n            this.searchable = this.requestTypes.length > 13;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    search(keyWord) {\r\n        console.log(keyWord);\r\n    }\r\n\r\n    clear($event) {\r\n        $event.stopPropagation();\r\n        this.onSelect(null);\r\n    }\r\n\r\n    onSelect(m) {\r\n        this.requestType = m;\r\n        this.select.emit(this.requestType);\r\n        document.body.click();\r\n    }\r\n\r\n    onScroll($event) {\r\n        let {scrollHeight, clientHeight, scrollTop} = $event.target;\r\n        if ((scrollHeight - clientHeight) == scrollTop) {\r\n            console.log('scroll end');\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/request-type-input.ts\n **/","import { Component, Input, Output, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { LocalizedNamePipe } from '../../pipes';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { IReferenceState } from '../../reducers/reference.reducer';\r\nimport { Tag } from '../../models';\r\n\r\n@Component({\r\n    selector: 'tags-input',\r\n    template: `\r\n        <span class=\"input tags-input\" *ngIf=\"!editable\">\r\n            <span\r\n                class=\"tag\"\r\n                *ngFor=\"let m of selectedTags\"\r\n                [style.color]=\"m.color\">\r\n                {{m | localizedName}}\r\n            </span>\r\n        </span>\r\n        <div dropdown class=\"select tags-input\" [class.allow-clear]=\"allowClear\" [class.has-selected]=\"selectedTags.length\" *ngIf=\"editable\">\r\n            <div dropdown-toggle class=\"select-selection input\">\r\n                <span\r\n                    class=\"tag\"\r\n                    *ngFor=\"let m of selectedTags\"\r\n                    [style.color]=\"m.color\"\r\n                    (click)=\"remove(m, $event)\">\r\n                    {{m | localizedName}}\r\n                </span>\r\n                <span class=\"placeholder\">{{placeHolder}}</span>\r\n                <div class=\"clear\" *ngIf=\"allowClear && selectedTags.length\" (click)=\"clear($event)\">\r\n                    <i class=\"fa fa-times\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"dropdown-menu select-dropdown\">\r\n                <div class=\"select-search\" *ngIf=\"searchable\">\r\n                    <input placeholder=\"{{'search' | translate}}\" #searchInput (keyup)=\"search($event.target.value)\" />\r\n                    <button type=\"button\" class=\"btn select-search-reset\" *ngIf=\"searchInput.value\" (click)=\"searchInput.value = '' && search('')\">\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </button>\r\n                </div>\r\n                <ul class=\"select-list scroll-shadow\" (scroll)=\"onScroll($event)\">\r\n                    <li class=\"select-option\" *ngFor=\"let m of getTags()\" (click)=\"add(m)\">\r\n                        <span [style.color]=\"m.color\">\r\n                            {{m | localizedName}}\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe, LocalizedNamePipe]\r\n})\r\n\r\nexport class TagsInputComponent {\r\n    @Input() tagIds: string[] = [];\r\n    @Input() placeHolder: string = '';\r\n    @Input() editable: boolean = false;\r\n    @Input() searchable: boolean = false;\r\n    @Input() allowClear: boolean = false;\r\n    @Output() select: EventEmitter<any> = new EventEmitter();\r\n    private tags: Tag[] = [];\r\n    private selectedTags: Tag[] = [];\r\n    private sub: any;\r\n\r\n    constructor(\r\n        private store: Store<any>\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('reference').subscribe((state: IReferenceState) => {\r\n            this.tags = state.tags;\r\n            if (this.tagIds) {\r\n                this.selectedTags = state.tags.filter(it => this.tagIds.indexOf(it.id) != -1);\r\n            }\r\n            this.searchable = this.tags.length > 13;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    getTags() {\r\n        if (this.tagIds) {\r\n            return this.tags.filter(it => this.tagIds.indexOf(it.id) == -1);\r\n        } else {\r\n            return this.tags;\r\n        }\r\n    }\r\n\r\n    search(keyWord) {\r\n        console.log(keyWord);\r\n    }\r\n\r\n    clear($event) {\r\n        $event.stopPropagation();\r\n        this.selectedTags = [];\r\n        this.tagIds = [];\r\n        this.select.emit(this.selectedTags);\r\n    }\r\n\r\n    add(tag: Tag) {\r\n        this.selectedTags.push(tag);\r\n        this.tagIds = this.selectedTags.map(it => it.id);\r\n        this.select.emit(this.selectedTags);\r\n    }\r\n\r\n    remove(tag: Tag, $event) {\r\n        $event.stopPropagation();\r\n        this.selectedTags = this.selectedTags.filter(it => it.id != tag.id);\r\n        this.tagIds = this.selectedTags.map(it => it.id);\r\n        this.select.emit(this.selectedTags);\r\n    }\r\n\r\n    onScroll($event) {\r\n        let {scrollHeight, clientHeight, scrollTop} = $event.target;\r\n        if ((scrollHeight - clientHeight) == scrollTop) {\r\n            console.log('scroll end');\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/tags-input.ts\n **/","import { Component, Input, Output, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { LocalizedNamePipe } from '../../pipes';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { IReferenceState } from '../../reducers/reference.reducer';\r\nimport { TaskType } from '../../models';\r\n\r\n@Component({\r\n    selector: 'task-type-input',\r\n    template: `\r\n        <span class=\"input task-type-input\" *ngIf=\"!editable\">\r\n            {{taskType | localizedName}}\r\n        </span>\r\n        <div dropdown class=\"select task-type-input\" [class.allow-clear]=\"allowClear\" [class.has-selected]=\"taskType\" *ngIf=\"editable\">\r\n            <div dropdown-toggle class=\"select-selection input\">\r\n                <span>{{taskType | localizedName}}</span>\r\n                <span class=\"placeholder\">{{placeHolder}}</span>\r\n                <div class=\"clear\" *ngIf=\"allowClear && taskType\" (click)=\"clear($event)\">\r\n                    <i class=\"fa fa-times\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"dropdown-menu select-dropdown\">\r\n                <div class=\"select-search\" *ngIf=\"searchable\">\r\n                    <input placeholder=\"{{'search' | translate}}\" #searchInput (keyup)=\"search($event.target.value)\" />\r\n                    <button type=\"button\" class=\"btn select-search-reset\" *ngIf=\"searchInput.value\" (click)=\"searchInput.value = '' && search('')\">\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </button>\r\n                </div>\r\n                <ul class=\"select-list scroll-shadow\" (scroll)=\"onScroll($event)\">\r\n                    <li class=\"select-option\" [class.selected]=\"taskTypeId == m.id\" *ngFor=\"let m of taskTypes\" (click)=\"onSelect(m)\">\r\n                        {{m | localizedName}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe, LocalizedNamePipe]\r\n})\r\n\r\nexport class TaskTypeInputComponent {\r\n    @Input() taskTypeId: string;\r\n    @Input() placeHolder: string = '';\r\n    @Input() editable: boolean = false;\r\n    @Input() searchable: boolean = false;\r\n    @Input() allowClear: boolean = false;\r\n    @Output() select: EventEmitter<any> = new EventEmitter();\r\n    private taskTypes: any;\r\n    private taskType: any;\r\n    private sub: any;\r\n\r\n    constructor(\r\n        private store: Store<any>\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('reference').subscribe((state: IReferenceState) => {\r\n            this.taskTypes = state.taskTypes;\r\n            this.taskType = state.taskTypes.filter(it => it.id == this.taskTypeId)[0];\r\n            this.searchable = this.taskTypes.length > 13;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    search(keyWord) {\r\n        console.log(keyWord);\r\n    }\r\n\r\n    clear($event) {\r\n        $event.stopPropagation();\r\n        this.onSelect(null);\r\n    }\r\n\r\n    onSelect(m) {\r\n        this.taskType = m;\r\n        this.select.emit(this.taskType);\r\n        document.body.click();\r\n    }\r\n\r\n    onScroll($event) {\r\n        let {scrollHeight, clientHeight, scrollTop} = $event.target;\r\n        if ((scrollHeight - clientHeight) == scrollTop) {\r\n            console.log('scroll end');\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/task-type-input.ts\n **/","import { Component, Input, Output, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { IStaffState } from '../../reducers/staff.reducer';\r\nimport { User } from '../../models';\r\n\r\n@Component({\r\n    selector: 'user-input',\r\n    template: `\r\n        <span class=\"input user-input\" *ngIf=\"!editable\">\r\n            <span [class.tag]=\"multiple\" *ngFor=\"let m of selectedUsers\">\r\n                {{m?.userName || m?.login}}\r\n            </span>\r\n        </span>\r\n        <div dropdown class=\"select user-input\" [class.allow-clear]=\"allowClear\" [class.has-selected]=\"selectedUsers.length\" *ngIf=\"editable\">\r\n            <div dropdown-toggle class=\"select-selection input\">\r\n                <span [class.tag]=\"multiple\" *ngFor=\"let m of selectedUsers\" (click)=\"remove(m, $event)\">\r\n                    {{m?.userName || m?.login}}\r\n                </span>\r\n                <span class=\"placeholder\">{{placeHolder}}</span>\r\n                <div class=\"clear\" *ngIf=\"allowClear && selectedUsers.length\" (click)=\"clear($event)\">\r\n                    <i class=\"fa fa-times\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"dropdown-menu select-dropdown\">\r\n                <div class=\"select-search\" *ngIf=\"searchable\">\r\n                    <input placeholder=\"{{'search' | translate}}\" #searchInput (keyup)=\"search($event.target.value)\" />\r\n                    <button type=\"button\" class=\"btn select-search-reset\" *ngIf=\"searchInput.value\" (click)=\"searchInput.value = '' && search('')\">\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </button>\r\n                </div>\r\n                <ul class=\"select-list scroll-shadow\" (scroll)=\"onScroll($event)\">\r\n                    <li class=\"select-option\" [class.selected]=\"userIds && userIds.indexOf(m.id) !=- 1\" *ngFor=\"let m of getUsers()\" (click)=\"add(m)\">\r\n                        {{m.userName || m.login}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [DROPDOWN_DIRECTIVES],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class UserInputComponent {\r\n    @Input() userIds: string[];\r\n    @Input() placeHolder: string = '';\r\n    @Input() multiple: boolean = false;\r\n    @Input() editable: boolean = false;\r\n    @Input() searchable: boolean = false;\r\n    @Input() allowClear: boolean = false;\r\n    @Output() select: EventEmitter<any> = new EventEmitter();\r\n    private users: User[] = [];\r\n    private selectedUsers: User[] = [];\r\n    private sub: any;\r\n\r\n    constructor(private store: Store<any>) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('staff').subscribe((state: IStaffState) => {\r\n            this.users = state.users;\r\n            if (this.userIds) {\r\n                this.selectedUsers = state.users.filter(it => this.userIds.indexOf(it.id) != -1);\r\n            }\r\n            this.searchable = this.users.length > 13;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    getUsers() {\r\n        if (this.multiple && this.userIds) {\r\n            return this.users.filter(it => this.userIds.indexOf(it.id) == -1);\r\n        } else {\r\n            return this.users;\r\n        }\r\n    }\r\n\r\n    search(keyWord) {\r\n        console.log(keyWord);\r\n    }\r\n\r\n    clear($event) {\r\n        $event.stopPropagation();\r\n        this.selectedUsers = [];\r\n        this.userIds = [];\r\n        this.select.emit(this.selectedUsers);\r\n    }\r\n\r\n    add(user: User) {\r\n        if (this.multiple) {\r\n            this.selectedUsers.push(user);\r\n            this.userIds = this.selectedUsers.map(it => it.id);\r\n        } else {\r\n            this.selectedUsers = [user];\r\n            this.userIds = [user.id];\r\n            document.body.click();\r\n        }\r\n        this.select.emit(this.selectedUsers);\r\n    }\r\n\r\n    remove(user: User, $event) {\r\n        if (this.multiple) {\r\n            $event.stopPropagation();\r\n            this.selectedUsers = this.selectedUsers.filter(it => it.id != user.id);\r\n            this.userIds = this.selectedUsers.map(it => it.id);\r\n            this.select.emit(this.selectedUsers);\r\n        }\r\n    }\r\n\r\n    onScroll($event) {\r\n        let {scrollHeight, clientHeight, scrollTop} = $event.target;\r\n        if ((scrollHeight - clientHeight) == scrollTop) {\r\n            console.log('scroll end');\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/shared/user-input.ts\n **/","module.exports = \"<div class=\\\"view project-list\\\">\\r\\n    <header class=\\\"entries-head\\\" *ngIf=\\\"showHeader\\\">\\r\\n        <div class=\\\"head-wrap\\\">\\r\\n            <label class=\\\"entry-select\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"all\\\" [checked]=\\\"isSelectedAll\\\" (change)=\\\"toggleSelectAll()\\\" />\\r\\n            </label>\\r\\n            <div class=\\\"entry-captions\\\">\\r\\n                <span class=\\\"project-list__name\\\">{{'name' | translate}}</span>\\r\\n                <span class=\\\"vw-icon\\\"><i class=\\\"fa fa-paperclip\\\"></i></span>\\r\\n                <span class=\\\"project-list__status\\\">{{'status' | translate}}</span>\\r\\n                <span class=\\\"project-list__customer\\\">{{'customer' | translate}}</span>\\r\\n                <span class=\\\"project-list__manager\\\">{{'manager' | translate}}</span>\\r\\n                <span class=\\\"project-list__programmer\\\">{{'programmer' | translate}}</span>\\r\\n                <span class=\\\"project-list__tester\\\">{{'tester' | translate}}</span>\\r\\n                <span class=\\\"project-list__finish_date\\\">{{'finish_date' | translate}}</span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </header>\\r\\n    <div class=\\\"entries\\\">\\r\\n        <div class=\\\"entry-wrap\\\" *ngFor=\\\"let project of projects\\\" [class.active]=\\\"isSelected(project.id)\\\">\\r\\n            <div class=\\\"entry\\\">\\r\\n                <label class=\\\"entry-select\\\">\\r\\n                    <input type=\\\"checkbox\\\" name=\\\"project-id\\\" value=\\\"{{project.id}}\\\" [checked]=\\\"isSelected(project.id)\\\" (change)=\\\"toggleSelected(project.id)\\\" />\\r\\n                </label>\\r\\n                <a class=\\\"entry-link\\\" [routerLink]=\\\"['./', project.id]\\\">\\r\\n                    <div class=\\\"entry-fields\\\">\\r\\n                        <span class=\\\"project-list__name\\\">{{project.name}}</span>\\r\\n                        <span class=\\\"vw-icon\\\">\\r\\n                            <i class=\\\"fa fa-paperclip\\\" *ngIf=\\\"project.hasAttachments\\\"></i>\\r\\n                        </span>\\r\\n                        <span class=\\\"project-list__status\\\">\\r\\n                            <span class=\\\"status-{{project.status | text:'L'}}\\\">{{project.status | text:'L' | translate}}</span>\\r\\n                        </span>\\r\\n                        <span class=\\\"project-list__customer\\\">\\r\\n                            <organization-input [org]=\\\"project.customer\\\"></organization-input>\\r\\n                        </span>\\r\\n                        <span class=\\\"project-list__manager\\\">\\r\\n                            <user-input [userIds]=\\\"[project.managerUserId]\\\"></user-input>\\r\\n                        </span>\\r\\n                        <span class=\\\"project-list__programmer\\\">\\r\\n                            <user-input [userIds]=\\\"[project.programmerUserId]\\\"></user-input>\\r\\n                        </span>\\r\\n                        <span class=\\\"project-list__tester\\\">\\r\\n                            <user-input [userIds]=\\\"[project.testerUserId]\\\"></user-input>\\r\\n                        </span>\\r\\n                        <span class=\\\"project-list__finish_date\\\">{{project.finishDate | dateFmt:'DD.MM.YYYY'}}</span>\\r\\n                    </div>\\r\\n                </a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/project/templates/project-list.html\n ** module id = 612\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"content-header\\\">\\r\\n    <h1 class=\\\"header-title\\\">\\r\\n        {{title | translate}}\\r\\n    </h1>\\r\\n    <div class=\\\"content-actions\\\">\\r\\n        <button class=\\\"btn\\\" type=\\\"button\\\" (click)=\\\"newProject()\\\">\\r\\n            {{'new_project' | translate}}\\r\\n        </button>\\r\\n        <pagination [totalPages]=\\\"meta.totalPages\\\" [page]=\\\"meta.page\\\" (change)=\\\"goToPage($event)\\\"></pagination>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"content-body\\\">\\r\\n    <project-list [projects]=\\\"projects\\\"></project-list>\\r\\n</div>\\r\\n<router-outlet></router-outlet>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/project/templates/projects.html\n ** module id = 613\n ** module chunks = 0\n **/","import { Component, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router, ActivatedRoute, ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { FormBuilder, Validators, ControlGroup, Control, FORM_DIRECTIVES } from '@angular/common';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe, TranslateService } from 'ng2-translate/ng2-translate';\r\n\r\nimport { NotificationService } from '../../shared/notification';\r\nimport { DatepickerDirective } from '../../shared/datepicker/datepicker';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { MarkdownEditorComponent } from '../../shared/markdown';\r\nimport { SwitchButtonComponent } from '../../shared/switch-button';\r\nimport { OrganizationInputComponent, UserInputComponent } from '../shared';\r\nimport { AttachmentsComponent } from '../attachment/attachments';\r\nimport { TextTransformPipe } from '../../pipes';\r\nimport { ProjectService } from '../../services';\r\nimport { Project, Organization, User, Attachment } from '../../models';\r\n\r\n@Component({\r\n    selector: 'project',\r\n    template: require('./templates/project.html'),\r\n    directives: [\r\n        ROUTER_DIRECTIVES,\r\n        FORM_DIRECTIVES,\r\n        DROPDOWN_DIRECTIVES,\r\n        SwitchButtonComponent,\r\n        OrganizationInputComponent,\r\n        UserInputComponent,\r\n        AttachmentsComponent,\r\n        MarkdownEditorComponent,\r\n        DatepickerDirective\r\n    ],\r\n    providers: [FormBuilder],\r\n    pipes: [TranslatePipe, TextTransformPipe]\r\n})\r\n\r\nexport class ProjectComponent {\r\n    private sub: any;\r\n    isReady = false;\r\n    isNew = true;\r\n    isEditable = true;\r\n    project: Project;\r\n    form: ControlGroup;\r\n    projectStatusTypes: any;\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private formBuilder: FormBuilder,\r\n        private translate: TranslateService,\r\n        private projectService: ProjectService,\r\n        private notifyService: NotificationService\r\n    ) {\r\n        this.form = this.formBuilder.group({\r\n            name: ['', Validators.required],\r\n            status: [''],\r\n            customerUserId: [''],\r\n            managerUserId: [''],\r\n            programmerUserId: [''],\r\n            testerUserId: [''],\r\n            observerUserIds: [''],\r\n            comment: [''],\r\n            finishDate: [''],\r\n            attachments: ['']\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.route.params.subscribe(params => {\r\n            this.projectService.fetchProjectById(params['projectId']).subscribe(\r\n                project => {\r\n                    this.project = project;\r\n                    this.isNew = this.project.id == '';\r\n                    this.isEditable = this.isNew || this.project.editable;\r\n                    this.isReady = true;\r\n                    this.loadData();\r\n                },\r\n                error => this.handleXhrError(error)\r\n            );\r\n        });\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    get title() {\r\n        if (this.isNew) {\r\n            return 'new_project';\r\n        } else {\r\n            return 'project';\r\n        }\r\n    }\r\n\r\n    loadData() {\r\n        this.projectService.getProjectStatusTypes().subscribe(pst => this.projectStatusTypes = pst);\r\n    }\r\n\r\n    saveProject() {\r\n        let noty = this.notifyService.process(this.translate.instant('wait_while_document_save')).show();\r\n        this.projectService.saveProject(this.project).subscribe(\r\n            response => {\r\n                noty.set({ type: 'success', message: response.message });\r\n                this.close();\r\n                return response;\r\n            },\r\n            error => {\r\n                noty.remove();\r\n                this.handleXhrError(error);\r\n                return error;\r\n            },\r\n            () => noty.remove(1500)\r\n        );\r\n    }\r\n\r\n    deleteProject() {\r\n        this.projectService.deleteProject([this.project]).subscribe(\r\n            data => this.close(),\r\n            error => this.handleXhrError(error)\r\n        );\r\n    }\r\n\r\n    close() {\r\n        this.router.navigate(['/projects']);\r\n    }\r\n\r\n    handleXhrError(errorResponse) {\r\n        console.log(errorResponse);\r\n        if (errorResponse.status === 401) {\r\n            this.router.navigate(['/login']);\r\n        } else {\r\n            this.notifyService.error(errorResponse.message).show().remove(2000);\r\n        }\r\n    }\r\n\r\n    setStatus(value) {\r\n        this.project.status = value;\r\n    }\r\n\r\n    setCustomer(customer: Organization) {\r\n        this.project.customerId = customer.id;\r\n    }\r\n\r\n    setManager(user: User[]) {\r\n        this.project.managerUserId = user[0].id;\r\n    }\r\n\r\n    setProgrammer(user: User[]) {\r\n        this.project.programmerUserId = user[0].id;\r\n    }\r\n\r\n    setTester(user: User[]) {\r\n        this.project.testerUserId = user[0].id;\r\n    }\r\n\r\n    setObserver(observers: User[]) {\r\n        this.project.observerUserIds = observers.map(it => it.id);\r\n    }\r\n\r\n    removeObserver(observer: User, $event) {\r\n        this.project.observerUserIds.forEach((id, index) => {\r\n            if (id === observer.id) {\r\n                this.project.observerUserIds.splice(index, 1);\r\n            }\r\n        });\r\n\r\n        $event.stopPropagation();\r\n    }\r\n\r\n    setFinishDate(date) {\r\n        this.project.finishDate = date;\r\n    }\r\n\r\n    setProjectComment(text: string) {\r\n        this.project.comment = text;\r\n    }\r\n\r\n    addAttachment(file) {\r\n        let att: Attachment = new Attachment();\r\n        att.realFileName = file.files[0];\r\n        if (!this.project.attachments) {\r\n            this.project.attachments = [];\r\n        }\r\n        if (!this.project.fsid) {\r\n            this.project.fsid = '' + Date.now();\r\n        }\r\n        this.project.attachments.push(att);\r\n    }\r\n\r\n    deleteAttachment(attachment: Attachment) {\r\n        this.projectService.deleteProjectAttachment(this.project, attachment).subscribe(r => {\r\n            this.project.attachments = this.project.attachments.filter(it => it.id != attachment.id);\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/project/project.ts\n **/","import { Directive, Input, Output, ElementRef, OnInit, OnDestroy, EventEmitter } from '@angular/core';\r\n\r\nconst Pikaday = require('pikaday');\r\n\r\n@Directive({\r\n    selector: '[datepicker]'\r\n})\r\n\r\nexport class DatepickerDirective {\r\n    @Input() format: string = 'DD.MM.YYYY HH:mm';\r\n    @Output() select = new EventEmitter<any>();\r\n    private picker;\r\n\r\n    constructor(private elementRef: ElementRef) { }\r\n\r\n    ngOnInit() {\r\n        this.picker = new Pikaday({\r\n            field: this.elementRef.nativeElement,\r\n            format: this.format,\r\n            onSelect: () => {\r\n                // this.elementRef.nativeElement.change();\r\n                this.select.emit(this.picker.toString(this.format));\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.picker.destroy();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/datepicker/datepicker.ts\n **/","export * from './switch-button';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/switch-button/index.ts\n **/","import { Component, Input, AfterContentInit, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'switch-button',\r\n    template: `\r\n        <label\r\n             [ngClass]=\"class\"\r\n             [class.active]=\"isSelected(item)\"\r\n             [class.disabled]=\"disabled || item.disabled\"\r\n             *ngFor=\"let item of items\">\r\n            <input\r\n                type=\"{{multi ? 'checkbox' : 'radio'}}\"\r\n                name=\"{{name}}\"\r\n                value=\"{{item.value}}\"\r\n                [checked]=\"isSelected(item)\"\r\n                [disabled]=\"disabled || item.disabled\"\r\n                (change)=\"select(item.value)\" />\r\n            <i class=\"fa fa-{{item.icon}}\" *ngIf=\"item.icon\"></i>\r\n            <span>{{item.text}}</span>\r\n        </label>\r\n    `\r\n})\r\n\r\nexport class SwitchButtonComponent {\r\n    @HostBinding('class.switch-button') true;\r\n    @Input() model;\r\n    @Input() value; // model field name\r\n    @Input() items;\r\n    @Input() class = 'input';\r\n    @Input() name = 'swb' + Math.random();\r\n    @Input() multi = false;\r\n    @Input() disabled = false;\r\n\r\n    private checkDefault = true;\r\n\r\n    ngAfterContentInit() {\r\n        [].concat(this.items).forEach(it => {\r\n            if (this.checkDefault && it && it.value == this.model[this.value]) {\r\n                this.checkDefault = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    select(value) {\r\n        this.model[this.value] = value;\r\n    }\r\n\r\n    isSelected(item) {\r\n        return item.value == this.model[this.value] || (this.checkDefault && item.default);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/switch-button/switch-button.ts\n **/","import { Component, Input, Output, EventEmitter, OnInit, OnDestroy } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { UploadService } from '../../services';\r\nimport { Attachment } from '../../models';\r\n\r\n@Component({\r\n    selector: 'attachments',\r\n    template: `\r\n        <div class=\"attachments\">\r\n            <i class=\"fa fa-paperclip\" *ngIf=\"!editable\"></i>\r\n            <label class=\"btn btn-upload\" title=\"{{'attach_file' | translate}}\" *ngIf=\"editable\">\r\n                <i class=\"fa fa-paperclip\"></i>\r\n                <span>{{ 'attach_file' | translate }}</span>\r\n                <input type=\"file\" (change)=\"uploadFile($event.target.files)\" style=\"display:none;\"/>\r\n            </label>\r\n            <div class=\"attachment-list\" *ngIf=\"!isHidden\">\r\n                <div class=\"attachment-list__item\" *ngFor=\"let att of model.attachments\">\r\n                    <div class=\"attachment\">\r\n                        <a class=\"attachment__link\" href=\"{{model.url}}&attachment={{att.id}}\">{{ att.realFileName }}</a>\r\n                        <span class=\"attachment__size\"></span>\r\n                        <button type=\"button\" class=\"btn btn-sm btn-link btn-remove\" *ngIf=\"editable\" (click)=\"delete.emit(att)\">\r\n                            <i class=\"fa fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    providers: [UploadService],\r\n    pipes: [TranslatePipe],\r\n    host: {\r\n        '[class.hidden]': 'isHidden'\r\n    }\r\n})\r\n\r\nexport class AttachmentsComponent {\r\n    @Input() model: any;\r\n    @Input() editable: boolean = false;\r\n    @Output() upload = new EventEmitter<any>();\r\n    @Output() delete = new EventEmitter<any>();\r\n\r\n    private sub: any;\r\n    private progress: number = 0;\r\n\r\n    constructor(\r\n        private http: Http,\r\n        private uploadService: UploadService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.uploadService.progress$.subscribe(progress => {\r\n            if (progress && progress < 100) {\r\n                this.progress = progress;\r\n            } else {\r\n                this.progress = 0;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    get isHidden() {\r\n        return !this.editable && !this.model.attachments;\r\n    }\r\n\r\n    uploadFile(files: File[]) {\r\n        this.uploadService.makeFileRequest('UploadFile?time=' + Date.now(), { fsid: this.model.fsid }, files).subscribe(response => {\r\n            this.upload.emit(response);\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/attachment/attachments.ts\n **/","module.exports = \"<form class=\\\"form\\\" [ngFormModel]=\\\"form\\\" *ngIf=\\\"isReady\\\">\\r\\n    <header class=\\\"content-header\\\">\\r\\n        <div class=\\\"content-actions\\\">\\r\\n            <button class=\\\"btn-back\\\" type=\\\"button\\\" title=\\\"{{'close' | translate}}\\\" (click)=\\\"close($event)\\\">\\r\\n                <i class=\\\"fa fa-chevron-left\\\"></i>\\r\\n                <span>{{'close' | translate}}</span>\\r\\n            </button>\\r\\n            <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" *ngIf=\\\"isEditable\\\" [disabled]=\\\"!form.valid\\\" (click)=\\\"saveProject()\\\">\\r\\n                {{'save_close' | translate}}\\r\\n            </button>\\r\\n            <div *ngIf=\\\"!isNew && isEditable\\\" dropdown class=\\\"buttons\\\" [tabIndex]=\\\"-1\\\">\\r\\n                <div dropdown-toggle>\\r\\n                    <span class=\\\"btn\\\">...</span>\\r\\n                </div>\\r\\n                <div class=\\\"dropdown-menu\\\">\\r\\n                    <ul class=\\\"menu\\\">\\r\\n                        <li>\\r\\n                            <a class=\\\"menu-item\\\" (click)=\\\"deleteProject()\\\">{{'delete' | translate}}</a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <h1 class=\\\"header-title header-title-flex\\\">\\r\\n            <label>{{title | translate}}</label>\\r\\n            <input autofocus placeholder=\\\"{{'name' | translate}}\\\" [readonly]=\\\"!isEditable\\\" [(ngModel)]=\\\"project.name\\\" ngControl=\\\"name\\\" />\\r\\n        </h1>\\r\\n    </header>\\r\\n    <section class=\\\"content-body\\\">\\r\\n        <fieldset class=\\\"fieldset\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'customer' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.customerUserId.valid\\\">\\r\\n                    <div class=\\\"span8\\\">\\r\\n                        <organization-input [editable]=\\\"isEditable\\\" [orgId]=\\\"project.customerId\\\" (select)=\\\"setCustomer($event)\\\"></organization-input>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'manager' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.managerUserId.valid\\\">\\r\\n                    <div class=\\\"span8\\\">\\r\\n                        <user-input [editable]=\\\"isEditable\\\" [userIds]=\\\"[project.managerUserId]\\\" (select)=\\\"setManager($event)\\\"></user-input>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'programmer' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.programmerUserId.valid\\\">\\r\\n                    <div class=\\\"span8\\\">\\r\\n                        <user-input [editable]=\\\"isEditable\\\" [userIds]=\\\"[project.programmerUserId]\\\" (select)=\\\"setProgrammer($event)\\\"></user-input>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'tester' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.testerUserId.valid\\\">\\r\\n                    <div class=\\\"span8\\\">\\r\\n                        <user-input [editable]=\\\"isEditable\\\" [userIds]=\\\"[project.testerUserId]\\\" (select)=\\\"setTester($event)\\\"></user-input>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'observers' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\">\\r\\n                    <div class=\\\"span8\\\">\\r\\n                        <user-input [editable]=\\\"isEditable\\\" multiple=\\\"true\\\" [userIds]=\\\"project.observerUserIds\\\" (select)=\\\"setObserver($event)\\\"></user-input>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'status' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\">\\r\\n                    <switch-button [disabled]=\\\"!isEditable\\\" [model]=\\\"project\\\" value=\\\"status\\\" [items]=\\\"projectStatusTypes\\\"></switch-button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'finish_date' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\">\\r\\n                    <div class=\\\"span2\\\" *ngIf=\\\"!isEditable\\\">\\r\\n                        <span class=\\\"input\\\">{{project.finishDate}}</span>\\r\\n                    </div>\\r\\n                    <input class=\\\"span2\\\" datepicker *ngIf=\\\"isEditable\\\" (select)=\\\"setFinishDate($event)\\\" [(ngModel)]=\\\"project.finishDate\\\" ngControl=\\\"finishDate\\\" />\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"control-label\\\">\\r\\n                    {{'comment' | translate}}\\r\\n                </div>\\r\\n                <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.comment.valid\\\">\\r\\n                    <div class=\\\"span8\\\">\\r\\n                        <markdown-editor [markdown]=\\\"project.comment || ''\\\" [editable]=\\\"isEditable\\\" updateTimeout=\\\"300\\\" (update)=\\\"setProjectComment($event)\\\"></markdown-editor>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </fieldset>\\r\\n        <attachments [editable]=\\\"isEditable\\\" [model]=\\\"project\\\" (upload)=\\\"addAttachment($event)\\\" (delete)=\\\"deleteAttachment($event)\\\"></attachments>\\r\\n    </section>\\r\\n    <footer class=\\\"content-footer\\\">\\r\\n        <div class=\\\"record-author\\\" *ngIf=\\\"project.authorId\\\">\\r\\n            <span>{{'author' | translate}}</span>\\r\\n            <user-input [userIds]=\\\"[project.authorId]\\\"></user-input>\\r\\n            <time>{{project.regDate}}</time>\\r\\n        </div>\\r\\n    </footer>\\r\\n</form>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/project/templates/project.html\n ** module id = 620\n ** module chunks = 0\n **/","import { Component, Inject, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Router, ActivatedRoute, ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { NotificationService } from '../../shared/notification';\r\nimport { TextTransformPipe, DateFormatPipe } from '../../pipes';\r\nimport { PaginationComponent } from '../../shared/pagination';\r\nimport { TaskFilterComponent } from './task-filter';\r\nimport { Task } from '../../models/task';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { TaskListComponent } from './task-list';\r\nimport { TaskComponent } from './task';\r\nimport { TaskActions } from '../../actions';\r\nimport { ITasksState } from '../../reducers/tasks.reducer';\r\nimport { IEnvironmentState } from '../../reducers/environment.reducer';\r\n\r\n@Component({\r\n    selector: 'tasks',\r\n    template: require('./templates/tasks.html'),\r\n    // changeDetection: ChangeDetectionStrategy.OnPush,\r\n    directives: [ROUTER_DIRECTIVES, PaginationComponent, TaskListComponent, TaskFilterComponent],\r\n    pipes: [DateFormatPipe, TranslatePipe, TextTransformPipe]\r\n})\r\n\r\nexport class TasksComponent {\r\n    private subs: any = [];\r\n    title: string;\r\n    tasks: Task[];\r\n    meta: any = {};\r\n    keyWord: string = '';\r\n    filter: any = {};\r\n    loading: boolean = true;\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private taskActions: TaskActions,\r\n        private taskService: TaskService,\r\n        private notifyService: NotificationService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.subs.push(this.store.select('environment').subscribe((state: IEnvironmentState) => {\r\n            if (this.keyWord != state.keyWord) {\r\n                this.loadData({\r\n                    keyWord: state.keyWord\r\n                });\r\n            }\r\n            this.keyWord = state.keyWord;\r\n        }));\r\n\r\n        this.subs.push(this.store.select('tasks').subscribe((state: ITasksState) => {\r\n            if (state) {\r\n                this.tasks = state.tasks;\r\n                this.meta = state.meta;\r\n                // this.filter = state.filter\r\n                this.loading = state.loading;\r\n            }\r\n        }));\r\n\r\n        this.subs.push(this.route.params.subscribe(params => {\r\n            let taskFor = params['for'];\r\n            let projectId = params['projectId'];\r\n            switch (taskFor) {\r\n                case 'inbox':\r\n                    this.title = 'tasks_assigned_to_me';\r\n                    break;\r\n                case 'my':\r\n                    this.title = 'my_tasks';\r\n                    break;\r\n                default:\r\n                    this.title = 'tasks';\r\n                    break;\r\n            }\r\n\r\n            this.loadData(Object.assign({}, params, this.filter));\r\n        }));\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subs.map(s => s.unsubscribe());\r\n    }\r\n\r\n    loadData(params) {\r\n        this.store.dispatch(this.taskActions.fetchTasks());\r\n        this.taskService.fetchTasks(params).subscribe(\r\n            payload => {\r\n                this.store.dispatch(this.taskActions.fetchTasksFulfilled(payload.tasks, payload.meta));\r\n            },\r\n            error => this.store.dispatch(this.taskActions.fetchTasksFailed(error))\r\n        );\r\n    }\r\n\r\n    goToPage(params) {\r\n        this.loadData(Object.assign({}, params, this.filter));\r\n    }\r\n\r\n    changeFilter(filter) {\r\n        this.filter = filter;\r\n        this.loadData(filter);\r\n    }\r\n\r\n    newTask() {\r\n        this.router.navigate(['/task', 'new']);\r\n    }\r\n\r\n    deleteTask(task: Task) {\r\n        this.taskService.deleteTask([task]).subscribe();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/task/tasks.ts\n **/","import { Component, Input, Output, HostBinding, EventEmitter } from '@angular/core';\r\n\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\nimport { TaskTypeInputComponent, UserInputComponent, TagsInputComponent } from '../shared';\r\nimport { Task, TaskType, User, Tag } from '../../models';\r\n\r\n@Component({\r\n    selector: 'task-filter',\r\n    template: `\r\n        <div class=\"task-filter__icon\">\r\n            <i class=\"fa fa-filter\"></i>\r\n        </div>\r\n        <task-type-input [taskTypeId]=\"taskTypeId\" editable=\"true\" allowClear=\"true\" placeHolder=\"{{'task_type' | translate}}\" (select)=\"setTaskType($event)\"></task-type-input>\r\n        <user-input [assigneeUserId]=\"assigneeUserId\" editable=\"true\" allowClear=\"true\" placeHolder=\"{{'assignee_user' | translate}}\" (select)=\"setAssigneeUser($event)\"></user-input>\r\n        <tags-input [tagIds]=\"tagIds\" editable=\"true\" allowClear=\"true\" placeHolder=\"{{'tags' | translate}}\" (select)=\"setTags($event)\"></tags-input>\r\n    `,\r\n    directives: [TaskTypeInputComponent, UserInputComponent, TagsInputComponent],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class TaskFilterComponent {\r\n    @HostBinding('class.task-filter') true;\r\n    @Output() change = new EventEmitter<any>();\r\n\r\n    private taskTypeId: string;\r\n    private assigneeUserId: string;\r\n    private tagIds: string[] = [];\r\n\r\n    constructor() { }\r\n\r\n    setTaskType(taskType: TaskType) {\r\n        if (taskType) {\r\n            this.taskTypeId = taskType.id;\r\n        } else {\r\n            this.taskTypeId = null;\r\n        }\r\n        this.updateFilter();\r\n    }\r\n\r\n    setAssigneeUser(assigneeUsers: User[]) {\r\n        if (assigneeUsers.length) {\r\n            this.assigneeUserId = assigneeUsers[0].id;\r\n        } else {\r\n            this.assigneeUserId = null;\r\n        }\r\n        this.updateFilter();\r\n    }\r\n\r\n    setTags(tags: Tag[]) {\r\n        this.tagIds = tags.map(it => it.id);\r\n        this.updateFilter();\r\n    }\r\n\r\n    updateFilter() {\r\n        this.change.emit({\r\n            taskTypeId: this.taskTypeId,\r\n            assigneeUserId: this.assigneeUserId,\r\n            tagIds: this.tagIds\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/task/task-filter.ts\n **/","import { Component, Input, OnInit, OnDestroy, HostBinding } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { UserInputComponent, TagsInputComponent } from '../shared';\r\nimport { TextTransformPipe, DateFormatPipe } from '../../pipes';\r\nimport { TaskStreamComponent } from './task-stream';\r\nimport { TaskActions } from '../../actions';\r\nimport { ITasksState } from '../../reducers/tasks.reducer';\r\nimport { Task } from '../../models';\r\n\r\n@Component({\r\n    selector: 'task-list',\r\n    template: require('./templates/task-list.html'),\r\n    directives: [ROUTER_DIRECTIVES, UserInputComponent, TagsInputComponent, TaskStreamComponent],\r\n    pipes: [DateFormatPipe, TranslatePipe, TextTransformPipe]\r\n})\r\n\r\nexport class TaskListComponent {\r\n    @Input('tasks') set _tasks(tasks: Task[]) {\r\n        this.tasks = tasks;\r\n        this.selectedIds = [];\r\n        this.isSelectedAll = false;\r\n        this.loadedExpandedCount = 0;\r\n        this.loading = true; // this.tasks.filter(it => (it.hasSubtasks || it.hasRequests)).length > 0 && this.expandedIds.length > 0;\r\n\r\n        if (this.loading && this.tasks.length > 0) {\r\n            this.timeout = setTimeout(() => {\r\n                this.loading = false;\r\n            }, 300);\r\n        }\r\n    }\r\n    @Input() showHeader: boolean = true;\r\n    @Input() showSelect: boolean = true;\r\n    private sub: any;\r\n    private tasks: Task[];\r\n    private selectedIds: string[] = [];\r\n    private isSelectedAll: boolean = false;\r\n    private loading: boolean = true;\r\n    private expandedIds: string[] = [];\r\n    private loadedExpandedCount: number = 0;\r\n    private timeout: number = 0;\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private taskActions: TaskActions\r\n    ) {\r\n        this.sub = this.store.select('tasks').subscribe((state: ITasksState) => {\r\n            this.expandedIds = state.expandedIds;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    // select\r\n    isSelected(id: string) {\r\n        return this.selectedIds.indexOf(id) != -1;\r\n    }\r\n\r\n    toggleSelectAll() {\r\n        if (this.selectedIds.length) {\r\n            this.selectedIds = [];\r\n            this.isSelectedAll = false;\r\n        } else {\r\n            this.selectedIds = this.tasks.map(it => it.id);\r\n            this.isSelectedAll = true;\r\n        }\r\n    }\r\n\r\n    toggleSelected(id: string) {\r\n        let index = this.selectedIds.indexOf(id);\r\n        if (index != -1) {\r\n            this.selectedIds.push(id);\r\n        } else {\r\n            this.selectedIds.splice(index);\r\n            if (!this.selectedIds.length) {\r\n                this.isSelectedAll = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    // level\r\n    onLoadStreamLevel(id: string) {\r\n        this.loadedExpandedCount++;\r\n        if (this.loadedExpandedCount >= this.expandedIds.length) {\r\n            this.loading = false;\r\n            this.loadedExpandedCount--;\r\n            clearTimeout(this.timeout);\r\n        }\r\n    }\r\n\r\n    onToggleStream(id: string) {\r\n        this.store.dispatch(this.taskActions.toggleStreamExpand(id));\r\n    }\r\n\r\n    toggleExpandable(id: string, $event) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n        this.onToggleStream(id);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/task/task-list.ts\n **/","import { Component, Input, Output, OnInit, OnDestroy, HostBinding, EventEmitter } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { UserInputComponent, TagsInputComponent } from '../shared';\r\nimport { TextTransformPipe, DateFormatPipe, LocalizedNamePipe } from '../../pipes';\r\nimport { TaskService } from '../../services';\r\nimport { ITasksState } from '../../reducers/tasks.reducer';\r\nimport { Task } from '../../models';\r\n\r\n@Component({\r\n    selector: 'task-stream',\r\n    template: require('./templates/task-stream.html'),\r\n    directives: [ROUTER_DIRECTIVES, UserInputComponent, TagsInputComponent, TaskStreamComponent],\r\n    pipes: [DateFormatPipe, TextTransformPipe, TranslatePipe, LocalizedNamePipe]\r\n})\r\n\r\nexport class TaskStreamComponent {\r\n    @HostBinding('class.hidden') get isHidden() { return !this.expanded; };\r\n    // @HostBinding('class.open') get isHidden() { return this.expanded; };\r\n    // @HostBinding('class.close') get isHidden() { return !this.expanded; };\r\n    @HostBinding('class.stream-level') true;\r\n    @Input('level') set _level(level: number) {\r\n        this.level = 1 + level;\r\n    };\r\n    @Input() task: Task;\r\n    @Input() showSelect: boolean = true;\r\n    @Output() toggleStream = new EventEmitter<any>();\r\n    @Output() loadStreamLevel = new EventEmitter<any>();\r\n    private sub: any;\r\n    private expandedIds: string[] = [];\r\n    private loading: boolean = true;\r\n    private expanded: boolean = false;\r\n    private stream: any[] = [];\r\n    public level: number = 1;\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private taskService: TaskService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.store.select('tasks').subscribe((state: ITasksState) => {\r\n            this.expandedIds = state.expandedIds;\r\n\r\n            if (this.expandedIds.indexOf(this.task.id) != -1) {\r\n                if (!this.stream.length) {\r\n                    this.loadStream(this.task);\r\n                } else {\r\n                    this.expanded = true;\r\n                    this.onLoadStreamLevel(this.task.id);\r\n                }\r\n            } else {\r\n                // this.stream = [];\r\n                this.expanded = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    loadStream(task: Task) {\r\n        if (task.hasSubtasks || task.hasRequests) {\r\n            this.loading = true;\r\n            this.taskService.fetchTaskStream(this.task).subscribe(\r\n                payload => {\r\n                    this.stream = payload;\r\n                    this.expanded = this.stream.length > 0;\r\n                    this.onLoadStreamLevel(this.task.id);\r\n                },\r\n                err => { console.log('error'); },\r\n                () => { this.loading = false; }\r\n            );\r\n        }\r\n    }\r\n\r\n    onLoadStreamLevel(id: string) {\r\n        this.loadStreamLevel.emit(id);\r\n    }\r\n\r\n    onToggleStream(id: string) {\r\n        this.toggleStream.emit(id);\r\n    }\r\n\r\n    toggleExpandable(id: string, $event) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n        this.onToggleStream(id);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/task/task-stream.ts\n **/","module.exports = \"<div *ngFor=\\\"let m of stream\\\">\\r\\n    <div class=\\\"entry-wrap level-{{level}}\\\">\\r\\n        <div class=\\\"entry\\\" *ngIf=\\\"m.kind == 'task'\\\">\\r\\n            <label class=\\\"entry-select\\\" *ngIf=\\\"showSelect\\\">\\r\\n                <input type=\\\"checkbox\\\" name=\\\"task-id\\\" value=\\\"{{m.id}}\\\" (change)=\\\"toggleSelected(m.id)\\\" />\\r\\n            </label>\\r\\n            <a class=\\\"entry-link\\\" [routerLink]=\\\"['/task', m.id]\\\">\\r\\n                <div class=\\\"entry-fields\\\">\\r\\n                    <div class=\\\"task-list__title expandable-level\\\" [class.has-expandable]=\\\"m.hasSubtasks || m.hasRequests\\\">\\r\\n                        <div class=\\\"entry-expander\\\" [class.is-expanded]=\\\"expandedIds.indexOf(m.id) != -1\\\" (click)=\\\"toggleExpandable(m.id, $event)\\\">\\r\\n                            <i class=\\\"entry-expander_icon fa\\\"></i>\\r\\n                        </div>\\r\\n                        <span>{{m.title}}</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"vw-icon\\\">\\r\\n                        <i class=\\\"fa fa-paperclip\\\" *ngIf=\\\"m.hasAttachments\\\"></i>\\r\\n                    </div>\\r\\n                    <div class=\\\"task-list__status\\\">\\r\\n                        <span class=\\\"status-{{m.status | text:'L'}}\\\">{{m.status | text:'L' | translate}}</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"task-list__priority\\\">\\r\\n                        <span class=\\\"priority-{{m.priority | text:'L'}}\\\">{{m.priority | text:'L' | translate}}</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"task-list__assignee\\\">\\r\\n                        <user-input [userIds]=\\\"[m.assigneeUserId]\\\"></user-input>\\r\\n                    </div>\\r\\n                    <div class=\\\"task-list__start_date\\\">{{m.startDate | dateFmt:'DD.MM.YYYY'}}</div>\\r\\n                    <div class=\\\"task-list__due_date\\\">{{m.dueDate | dateFmt:'DD.MM.YYYY'}}</div>\\r\\n                    <div class=\\\"task-list__tags\\\">\\r\\n                        <tags-input [tagIds]=\\\"m.tagIds\\\"></tags-input>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </a>\\r\\n        </div>\\r\\n        <div class=\\\"entry\\\" *ngIf=\\\"m.kind == 'request'\\\">\\r\\n            <label class=\\\"entry-select\\\" *ngIf=\\\"showSelect\\\">\\r\\n                <input type=\\\"checkbox\\\" value=\\\"{{m.id}}\\\" (change)=\\\"toggleSelected(m.id)\\\" />\\r\\n            </label>\\r\\n            <a class=\\\"entry-link\\\" [routerLink]=\\\"['/task', task.id]\\\">\\r\\n                <div class=\\\"entry-fields\\\">\\r\\n                    <div class=\\\"task-list__request_type expandable-level\\\">\\r\\n                        <div class=\\\"entry-expander\\\">\\r\\n                            <i class=\\\"entry-expander_icon fa\\\"></i>\\r\\n                        </div>\\r\\n                        {{m.requestType | localizedName}}\\r\\n                    </div>\\r\\n                    <div class=\\\"request__time\\\">{{m.regDate}}</div>\\r\\n                    <div class=\\\"request__comment\\\">{{m.comment}}</div>\\r\\n                    <div class=\\\"request__attachments\\\" *ngIf=\\\"m.attachments && m.attachments.length\\\">\\r\\n                        <i class=\\\"fa fa-paperclip\\\"></i>\\r\\n                    </div>\\r\\n                    <span class=\\\"{{m.resolution | text:'L'}}\\\" *ngIf=\\\"m.resolution == 'ACCEPT'\\\">\\r\\n                        <i class=\\\"fa fa-check\\\"></i>\\r\\n                        {{'accepted' | translate}}\\r\\n                    </span>\\r\\n                    <span class=\\\"{{m.resolution | text:'L'}}\\\" *ngIf=\\\"m.resolution == 'DECLINE'\\\">\\r\\n                        <i class=\\\"fa fa-times\\\"></i>\\r\\n                        {{'declined' | translate}}\\r\\n                    </span>\\r\\n                    <div class=\\\"request__resolution_time\\\">{{m.resolutionTime | dateFmt:'DD.MM.YYYY'}}</div>\\r\\n                </div>\\r\\n            </a>\\r\\n        </div>\\r\\n        <div class=\\\"entry\\\" *ngIf=\\\"m.kind == 'comment'\\\">\\r\\n            <label class=\\\"entry-select\\\">\\r\\n                <input type=\\\"checkbox\\\" value=\\\"{{m.id}}\\\" (change)=\\\"toggleSelected(m.id)\\\" />\\r\\n            </label>\\r\\n            <div class=\\\"entry-link\\\">\\r\\n                <div class=\\\"entry-fields\\\">\\r\\n                    <div class=\\\"task-list__comment_comment\\\">{{m.comment}}</div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <task-stream *ngIf=\\\"m.kind == 'task'\\\" [level]=\\\"level\\\" [showSelect]=\\\"showSelect\\\" [task]=\\\"m\\\" (toggleStream)=\\\"onToggleStream($event)\\\" (loadStreamLevel)=\\\"onLoadStreamLevel($event)\\\"></task-stream>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/task/templates/task-stream.html\n ** module id = 625\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"view task-list\\\">\\r\\n    <header class=\\\"entries-head\\\" *ngIf=\\\"showHeader\\\">\\r\\n        <div class=\\\"head-wrap\\\">\\r\\n            <label class=\\\"entry-select\\\" *ngIf=\\\"showSelect\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"all\\\" [checked]=\\\"isSelectedAll\\\" (change)=\\\"toggleSelectAll()\\\" />\\r\\n            </label>\\r\\n            <div class=\\\"entry-captions\\\">\\r\\n                <div class=\\\"task-list__title\\\">{{'task_title' | translate}}</div>\\r\\n                <div class=\\\"vw-icon\\\"><i class=\\\"fa fa-paperclip\\\"></i></div>\\r\\n                <div class=\\\"task-list__status\\\">{{'status' | translate}}</div>\\r\\n                <div class=\\\"task-list__priority\\\">{{'priority' | translate}}</div>\\r\\n                <div class=\\\"task-list__assignee\\\">{{'assignee_user' | translate}}</div>\\r\\n                <div class=\\\"task-list__start_date\\\">{{'start_date' | translate}}</div>\\r\\n                <div class=\\\"task-list__due_date\\\">{{'due_date' | translate}}</div>\\r\\n                <div class=\\\"task-list__tags\\\">{{'tags' | translate}}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </header>\\r\\n    <div class=\\\"entries\\\" [class.hidden]=\\\"loading\\\">\\r\\n        <div *ngFor=\\\"let task of tasks\\\">\\r\\n            <div class=\\\"entry-wrap\\\">\\r\\n                <div class=\\\"entry\\\" [class.active]=\\\"isSelected(task.id)\\\">\\r\\n                    <label class=\\\"entry-select\\\" *ngIf=\\\"showSelect\\\">\\r\\n                        <input type=\\\"checkbox\\\" name=\\\"task-id\\\" value=\\\"{{task.id}}\\\" [checked]=\\\"isSelected(task.id)\\\" (change)=\\\"toggleSelected(task.id)\\\" />\\r\\n                    </label>\\r\\n                    <a class=\\\"entry-link\\\" [routerLink]=\\\"['/task', task.id]\\\">\\r\\n                        <div class=\\\"entry-fields\\\">\\r\\n                            <div class=\\\"task-list__title expandable-level\\\" [class.has-expandable]=\\\"task.hasSubtasks || task.hasRequests\\\">\\r\\n                                <div class=\\\"entry-expander\\\" [class.is-expanded]=\\\"expandedIds.indexOf(task.id) != -1\\\" (click)=\\\"toggleExpandable(task.id, $event)\\\">\\r\\n                                    <i class=\\\"entry-expander_icon fa\\\"></i>\\r\\n                                </div>\\r\\n                                <span>{{task.title}}</span>\\r\\n                            </div>\\r\\n                            <div class=\\\"vw-icon\\\">\\r\\n                                <i class=\\\"fa fa-paperclip\\\" *ngIf=\\\"task.hasAttachments\\\"></i>\\r\\n                            </div>\\r\\n                            <div class=\\\"task-list__status\\\">\\r\\n                                <span class=\\\"status-{{task.status | text:'L'}}\\\">{{task.status | text:'L' | translate}}</span>\\r\\n                            </div>\\r\\n                            <div class=\\\"task-list__priority\\\">\\r\\n                                <span class=\\\"priority-{{task.priority | text:'L'}}\\\">{{task.priority | text:'L' | translate}}</span>\\r\\n                            </div>\\r\\n                            <div class=\\\"task-list__assignee\\\">\\r\\n                                <user-input [userIds]=\\\"[task.assigneeUserId]\\\"></user-input>\\r\\n                            </div>\\r\\n                            <div class=\\\"task-list__start_date\\\">{{task.startDate | dateFmt:'DD.MM.YYYY'}}</div>\\r\\n                            <div class=\\\"task-list__due_date\\\">{{task.dueDate | dateFmt:'DD.MM.YYYY'}}</div>\\r\\n                            <div class=\\\"task-list__tags\\\">\\r\\n                                <tags-input [tagIds]=\\\"task.tagIds\\\"></tags-input>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <task-stream [showSelect]=\\\"showSelect\\\" [task]=\\\"task\\\" (toggleStream)=\\\"onToggleStream($event)\\\" (loadStreamLevel)=\\\"onLoadStreamLevel($event)\\\"></task-stream>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/task/templates/task-list.html\n ** module id = 626\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"content-header\\\">\\r\\n    <h1 class=\\\"header-title\\\">\\r\\n        {{title | translate}}\\r\\n    </h1>\\r\\n    <div class=\\\"content-actions\\\">\\r\\n        <button class=\\\"btn\\\" type=\\\"button\\\" (click)=\\\"newTask()\\\">\\r\\n            {{'new_task' | translate}}\\r\\n        </button>\\r\\n        <task-filter (change)=\\\"changeFilter($event)\\\"></task-filter>\\r\\n        <pagination [totalPages]=\\\"meta.totalPages\\\" [page]=\\\"meta.page\\\" (change)=\\\"goToPage($event)\\\"></pagination>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"content-body\\\" [class.load]=\\\"loading\\\">\\r\\n    <task-list [tasks]=\\\"tasks\\\" (toggleStream)=\\\"onToggleStream($event)\\\"></task-list>\\r\\n</div>\\r\\n<router-outlet></router-outlet>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/task/templates/tasks.html\n ** module id = 627\n ** module chunks = 0\n **/","import { Component, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router, ActivatedRoute, ROUTER_DIRECTIVES } from '@angular/router';\r\nimport { FormBuilder, Validators, ControlGroup, Control, FORM_DIRECTIVES } from '@angular/common';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe, TranslateService } from 'ng2-translate/ng2-translate';\r\n\r\nimport { NotificationService } from '../../shared/notification';\r\nimport { DatepickerDirective } from '../../shared/datepicker/datepicker';\r\nimport { TAB_DIRECTIVES } from '../../shared/tabs';\r\nimport { DROPDOWN_DIRECTIVES } from '../../shared/dropdown';\r\nimport { MarkdownEditorComponent } from '../../shared/markdown';\r\nimport { SwitchButtonComponent } from '../../shared/switch-button';\r\nimport { ProjectInputComponent, UserInputComponent, TaskTypeInputComponent, TagsInputComponent } from '../shared';\r\nimport { TaskListComponent } from './task-list';\r\nimport { RequestListComponent } from '../request/request-list';\r\nimport { RequestComponent } from '../request/request';\r\nimport { AttachmentsComponent } from '../attachment/attachments';\r\nimport { CommentsComponent } from '../comment/comments';\r\nimport { ITaskState } from '../../reducers/task.reducer';\r\nimport { TextTransformPipe } from '../../pipes';\r\nimport { TaskActions } from '../../actions';\r\nimport { TaskService } from '../../services';\r\nimport { Project, Task, Tag, TaskType, Request, Comment, User, Attachment } from '../../models';\r\n\r\n@Component({\r\n    selector: 'task',\r\n    template: require('./templates/task.html'),\r\n    directives: [\r\n        ROUTER_DIRECTIVES,\r\n        FORM_DIRECTIVES,\r\n        SwitchButtonComponent,\r\n        DROPDOWN_DIRECTIVES,\r\n        TAB_DIRECTIVES,\r\n        UserInputComponent,\r\n        ProjectInputComponent,\r\n        TaskTypeInputComponent,\r\n        TagsInputComponent,\r\n        TaskListComponent,\r\n        RequestListComponent,\r\n        RequestComponent,\r\n        AttachmentsComponent,\r\n        CommentsComponent,\r\n        MarkdownEditorComponent,\r\n        DatepickerDirective\r\n    ],\r\n    providers: [FormBuilder],\r\n    pipes: [TranslatePipe, TextTransformPipe]\r\n})\r\n\r\nexport class TaskComponent {\r\n    private subs: any = [];\r\n    isReady = false;\r\n    isNew = true;\r\n    isEditable = true;\r\n    isSubtask = false;\r\n    parentTask: Task;\r\n    subTasks: Task[] = [];\r\n    task: Task;\r\n    acl: any = {};\r\n    rights: any = {\r\n        addSubtask: false,\r\n        doRequest: false,\r\n        doResolution: false,\r\n        addComment: false,\r\n        removeTask: false\r\n    };\r\n    FEATURE_FLAGS: any = {\r\n        subTask: true,\r\n        comments: false\r\n    };\r\n    form: ControlGroup;\r\n    showPropertyTabTitle: boolean = true;\r\n    showProperty: boolean = true;\r\n    showSubtasks: boolean = false;\r\n    showRequests: boolean = false;\r\n    hasUnResolvedRequest: boolean = true;\r\n    hasAcceptedRequestResolution: boolean = false;\r\n    taskPriorityTypes: any;\r\n    taskStatusTypes: any;\r\n    comments: Comment[];\r\n    requests: Request[];\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private formBuilder: FormBuilder,\r\n        private translate: TranslateService,\r\n        private taskActions: TaskActions,\r\n        private taskService: TaskService,\r\n        private notifyService: NotificationService\r\n    ) {\r\n        this.subs.push(this.store.select('task').subscribe((state: ITaskState) => {\r\n            this.comments = state.comments;\r\n            this.requests = state.requests;\r\n\r\n            if (!this.requests) {\r\n                this.hasUnResolvedRequest = false;\r\n            } else {\r\n                this.requests.forEach(it => {\r\n                    if (it.resolution == 'UNKNOWN') {\r\n                        this.hasUnResolvedRequest = true;\r\n                    }\r\n                    if (it.resolution == 'ACCEPT') {\r\n                        this.hasAcceptedRequestResolution = true;\r\n                    }\r\n                });\r\n            }\r\n        }));\r\n\r\n        this.form = formBuilder.group({\r\n            title: ['', Validators.required],\r\n            projectId: [''],\r\n            taskTypeId: [''],\r\n            status: [''],\r\n            priority: [''],\r\n            body: [''/*, Validators.required*/],\r\n            assigneeUserId: [''],\r\n            startDate: [''],\r\n            dueDate: [''],\r\n            tagIds: [''],\r\n            attachments: ['']\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.subs.push(this.route.params.subscribe(params => {\r\n            this.isReady = false;\r\n            this.task = null;\r\n            this.showProperty = true;\r\n            this.showSubtasks = false;\r\n            this.showRequests = false;\r\n            this.hasUnResolvedRequest = true;\r\n            this.hasAcceptedRequestResolution = false;\r\n            this.isNew = (params['taskId'] === 'new') || (params['taskId'] && params['new'] === 'new')\r\n            this.isSubtask = params['taskId'] && params['new'] === 'new';\r\n\r\n            this.taskService.fetchTaskById(params['taskId']).subscribe(\r\n                task => {\r\n                    if (this.isSubtask) {\r\n                        this.parentTask = task;\r\n                        this.task = new Task();\r\n                        this.task.parentTaskId = this.parentTask.id;\r\n                    } else {\r\n                        this.task = task;\r\n                        this.isSubtask = !!this.task.parentTaskId;\r\n                    }\r\n                    if (!this.isNew) {\r\n                        this.loadComments(1);\r\n                        this.loadRequests(1);\r\n                        this.loadSubtasks();\r\n                    }\r\n                    this.parentTask = null;\r\n                    if (this.task.parentTaskId && !this.task.parentTask) {\r\n                        this.taskService.fetchTaskById(this.task.parentTaskId).subscribe(parentTask => {\r\n                            this.parentTask = parentTask;\r\n                        });\r\n                    }\r\n                    this.isEditable = this.isNew || this.task.editable;\r\n                    this.isReady = true;\r\n                },\r\n                errorResponse => this.handleXhrError(errorResponse)\r\n            );\r\n        }));\r\n\r\n        this.taskService.getTaskStatusTypes().subscribe(tst => this.taskStatusTypes = tst);\r\n        this.taskService.getTaskPriorityTypes().subscribe(tpt => this.taskPriorityTypes = tpt);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.store.dispatch({ type: TaskActions.TASK_UNLOAD });\r\n        this.subs.map(s => s.unsubscribe());\r\n    }\r\n\r\n    get title() {\r\n        if (this.isNew && this.isSubtask) {\r\n            return 'new_subtask';\r\n        } else if (this.isNew) {\r\n            return 'new_task';\r\n        } else if (this.isSubtask) {\r\n            return 'subtask';\r\n        } else {\r\n            return 'task';\r\n        }\r\n    }\r\n\r\n    toggleShowProperty() {\r\n        this.showProperty = true;\r\n        this.showRequests = false;\r\n        this.showSubtasks = false;\r\n    }\r\n\r\n    toggleShowSubtasks() {\r\n        this.showSubtasks = true; // !this.showSubtasks;\r\n        // if (this.showSubtasks) {\r\n        this.showRequests = false;\n        this.showProperty = false;\r\n        // }\r\n    }\r\n\r\n    toggleShowRequests() {\r\n        this.showRequests = true; // !this.showRequests;\r\n        // if (this.showRequests) {\r\n        this.showSubtasks = false;\r\n        this.showProperty = false;\r\n        // }\r\n    }\r\n\r\n    saveTask() {\r\n        let noty = this.notifyService.process(this.translate.instant('wait_while_document_save')).show();\r\n        this.taskService.saveTask(this.task).subscribe(\r\n            response => {\r\n                noty.set({ type: 'success', message: response.message }).remove(1500);\r\n                this.close();\r\n            },\r\n            error => {\r\n                noty.remove();\r\n                this.handleXhrError(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    completeTask() {\r\n        let noty = this.notifyService.process(this.translate.instant('wait_while_process')).show();\r\n        this.taskService.completeTask(this.task).subscribe(\r\n            response => {\r\n                noty.set({ type: 'success', message: response.message }).remove(1500);\r\n                this.close();\r\n            },\r\n            error => {\r\n                noty.remove();\r\n                this.handleXhrError(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    deleteTask() {\r\n        this.taskService.deleteTask([this.task]).subscribe(\r\n            data => {\r\n                this.close();\r\n            },\r\n            error => {\r\n                this.handleXhrError(error);\r\n            });\r\n    }\r\n\r\n    canAddSubTask() {\r\n        return !this.isNew && !this.isSubtask && this.FEATURE_FLAGS.subTask;\r\n    }\r\n\r\n    addSubtask() {\r\n        this.router.navigate(['/task', this.task.id, '/new']);\r\n    }\r\n\r\n    //\r\n    showComments() {\r\n        return this.hasFutureComments() && !this.isNew;\r\n    }\r\n\r\n    hasFutureComments() {\r\n        return this.FEATURE_FLAGS.comments;\r\n    }\r\n\r\n    loadComments(page = 1) {\r\n        this.taskService.fetchComments(this.task, page).subscribe(payload => {\r\n            this.store.dispatch({ type: TaskActions.FETCH_TASK_COMMENTS_FULFILLED, payload: payload });\r\n        });\r\n    }\r\n\r\n    saveComment(comment: Comment) {\r\n        this.taskService.saveComment(this.task, comment).subscribe(r => {\r\n            this.loadComments(1);\r\n        });\r\n    }\r\n\r\n    deleteComment(comment: Comment) {\r\n        this.taskService.deleteComment(comment).subscribe(response => {\r\n            this.loadComments(1);\r\n        });\r\n    }\r\n\r\n    //\r\n    loadRequests(page = 1) {\r\n        this.taskService.fetchTaskRequests(this.task, page).subscribe(payload => {\r\n            this.store.dispatch({ type: TaskActions.FETCH_TASK_REQUESTS_FULFILLED, payload: payload });\r\n        });\r\n    }\r\n\r\n    acceptRequest(request: Request) {\r\n        if (request.requestType.name == 'prolong') {\r\n            this.store.dispatch({\r\n                type: TaskActions.TASK_REQUEST_ACCEPTANCE,\r\n                payload: {\r\n                    task: this.task,\r\n                    request: request\r\n                }\r\n            });\r\n        } else {\r\n            this.taskService.doRequestResolution(request, 'ACCEPT').subscribe(action => {\r\n                this.store.dispatch(action);\r\n                this.loadRequests(1);\r\n            });\r\n        }\r\n    }\r\n\r\n    declineRequest(request: Request) {\r\n        this.taskService.doRequestResolution(request, 'DECLINE').subscribe(action => {\r\n            this.store.dispatch(action);\r\n            this.loadRequests(1);\r\n        });\r\n    }\r\n\r\n    hasRequests() {\r\n        return this.task.hasRequests;\r\n    }\r\n\r\n    // loadSubtasks\r\n    loadSubtasks() {\r\n        this.taskService.fetchTasks({ parentTaskId: this.task.id }).subscribe(payload => {\r\n            this.subTasks = payload.tasks;\r\n        });\r\n    }\r\n\r\n    hasSubTasks() {\r\n        return this.subTasks && this.subTasks.length;\r\n    }\r\n\r\n    //\r\n    close() {\r\n        this.router.navigate(['/tasks']);\r\n    }\r\n\r\n    handleXhrError(errorResponse) {\r\n        if (errorResponse.status === 401) {\r\n            this.router.navigate(['/login']);\r\n        } else {\r\n            this.notifyService.error(errorResponse.message).show().remove(3000);\r\n        }\r\n    }\r\n\r\n    // check rights\r\n    canSaveTask() {\r\n        return this.isEditable;\r\n    }\r\n\r\n    canDoStatusWaiting() {\r\n        return true;\r\n    }\r\n\r\n    canDoStatusProcessed() {\r\n        return true;\r\n    }\r\n\r\n    canCompleteTask() {\r\n        return !this.isNew && this.isEditable && this.task.status != 'FINISHED';\r\n    }\r\n\r\n    canRequestAction() {\r\n        return (this.task && this.task.id && this.task.status != 'FINISHED') && !this.hasUnResolvedRequest && !this.hasAcceptedRequestResolution;\r\n    }\r\n\r\n    newRequest() {\r\n        this.store.dispatch({ type: TaskActions.TASK_REQUEST_NEW, payload: this.task });\r\n    }\r\n\r\n    onSendRequest({requestSendSuccess}) {\r\n        if (requestSendSuccess) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    //\r\n    setStatus(value) {\r\n        this.task.status = value;\r\n    }\r\n\r\n    setPriority(value) {\r\n        this.task.priority = value;\r\n    }\r\n\r\n    setProject(project: Project) {\r\n        this.task.projectId = project.id;\r\n    }\r\n\r\n    setTaskType(taskType: TaskType) {\r\n        this.task.taskTypeId = taskType.id;\r\n    }\r\n\r\n    setAssigneeUser(assigneeUser: User[]) {\r\n        this.task.assigneeUserId = assigneeUser[0].id;\r\n    }\r\n\r\n    setStartDate(date) {\r\n        this.task.startDate = date;\r\n    }\r\n\r\n    setDueDate(date) {\r\n        this.task.dueDate = date;\r\n    }\r\n\r\n    updateTaskBody(text: string) {\r\n        this.task.body = text;\r\n    }\r\n\r\n    setTags(tags: Tag[]) {\r\n        this.task.tagIds = tags.map(it => it.id);\r\n    }\r\n\r\n    addAttachment(file) {\r\n        let att: Attachment = new Attachment();\r\n        att.realFileName = file.files[0];\r\n        if (!this.task.attachments) {\r\n            this.task.attachments = [];\r\n        }\r\n        if (!this.task.fsid) {\r\n            this.task.fsid = '' + Date.now();\r\n        }\r\n        this.task.attachments.push(att);\r\n    }\r\n\r\n    deleteAttachment(attachment: Attachment) {\r\n        this.taskService.deleteTaskAttachment(this.task, attachment).subscribe(r => {\r\n            this.task.attachments = this.task.attachments.filter(it => it.id != attachment.id);\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/task/task.ts\n **/","import { Tabs } from './tabs';\r\nimport { Tab } from './tab';\r\n\r\nexport const TAB_DIRECTIVES = [Tabs, Tab];\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/tabs/index.ts\n **/","import { Component, ContentChildren, QueryList, AfterContentInit } from '@angular/core';\r\nimport { Tab } from './tab';\r\n\r\n@Component({\r\n    selector: 'tabs',\r\n    template: `\r\n        <ul class=\"nav nav-tabs\">\r\n            <li *ngFor=\"let tab of tabs\" (click)=\"selectTab(tab)\" [class.pinned]=\"tab.pinned\" [class.active]=\"tab.active\">\r\n                <a href=\"#\" (click)=\"$event.preventDefault()\">{{tab.title}}</a>\r\n            </li>\r\n        </ul>\r\n        <ng-content></ng-content>\r\n    `\r\n})\r\n\r\nexport class Tabs implements AfterContentInit {\r\n    @ContentChildren(Tab) tabs: QueryList<Tab>;\r\n\r\n    ngAfterContentInit() {\r\n        let activeTabs = this.tabs.filter(tab => tab.active);\r\n\r\n        if (activeTabs.length === 0) {\r\n            this.selectTab(this.tabs.first);\r\n        }\r\n    }\r\n\r\n    selectTab(tab: Tab) {\r\n        this.tabs.forEach(tab => tab.active = false);\r\n        tab.active = true;\r\n        tab.select.emit(true)\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/tabs/tabs.ts\n **/","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'tab',\r\n    template: `\r\n      <div [hidden]=\"!active && !pinned\">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    `\r\n})\r\n\r\nexport class Tab {\r\n    @Input('tabTitle') title: string;\r\n    @Input() active: boolean = false;\r\n    @Input() pinned: boolean = false;\r\n    @Output() select = new EventEmitter<any>();\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/shared/tabs/tab.ts\n **/","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { LocalizedNamePipe } from '../../pipes';\r\nimport { MarkedPipe } from '../../shared/markdown';\r\nimport { TextTransformPipe, DateFormatPipe } from '../../pipes';\r\nimport { AttachmentsComponent } from '../attachment/attachments';\r\nimport { Request } from '../../models';\r\n\r\n@Component({\r\n    selector: 'request-list',\r\n    template: `\r\n        <ul class=\"request-list\">\r\n            <li class=\"request-list__item\" *ngFor=\"let request of requests\">\r\n                <div class=\"request\">\r\n                    <header class=\"request__header\">\r\n                        <div class=\"request__type\">{{request.requestType | localizedName}}</div>\r\n                        <div class=\"request__time\">{{request.regDate}}</div>\r\n                    </header>\r\n                    <section class=\"request__content\">\r\n                        <div class=\"request__comment\">{{request.comment}}</div>\r\n                        <div class=\"request__attachments\" *ngIf=\"request.attachments.length\">\r\n                            <attachments [model]=\"request\"></attachments>\r\n                        </div>\r\n                    </section>\r\n                    <div class=\"request__resolution\">\r\n                        <span class=\"{{request.resolution | text:'L'}}\" *ngIf=\"request.resolution == 'ACCEPT'\">\r\n                            <i class=\"fa fa-check\"></i>\r\n                            {{'accepted' | translate}}\r\n                        </span>\r\n                        <span class=\"{{request.resolution | text:'L'}}\" *ngIf=\"request.resolution == 'DECLINE'\">\r\n                            <i class=\"fa fa-times\"></i>\r\n                            {{'declined' | translate}}\r\n                        </span>\r\n                        <div class=\"request__resolution_time\">{{request.resolutionTime}}</div>\r\n                        <div class=\"request__buttons\" *ngIf=\"request.resolution == 'UNKNOWN'\">\r\n                            <button type=\"button\" class=\"btn btn-primary\" (click)=\"doAccept(request)\">\r\n                                {{'accept' | translate}}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn\" (click)=\"doDecline(request)\">\r\n                                {{'decline' | translate}}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    `,\r\n    directives: [AttachmentsComponent],\r\n    pipes: [TranslatePipe, MarkedPipe, TextTransformPipe, DateFormatPipe, LocalizedNamePipe]\r\n})\r\n\r\nexport class RequestListComponent {\r\n    @Input() requests: Request[];\r\n    @Output() accept = new EventEmitter<any>();\r\n    @Output() decline = new EventEmitter<any>();\r\n\r\n    doAccept(request: Request) {\r\n        this.accept.emit(request);\r\n    }\r\n\r\n    doDecline(request: Request) {\r\n        this.decline.emit(request);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/request/request-list.ts\n **/","import { Component, Output, OnInit, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe, TranslateService } from 'ng2-translate/ng2-translate';\r\n\r\nimport { NotificationService } from '../../shared/notification';\r\nimport { DatepickerDirective } from '../../shared/datepicker/datepicker';\r\nimport { ITaskState } from '../../reducers/task.reducer';\r\nimport { IReferenceState } from '../../reducers/reference.reducer';\r\nimport { MarkdownEditorComponent } from '../../shared/markdown';\r\nimport { AttachmentsComponent } from '../attachment/attachments';\r\nimport { RequestTypeInputComponent } from '../shared/request-type-input';\r\nimport { TaskActions } from '../../actions';\r\nimport { TaskService } from '../../services';\r\nimport { Task, Request, RequestType, Attachment } from '../../models';\r\n\r\n@Component({\r\n    selector: 'request',\r\n    template: `\r\n        <form (submit)=\"sendRequest($event)\">\r\n            <header>{{'task_request' | translate}}</header>\r\n            <section>\r\n                <request-type-input\r\n                    [editable]=\"editable\"\r\n                    placeHolder=\"{{'request_type' | translate}}\"\r\n                    [requestType]=\"requestType\"\r\n                    (select)=\"setRequestType($event)\">\r\n                </request-type-input>\r\n                <p *ngIf=\"!editable\"></p>\r\n                <textarea class=\"rt-editor\" placeholder=\"{{'comment' | translate}}\" *ngIf=\"editable\" [(ngModel)]=\"comment\"></textarea>\r\n                <!-- <markdown-editor\r\n                    [markdown]=\"''\"\r\n                    editable=\"true\"\r\n                    placeHolder=\"{{'comment' | translate}}\"\r\n                    updateTimeout=\"100\"\r\n                    (update)=\"setComment($event)\">\r\n                </markdown-editor> -->\r\n                <attachments [model]=\"request\" [editable]=\"editable\" (upload)=\"addAttachment($event)\" (delete)=\"deleteAttachment($event)\"></attachments>\r\n            </section>\r\n            <section *ngIf=\"isResolveAction\">\r\n                <b>{{'new_due_date' | translate}}</b>\r\n                <input datepicker class=\"span2\" (select)=\"setDueDate($event)\" />\r\n            </section>\r\n            <footer>\r\n                <button class=\"btn btn-cancel\" type=\"button\" (click)=\"cancel()\">{{'cancel' | translate}}</button>\r\n                <button class=\"btn btn-primary\" type=\"submit\" [disabled]=\"!requestType || (isResolveAction && !dueDate)\">\r\n                    <span *ngIf=\"!isResolveAction\">{{'send_request' | translate}}</span>\r\n                    <span *ngIf=\"isResolveAction\">{{'accept' | translate}}</span>\r\n                </button>\r\n            </footer>\r\n        </form>\r\n    `,\r\n    host: {\r\n        '[class.request-composer]': 'true',\r\n        '[class.open]': 'isOpen',\r\n        '(keyup.escape)': 'cancel()'\r\n    },\r\n    directives: [AttachmentsComponent, RequestTypeInputComponent, MarkdownEditorComponent, DatepickerDirective],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class RequestComponent {\r\n    @Output() send = new EventEmitter<any>();\r\n    private subs: any = [];\r\n\r\n    private task: Task;\r\n    private request: Request;\r\n    private isOpen = false;\r\n    private requestTypes: RequestType[];\r\n    private requestType: RequestType;\r\n    private comment: string;\r\n    private dueDate: string;\r\n    private editable: boolean = true;\r\n    private isResolveAction: boolean = false;\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private translate: TranslateService,\r\n        private notifyService: NotificationService,\r\n        private taskService: TaskService\r\n    ) {\r\n        this.subs.push(store.select('reference').subscribe((state: IReferenceState) => {\r\n            this.requestTypes = state.requestTypes;\r\n        }));\r\n\r\n        this.subs.push(store.select('task').subscribe((state: ITaskState) => {\r\n            if (state) {\r\n                this.task = state.task;\r\n                this.request = state.request || new Request();\r\n                this.requestType = this.request.requestType;\r\n                this.comment = this.request.comment;\r\n                this.isOpen = state.showRequest;\r\n                this.editable = !state.isResolveAction;\r\n                this.isResolveAction = state.isResolveAction;\r\n\r\n                if (state.task) {\r\n                    this.request.taskId = state.task.id;\r\n\r\n                    if (!this.request.fsid) {\r\n                        this.request.fsid = '' + Date.now();\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n    }\r\n\r\n    ngOnInit() { }\r\n\r\n    ngOnDestroy() {\r\n        this.subs.map(s => s.unsubscribe());\r\n    }\r\n\r\n    cancel() {\r\n        this.store.dispatch({ type: TaskActions.TASK_REQUEST_CANCEL });\r\n    }\r\n\r\n    sendRequest($event) {\r\n        $event.preventDefault();\r\n\r\n        if (this.isResolveAction) {\r\n            this.taskService.doRequestResolution(this.request, 'ACCEPT', { dueDate: this.dueDate }).subscribe(action => {\r\n                this.store.dispatch(action);\r\n                this.cancel();\r\n                this.send.emit({\r\n                    requestSendSuccess: true\r\n                });\r\n            });\r\n        } else {\r\n            this.request.comment = this.comment;\r\n            this.request.requestTypeId = this.requestType.id;\r\n\r\n            this.taskService.sendTaskRequest(this.request).subscribe(response => {\r\n                this.notifyService.info(this.translate.instant('request_send_success')).show().remove(3000);\r\n                this.cancel();\r\n                this.send.emit({\r\n                    requestSendSuccess: true\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    setRequestType(requestType: RequestType) {\r\n        this.requestType = requestType;\r\n    }\r\n\r\n    setComment(comment: string) {\r\n        this.comment = comment;\r\n    }\r\n\r\n    setDueDate(date) {\r\n        this.dueDate = date;\r\n    }\r\n\r\n    addAttachment(file) {\r\n        let att: Attachment = new Attachment();\r\n        att.realFileName = file.files[0];\r\n        if (!this.request.attachments) {\r\n            this.request.attachments = [];\r\n        }\r\n        this.request.attachments.push(att);\r\n    }\r\n\r\n    deleteAttachment(attachment: Attachment) {\r\n        // this.taskService.deleteRequestAttachment(this.request, attachment).subscribe(r => {\r\n        this.request.attachments = this.request.attachments.filter(it => it.id != attachment.id);\r\n        // });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/request/request.ts\n **/","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { MarkdownEditorComponent } from '../../shared/markdown/markdown-editor';\r\nimport { NotificationService } from '../../shared/notification';\r\nimport { Task, Comment } from '../../models';\r\nimport { TaskService } from '../../services';\r\nimport { ITaskState } from '../../reducers/task.reducer';\r\nimport { CommentComponent } from './comment';\r\n\r\n@Component({\r\n    selector: 'comments',\r\n    template: `\r\n        <div class=\"comments-wrap\">\r\n            <section class=\"comments\">\r\n                <comment *ngFor=\"let comment of comments\"\r\n                    [comment]=\"comment\"\r\n                    [editable]=\"true\"\r\n                    (save)=\"updateComment($event)\"\r\n                    (delete)=\"deleteComment($event)\">\r\n                </comment>\r\n            </section>\r\n            <section class=\"comment-composer\" [class.edit]=\"isEdit\">\r\n                <div class=\"comment-composer__editor\">\r\n                    <markdown-editor\r\n                        editable=\"true\"\r\n                        placeHolder=\"{{'comment' | translate}}\"\r\n                        (update)=\"setCommentText($event)\"\r\n                        (focus)=\"onEditorFocus($event)\"\r\n                        (blur)=\"onEditorBlur($event)\">\r\n                    </markdown-editor>\r\n                </div>\r\n                <button class=\"btn btn-add-comment\"\r\n                    (click)=\"addComment()\"\r\n                    [disabled]=\"!commentText\">\r\n                    {{ 'add_comment' | translate }}\r\n                </button>\r\n            </section>\r\n        </div>\r\n    `,\r\n    directives: [CommentComponent, MarkdownEditorComponent],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class CommentsComponent {\r\n    @Input() comments: Comment[];\r\n    @Output() add = new EventEmitter<any>();\r\n    @Output() update = new EventEmitter<any>();\r\n    @Output() delete = new EventEmitter<any>();\r\n\r\n    private comment: Comment;\r\n    private commentText: string = '';\r\n    private isEdit: boolean;\r\n\r\n    onEditorFocus() {\r\n        this.isEdit = true;\r\n    }\r\n\r\n    onEditorBlur() {\r\n        this.isEdit = this.commentText.length > 0;\r\n    }\r\n\r\n    setCommentText(text: string) {\r\n        this.commentText = text;\r\n    }\r\n\r\n    addComment() {\r\n        let comment = new Comment();\r\n        comment.comment = this.commentText;\r\n        this.add.emit(comment);\r\n        this.commentText = '';\r\n    }\r\n\r\n    updateComment(comment: Comment) {\r\n        this.update.emit(comment);\r\n    }\r\n\r\n    deleteComment(comment: Comment) {\r\n        this.delete.emit(comment);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/comment/comments.ts\n **/","import { Component, Input, Output, OnInit, EventEmitter } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe } from 'ng2-translate/ng2-translate';\r\n\r\nimport { MarkdownEditorComponent, MarkedPipe } from '../../shared/markdown';\r\nimport { AttachmentsComponent } from '../attachment/attachments';\r\nimport { UserInputComponent } from '../shared';\r\nimport { DateFormatPipe } from '../../pipes';\r\nimport { Comment } from '../../models';\r\n\r\n@Component({\r\n    selector: 'comment',\r\n    template: `\r\n        <div class=\"comment\" [class.edit]=\"edit\" [class.saving]=\"saving\">\r\n            <div class=\"comment__avatar\"></div>\r\n            <div class=\"comment__details\">\r\n                <span class=\"comment__author\">\r\n                    <user-input [editable]=\"false\" [userIds]=\"[comment.authorId]\"></user-input>\r\n                </span>\r\n                <span class=\"comment__time\">{{comment.regDate}}</span>\r\n                <p class=\"comment__text\" *ngIf=\"!edit\" innerHTML=\"{{comment.comment | marked}}\"></p>\r\n                <div class=\"comment__editor\" *ngIf=\"edit\">\r\n                    <markdown-editor\r\n                        markdown=\"{{comment.comment}}\"\r\n                        editable=\"true\"\r\n                        placeHolder=\"{{'add_comment' | translate}}\"\r\n                        (update)=\"setCommentText($event)\">\r\n                    </markdown-editor>\r\n                    <button type=\"button\" class=\"btn btn-cancel\" [disabled]=\"saving\" (click)=\"toggleEdit()\">{{'cancel' | translate}}</button>\r\n                    <button type=\"button\" class=\"btn btn-primary btn-save\" [disabled]=\"saving\" (click)=\"saveComment()\">{{'save' | translate}}</button>\r\n                </div>\r\n                <!-- <attachments\r\n                    [model]=\"comment\"\r\n                    (upload)=\"addAttachment($event)\"\r\n                    (delete)=\"deleteAttachment($event)\">\r\n                </attachments> -->\r\n            </div>\r\n            <div class=\"comment__buttons\" *ngIf=\"editable\">\r\n                <button type=\"button\" class=\"btn btn-sm\" *ngIf=\"!edit\" (click)=\"toggleEdit()\">\r\n                    <i class=\"fa fa-pencil\"></i>{{'edit' | translate}}\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-sm\" title=\"{{'delete' | translate}}\" (click)=\"delete.emit(comment)\">\r\n                    <i class=\"fa fa-remove\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    `,\r\n    directives: [AttachmentsComponent, MarkdownEditorComponent, UserInputComponent],\r\n    pipes: [DateFormatPipe, TranslatePipe, MarkedPipe]\r\n})\r\n\r\nexport class CommentComponent {\r\n    @Input() comment: Comment;\r\n    @Input() editable: boolean = false;\r\n    @Output() save = new EventEmitter<any>();\r\n    @Output() delete = new EventEmitter<any>();\r\n    private saving: boolean = false;\r\n    private edit: boolean = false;\r\n    private commentText: string;\r\n\r\n    private toggleEdit() {\r\n        this.edit = this.editable && !this.edit;\r\n\r\n        if (this.edit) {\r\n            this.commentText = this.comment.comment;\r\n        } else {\r\n            this.commentText = '';\r\n        }\r\n    }\r\n\r\n    private setCommentText(text: string) {\r\n        this.commentText = text;\r\n    }\r\n\r\n    private saveComment() {\r\n        this.comment.comment = this.commentText;\r\n        this.saving = true;\r\n        this.save.emit(this.comment);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/comment/comment.ts\n **/","module.exports = \"<form class=\\\"form\\\" [ngFormModel]=\\\"form\\\" *ngIf=\\\"isReady\\\">\\r\\n    <header class=\\\"content-header\\\">\\r\\n        <div class=\\\"content-actions\\\">\\r\\n            <button class=\\\"btn-back\\\" type=\\\"button\\\" title=\\\"{{'close' | translate}}\\\" (click)=\\\"close($event)\\\">\\r\\n                <i class=\\\"fa fa-chevron-left\\\"></i>\\r\\n                <span>{{'close' | translate}}</span>\\r\\n            </button>\\r\\n            <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" *ngIf=\\\"canSaveTask()\\\" [disabled]=\\\"!form.valid\\\" (click)=\\\"saveTask()\\\">\\r\\n                <span *ngIf=\\\"isNew\\\">{{'send_task' | translate}}</span>\\r\\n                <span *ngIf=\\\"!isNew\\\">{{'save_close' | translate}}</span>\\r\\n            </button>\\r\\n            <button class=\\\"btn\\\" type=\\\"button\\\" *ngIf=\\\"canRequestAction()\\\" (click)=\\\"newRequest($event)\\\">\\r\\n                {{'new_request' | translate}}\\r\\n            </button>\\r\\n            <button class=\\\"btn\\\" type=\\\"button\\\" *ngIf=\\\"canAddSubTask()\\\" (click)=\\\"addSubtask($event)\\\">\\r\\n                {{'add_subtask' | translate}}\\r\\n            </button>\\r\\n            <button class=\\\"btn\\\" type=\\\"button\\\" *ngIf=\\\"canCompleteTask()\\\" (click)=\\\"completeTask()\\\">\\r\\n                <span>{{'complete_task' | translate}}</span>\\r\\n            </button>\\r\\n            <div *ngIf=\\\"!isNew && isEditable\\\" dropdown class=\\\"buttons\\\" [tabIndex]=\\\"-1\\\">\\r\\n                <div dropdown-toggle>\\r\\n                    <span class=\\\"btn\\\">...</span>\\r\\n                </div>\\r\\n                <div class=\\\"dropdown-menu\\\">\\r\\n                    <ul class=\\\"menu\\\">\\r\\n                        <li>\\r\\n                            <a class=\\\"menu-item\\\" (click)=\\\"deleteTask()\\\">{{'delete' | translate}}</a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <h1 class=\\\"header-title task-header-title\\\">\\r\\n            <a *ngIf=\\\"parentTask\\\" [routerLink]=\\\"['/task', parentTask.id]\\\" class=\\\"parent-task-link\\\">{{parentTask.title}}</a>\\r\\n            <div class=\\\"header-title-flex\\\">\\r\\n                <label>\\r\\n                    {{title | translate}}<br/>\\r\\n                    <span class=\\\"task-status status-{{task.status | text:'L'}}\\\">{{task.status | text:'L' | translate}}</span>\\r\\n                </label>\\r\\n                <input autofocus placeholder=\\\"{{'task_title' | translate}}\\\" [readonly]=\\\"!isEditable\\\" [(ngModel)]=\\\"task.title\\\" ngControl=\\\"title\\\" />\\r\\n            </div>\\r\\n        </h1>\\r\\n    </header>\\r\\n    <section class=\\\"content-body\\\">\\r\\n        <div class=\\\"task-tabs noselect\\\" *ngIf=\\\"hasSubTasks() || hasRequests()\\\">\\r\\n            <div class=\\\"task-tab__title\\\" [class.active]=\\\"showProperty\\\" [class.hidden]=\\\"!showPropertyTabTitle\\\" (click)=\\\"toggleShowProperty()\\\">{{'properties' | translate}}</div>\\r\\n            <div class=\\\"task-tab__title\\\" [class.active]=\\\"showSubtasks\\\" [class.hidden]=\\\"!hasSubTasks()\\\" (click)=\\\"toggleShowSubtasks()\\\">\\r\\n                <i class=\\\"fa fa-sitemap\\\"></i>\\r\\n                <span>{{'subtasks' | translate}}</span>\\r\\n            </div>\\r\\n            <div class=\\\"task-tab__title\\\" [class.active]=\\\"showRequests\\\" [class.hidden]=\\\"!hasRequests()\\\" (click)=\\\"toggleShowRequests()\\\">\\r\\n                <i class=\\\"fa fa-flag-checkered\\\"></i>\\r\\n                <span>{{'requests' | translate}}</span>\\r\\n                <!-- <i class=\\\"fa fa-exclamation-circle\\\" *ngIf=\\\"hasUnResolvedRequest\\\"></i> -->\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"task-tab\\\" [class.active]=\\\"showSubtasks\\\">\\r\\n            <task-list [showSelect]=\\\"false\\\" [tasks]=\\\"subTasks\\\"></task-list>\\r\\n        </div>\\r\\n        <div class=\\\"task-tab\\\" [class.active]=\\\"showRequests\\\">\\r\\n            <request-list [requests]=\\\"requests\\\" (accept)=\\\"acceptRequest($event)\\\" (decline)=\\\"declineRequest($event)\\\"></request-list>\\r\\n        </div>\\r\\n        <div class=\\\"task-tab\\\" [class.active]=\\\"showProperty\\\">\\r\\n            <fieldset class=\\\"fieldset\\\">\\r\\n                <div class=\\\"form-group\\\" *ngIf=\\\"!isSubtask\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'project' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.projectId.valid\\\">\\r\\n                        <div class=\\\"span8\\\">\\r\\n                            <project-input [editable]=\\\"isEditable\\\" [projectId]=\\\"task.projectId\\\" (select)=\\\"setProject($event)\\\"></project-input>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div [hidden]=\\\"form.controls.projectId.valid || form.controls.projectId.pristine\\\" class=\\\"error-message\\\">\\r\\n                        {{'required' | translate}}\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" *ngIf=\\\"!isSubtask\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'task_type' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.taskTypeId.valid\\\">\\r\\n                        <div class=\\\"span8\\\">\\r\\n                            <task-type-input [editable]=\\\"isEditable\\\" [taskTypeId]=\\\"task.taskTypeId\\\" (select)=\\\"setTaskType($event)\\\"></task-type-input>\\r\\n                        </div>\\r\\n                        <div [hidden]=\\\"form.controls.taskTypeId.valid || form.controls.taskTypeId.pristine\\\" class=\\\"error-message\\\">\\r\\n                            {{'required' | translate}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'priority' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.priority.valid\\\">\\r\\n                        <switch-button [disabled]=\\\"!isEditable\\\" [model]=\\\"task\\\" value=\\\"priority\\\" [items]=\\\"taskPriorityTypes\\\"></switch-button>\\r\\n                        <div [hidden]=\\\"form.controls.priority.valid || form.controls.priority.pristine\\\" class=\\\"error-message\\\">\\r\\n                            {{'required' | translate}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'assignee_user' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.assigneeUserId.valid\\\">\\r\\n                        <div class=\\\"span8\\\">\\r\\n                            <user-input [editable]=\\\"isEditable\\\" [userIds]=\\\"[task.assigneeUserId]\\\" (select)=\\\"setAssigneeUser($event)\\\"></user-input>\\r\\n                        </div>\\r\\n                        <div [hidden]=\\\"form.controls.assigneeUserId.valid || form.controls.assigneeUserId.pristine\\\" class=\\\"error-message\\\">\\r\\n                            {{'required' | translate}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'start_date' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\">\\r\\n                        <div class=\\\"span2\\\" *ngIf=\\\"!isEditable\\\">\\r\\n                            <span class=\\\"input\\\">{{task.startDate}}</span>\\r\\n                        </div>\\r\\n                        <input datepicker class=\\\"span2\\\" *ngIf=\\\"isEditable\\\" (select)=\\\"setStartDate($event)\\\" [(ngModel)]=\\\"task.startDate\\\" ngControl=\\\"startDate\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'due_date' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\">\\r\\n                        <div class=\\\"span2\\\" *ngIf=\\\"!isEditable\\\">\\r\\n                            <span class=\\\"input\\\">{{task.dueDate}}</span>\\r\\n                        </div>\\r\\n                        <input datepicker class=\\\"span2\\\" *ngIf=\\\"isEditable\\\" (select)=\\\"setDueDate($event)\\\" [(ngModel)]=\\\"task.dueDate\\\" ngControl=\\\"dueDate\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"control-label\\\">\\r\\n                        {{'tags' | translate}}\\r\\n                    </div>\\r\\n                    <div class=\\\"controls\\\" [class.has-error]=\\\"!form.controls.tagIds.valid\\\">\\r\\n                        <div class=\\\"span8\\\">\\r\\n                            <tags-input [editable]=\\\"isEditable\\\" [tagIds]=\\\"task.tagIds\\\" (select)=\\\"setTags($event)\\\"></tags-input>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"control-label\\\"></div>\\r\\n                    <div class=\\\"controls\\\">\\r\\n                        <label class=\\\"input\\\" [class.disabled]=\\\"!isEditable\\\">\\r\\n                            <input type=\\\"checkbox\\\" name=\\\"customerObservation\\\" value=\\\"1\\\" [disabled]=\\\"!isEditable\\\" [(ngModel)]=\\\"task.customerObservation\\\" />\\r\\n                            <span>{{'publish_to_customer' | translate}}</span>\\r\\n                        </label>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <markdown-editor placeHolder=\\\"{{'body' | translate}}\\\" [markdown]=\\\"task.body || ''\\\" [editable]=\\\"isEditable\\\" updateTimeout=\\\"300\\\" (update)=\\\"updateTaskBody($event)\\\"></markdown-editor>\\r\\n                </div>\\r\\n            </fieldset>\\r\\n            <attachments [editable]=\\\"isEditable\\\" [model]=\\\"task\\\" (upload)=\\\"addAttachment($event)\\\" (delete)=\\\"deleteAttachment($event)\\\"></attachments>\\r\\n        </div>\\r\\n        <comments *ngIf=\\\"showComments()\\\" [comments]=\\\"comments\\\" (add)=\\\"saveComment($event)\\\" (update)=\\\"saveComment($event)\\\" (delete)=\\\"deleteComment($event)\\\"></comments>\\r\\n    </section>\\r\\n    <footer class=\\\"content-footer\\\">\\r\\n        <div class=\\\"record-author\\\" *ngIf=\\\"task.authorId\\\">\\r\\n            <span>{{'author' | translate}}</span>\\r\\n            <user-input [editable]=\\\"false\\\" [userIds]=\\\"[task.authorId]\\\"></user-input>\\r\\n            <time>{{task.regDate}}</time>\\r\\n        </div>\\r\\n    </footer>\\r\\n</form>\\r\\n<request (send)=\\\"onSendRequest($event)\\\"></request>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/task/templates/task.html\n ** module id = 636\n ** module chunks = 0\n **/","import { Component, OnDestroy } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, Validators, ControlGroup, Control, FORM_DIRECTIVES } from '@angular/common';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslatePipe, TranslateService } from 'ng2-translate/ng2-translate';\r\n\r\nimport { NotificationService } from '../../shared/notification';\r\nimport { TAB_DIRECTIVES } from '../../shared/tabs';\r\nimport { KeysPipe } from '../../pipes/keys.pipe';\r\nimport { AppService } from '../../services/app.service';\r\nimport { TranslateService as translateService } from '../../services/translate.service';\r\nimport { User } from '../../models/user';\r\nimport { IAuthedState } from '../../reducers/authed.reducer';\r\nimport { createCookie } from '../../utils/utils';\r\n\r\nconst HEADERS = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\r\n    'Accept': 'application/json'\r\n});\r\n\r\n@Component({\r\n    selector: '[user-profile]',\r\n    template: require('./user-profile.html'),\r\n    directives: [FORM_DIRECTIVES, TAB_DIRECTIVES],\r\n    providers: [FormBuilder],\r\n    pipes: [TranslatePipe, KeysPipe]\r\n})\r\n\r\nexport class UserProfileComponent {\r\n    private sub: any;\r\n    user: User = null;\r\n    form: ControlGroup;\r\n    changePassword: boolean = false;\r\n    pageSize: number;\r\n    language: string = 'RUS';\r\n    languages: any;\r\n    pageSizes = [10, 20, 30, 40, 50];\r\n    errors = {};\r\n\r\n    constructor(\r\n        private store: Store<any>,\r\n        private http: Http,\r\n        private router: Router,\r\n        private formBuilder: FormBuilder,\r\n        private ng2Translate: TranslateService,\r\n        private appService: AppService,\r\n        private translateService: translateService,\r\n        private notifyService: NotificationService\r\n    ) {\r\n        this.sub = this.store.select('authed').subscribe((state: IAuthedState) => {\r\n            this.user = state.userProfile;\r\n            this.pageSize = state.pageSize;\r\n            this.language = state.language;\r\n            this.languages = state.languages;\r\n\r\n            if (this.user) {\r\n                this.form = formBuilder.group({\r\n                    login: [this.user.name],\r\n                    pwd: [],\r\n                    pwd_new: [],\r\n                    pwd_confirm: [],\r\n                    email: [this.user.email]\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    toggleChangePassword() {\r\n        this.changePassword = !this.changePassword;\r\n    }\r\n\r\n    updateUserProfile() {\r\n        let noty = this.notifyService.process(this.ng2Translate.instant('wait_while_document_save')).show();\r\n        this.appService.updateUserProfile(this.form.value).subscribe(\r\n            data => {\r\n                this.errors = [];\r\n                noty.remove();\r\n                this.router.navigate(['/tasks']);\r\n            },\r\n            error => {\r\n                this.errors = [];\r\n                noty.remove()\r\n                if (error.validation) {\r\n                    for (let err of error.validation.errors) {\r\n                        this.errors[err.field] = err.message;\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    changeLang($event) {\r\n        let langCode = $event.target.value;\r\n        let url = '/Staff/p?id=change-session-val-action&lang=' + langCode;\r\n        return this.http.post(url, {}, { headers: HEADERS })\r\n            .map(response => response.json())\r\n            .subscribe(data => {\r\n                this.ng2Translate.reloadLang(langCode).subscribe(r => {\r\n                    this.ng2Translate.use(langCode);\r\n                });\r\n                createCookie('lang', langCode, 365);\r\n                window.location.reload();\r\n            });\r\n    }\r\n\r\n    close() {\r\n        window.history.back();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/user-profile/user-profile.ts\n **/","module.exports = \"<form class=\\\"form form-userprofile\\\" autocomplete=\\\"off\\\" [ngFormModel]=\\\"form\\\" *ngIf=\\\"user\\\">\\r\\n    <header class=\\\"content-header\\\">\\r\\n        <div class=\\\"content-actions\\\">\\r\\n            <button class=\\\"btn-back\\\" type=\\\"button\\\" (click)=\\\"close($event)\\\">\\r\\n                <i class=\\\"fa fa-chevron-left\\\"></i>\\r\\n                <span>{{'close' | translate}}</span>\\r\\n            </button>\\r\\n            <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" [disabled]=\\\"!form.valid\\\" (click)=\\\"updateUserProfile()\\\">\\r\\n                {{'save_close' | translate}}\\r\\n            </button>\\r\\n        </div>\\r\\n        <h1 class=\\\"header-title\\\">\\r\\n            {{'employee' | translate}} / {{user.name}}\\r\\n        </h1>\\r\\n    </header>\\r\\n    <section class=\\\"content-body\\\">\\r\\n        <tabs>\\r\\n            <tab class=\\\"tab-pane\\\" tabTitle=\\\"{{'properties' | translate}}\\\">\\r\\n                <!--<fieldset class=\\\"fieldset fieldset-user-avatar\\\">\\r\\n                            <img class=\\\"user-avatar\\\" src=\\\"img/avatar.png\\\"/>\\r\\n                </fieldset>-->\\r\\n                <fieldset class=\\\"fieldset fieldset-user-fields\\\">\\r\\n                    <!-- <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'user_name' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <span class=\\\"input-placeholder\\\">\\r\\n                                {{user.name}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div> -->\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'login_name' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"span4\\\" ngControl=\\\"login\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"!changePassword\\\">\\r\\n                        <div class=\\\"control-label\\\"></div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <span class=\\\"btn btn-xs\\\" (click)=\\\"toggleChangePassword()\\\">{{'change_password' | translate}}</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"changePassword\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'password' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\" [class.has-error]=\\\"errors.pwd\\\">\\r\\n                            <input type=\\\"password\\\" class=\\\"span4\\\" [class.invalid]=\\\"errors.pwd\\\" ngControl=\\\"pwd\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"changePassword\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'password_new' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\" [class.has-error]=\\\"errors.pwd_new\\\">\\r\\n                            <input type=\\\"password\\\" class=\\\"span4\\\" [class.invalid]=\\\"errors.pwd_new\\\" ngControl=\\\"pwd_new\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"changePassword\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'password_confirm' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\" [class.has-error]=\\\"errors.pwd_confirm\\\">\\r\\n                            <input type=\\\"password\\\" class=\\\"span4\\\" [class.invalid]=\\\"errors.pwd_confirm\\\" ngControl=\\\"pwd_confirm\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'email' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\" [class.has-error]=\\\"errors.email\\\">\\r\\n                            <input type=\\\"email\\\" class=\\\"span4\\\" [class.invalid]=\\\"errors.email\\\" ngControl=\\\"email\\\" />\\r\\n                            <div class=\\\"error-message\\\">{{errors.email | translate}}</div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"user.organization\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'org_name' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <span class=\\\"input-placeholder\\\">\\r\\n                                {{user.organization}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"user.department\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'department' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <span class=\\\"input-placeholder\\\">\\r\\n                                {{user.department}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"user.position\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'position' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <span class=\\\"input-placeholder\\\">\\r\\n                                {{user.position}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"user.roles\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'roles' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <ul class=\\\"input-placeholder list-style-none\\\">\\r\\n                                <li *ngFor=\\\"let role of user.roles\\\">{{role.localizedName[language]}}</li>\\r\\n                            </ul>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </fieldset>\\r\\n            </tab>\\r\\n            <tab class=\\\"tab-pane\\\" tabTitle=\\\"{{'interface' | translate}}\\\">\\r\\n                <fieldset class=\\\"fieldset\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'limit_view' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <select name=\\\"pagesize\\\" class=\\\"span2\\\" (change)=\\\"changePageSize($event)\\\">\\r\\n                                <option value=\\\"{{ps}}\\\" [selected]=\\\"ps == pageSize\\\" *ngFor=\\\"let ps of pageSizes\\\">{{ps}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"control-label\\\">\\r\\n                            {{'interface_lang' | translate}}\\r\\n                        </div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <select name=\\\"lang\\\" class=\\\"span2\\\" (change)=\\\"changeLang($event)\\\">\\r\\n                                <option value=\\\"{{langCode}}\\\" [selected]=\\\"langCode == language\\\" *ngFor=\\\"let langCode of languages | keys\\\">\\r\\n                                    {{languages[langCode]}}\\r\\n                                </option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!-- <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"control-label\\\"></div>\\r\\n                        <div class=\\\"controls\\\">\\r\\n                            <a href=\\\"javascript:void(0)\\\" data-toggle-theme=\\\"theme1\\\" class=\\\"input-placeholder\\\">\\r\\n                                {{'change_skin' | translate}}\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </div> -->\\r\\n                </fieldset>\\r\\n            </tab>\\r\\n        </tabs>\\r\\n    </section>\\r\\n</form>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/user-profile/user-profile.html\n ** module id = 638\n ** module chunks = 0\n **/","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: '[login]',\r\n    template: ''\r\n})\r\n\r\nexport class LoginComponent {\r\n    constructor() {\r\n        window.location.href = 'Logout';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/login.ts\n **/","export * from './store';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/store/index.ts\n **/","import { compose } from '@ngrx/core/compose';\r\nimport { combineReducers, provideStore } from '@ngrx/store';\r\nimport { storeLogger } from 'ngrx-store-logger';\r\n\r\n// models\r\nimport { Project, Task, TaskType, Tag, User, Attachment, Organization } from '../models';\r\n\r\n// reducers\r\nimport { environmentReducer as environment } from '../reducers/environment.reducer';\r\nimport { authedReducer as authed } from '../reducers/authed.reducer';\r\nimport { projectsReducer as projects } from '../reducers/projects.reducer';\r\nimport { tasksReducer as tasks } from '../reducers/tasks.reducer';\r\nimport { taskReducer as task } from '../reducers/task.reducer';\r\nimport { staffReducer as staff } from '../reducers/staff.reducer';\r\nimport { referenceReducer as reference } from '../reducers/reference.reducer';\r\n\r\nconst logger = storeLogger({\r\n    level: 'log', // 'console' | 'warn' | 'error' | 'info'; default log\r\n    collapsed: false,\r\n    duration: true,\r\n    timestamp: true\r\n});\r\n\r\nexport const APP_STORE = provideStore(\r\n    compose(logger, combineReducers)({\r\n        environment,\r\n        authed,\r\n        projects,\r\n        tasks,\r\n        task,\r\n        staff,\r\n        reference\r\n    })\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/store/store.ts\n **/","\"use strict\";\nexports.compose = function () {\n    var functions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        functions[_i - 0] = arguments[_i];\n    }\n    return function (arg) {\n        if (functions.length === 0) {\n            return arg;\n        }\n        var last = functions[functions.length - 1];\n        var rest = functions.slice(0, -1);\n        return rest.reduceRight(function (composed, fn) { return fn(composed); }, last(arg));\n    };\n};\n//# sourceMappingURL=compose.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@ngrx/core/compose.js\n ** module id = 642\n ** module chunks = 0\n **/","\"use strict\";\nvar logger = console;\nvar INIT_ACTION = \"@ngrx/store/init\";\nvar repeat = function (str, times) { return (new Array(times + 1)).join(str); };\nvar pad = function (num, maxLength) { return repeat(\"0\", maxLength - num.toString().length) + num; };\nvar formatTime = function (time) { return (\"@ \" + pad(time.getHours(), 2) + \":\" + pad(time.getMinutes(), 2) + \":\" + pad(time.getSeconds(), 2) + \".\" + pad(time.getMilliseconds(), 3)); };\nvar timer = typeof performance !== \"undefined\" && typeof performance.now === \"function\" ? performance : Date;\nvar getLogLevel = function (level, action, payload, type) {\n    switch (typeof level) {\n        case \"object\":\n            return typeof level[type] === \"function\" ? level[type].apply(level, payload) : level[type];\n        case \"function\":\n            return level(action);\n        default:\n            return level;\n    }\n};\nvar printBuffer = function (options) { return function (logBuffer) {\n    var actionTransformer = options.actionTransformer, collapsed = options.collapsed, colors = options.colors, timestamp = options.timestamp, duration = options.duration, level = options.level;\n    logBuffer.forEach(function (logEntry, key) {\n        var started = logEntry.started, startedTime = logEntry.startedTime, action = logEntry.action, error = logEntry.error;\n        var prevState = logEntry.prevState.nextState ? logEntry.prevState.nextState : '(Empty)';\n        var took = logEntry.took, nextState = logEntry.nextState;\n        var nextEntry = logBuffer[key + 1];\n        if (nextEntry) {\n            nextState = nextEntry.prevState;\n            took = nextEntry.started - started;\n        }\n        var formattedAction = actionTransformer(action);\n        var isCollapsed = (typeof collapsed === \"function\") ? collapsed(function () { return nextState; }, action) : collapsed;\n        var formattedTime = formatTime(startedTime);\n        var titleCSS = colors.title ? \"color: \" + colors.title(formattedAction) + \";\" : null;\n        var title = \"action \" + (timestamp ? formattedTime : \"\") + \" \" + formattedAction.type + \" \" + (duration ? \"(in \" + took.toFixed(2) + \" ms)\" : \"\");\n        try {\n            if (isCollapsed) {\n                if (colors.title)\n                    logger.groupCollapsed(\"%c \" + title, titleCSS);\n                else\n                    logger.groupCollapsed(title);\n            }\n            else {\n                if (colors.title)\n                    logger.group(\"%c \" + title, titleCSS);\n                else\n                    logger.group(title);\n            }\n        }\n        catch (e) {\n            logger.log(title);\n        }\n        var prevStateLevel = getLogLevel(level, formattedAction, [prevState], \"prevState\");\n        var actionLevel = getLogLevel(level, formattedAction, [formattedAction], \"action\");\n        var errorLevel = getLogLevel(level, formattedAction, [error, prevState], \"error\");\n        var nextStateLevel = getLogLevel(level, formattedAction, [nextState], \"nextState\");\n        if (prevStateLevel) {\n            if (colors.prevState)\n                logger[prevStateLevel](\"%c prev state\", \"color: \" + colors.prevState(prevState) + \"; font-weight: bold\", prevState);\n            else\n                logger[prevStateLevel](\"prev state\", prevState);\n        }\n        if (actionLevel) {\n            if (colors.action)\n                logger[actionLevel](\"%c action\", \"color: \" + colors.action(formattedAction) + \"; font-weight: bold\", formattedAction);\n            else\n                logger[actionLevel](\"action\", formattedAction);\n        }\n        if (error && errorLevel) {\n            if (colors.error)\n                logger[errorLevel](\"%c error\", \"color: \" + colors.error(error, prevState) + \"; font-weight: bold\", error);\n            else\n                logger[errorLevel](\"error\", error);\n        }\n        if (nextStateLevel) {\n            if (colors.nextState)\n                logger[nextStateLevel](\"%c next state\", \"color: \" + colors.nextState(nextState) + \"; font-weight: bold\", nextState);\n            else\n                logger[nextStateLevel](\"next state\", nextState);\n        }\n        try {\n            logger.groupEnd();\n        }\n        catch (e) {\n            logger.log(\"\\u2014\\u2014 log end \\u2014\\u2014\");\n        }\n    });\n    logBuffer.length = 0;\n}; };\nexports.storeLogger = function (opts) {\n    if (opts === void 0) { opts = {}; }\n    return function (reducer) {\n        var log = {};\n        var ua = window && window.navigator.userAgent ? window.navigator.userAgent : '';\n        var ms_ie = false;\n        //fix for action display in IE\n        var old_ie = ua.indexOf('MSIE ');\n        var new_ie = ua.indexOf('Trident/');\n        if ((old_ie > -1) || (new_ie > -1)) {\n            ms_ie = true;\n        }\n        var defaults = {\n            level: \"log\",\n            collapsed: false,\n            duration: true,\n            timestamp: true,\n            stateTransformer: function (state) { return state; },\n            actionTransformer: function (actn) { return actn; },\n            colors: ms_ie ? {} : {\n                title: function () { return \"#000000\"; },\n                prevState: function () { return \"#9E9E9E\"; },\n                action: function () { return \"#03A9F4\"; },\n                nextState: function () { return \"#4CAF50\"; },\n                error: function () { return \"#F20404\"; },\n            }\n        };\n        var options = Object.assign({}, defaults, opts);\n        var stateTransformer = options.stateTransformer;\n        var buffer = printBuffer(options);\n        return function (state, action) {\n            var preLog = {\n                started: timer.now(),\n                startedTime: new Date(),\n                prevState: stateTransformer(log),\n                action: action\n            };\n            var nextState = reducer(state, action);\n            var postLog = {\n                took: timer.now() - preLog.started,\n                nextState: stateTransformer(nextState)\n            };\n            log = Object.assign({}, preLog, postLog);\n            //ignore init action fired by store and devtools\n            if (action.type !== INIT_ACTION) {\n                buffer([log]);\n            }\n            return nextState;\n        };\n    };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ngrx-store-logger/dist/index.js\n ** module id = 643\n ** module chunks = 0\n **/","import { EnvironmentActions } from '../actions/environment.actions';\r\n\r\nexport interface IEnvironmentState {\r\n    isMobile: boolean,\r\n    isNavOpen: boolean,\r\n    isSearchOpen: boolean,\r\n    keyWord: string\r\n};\r\n\r\nconst initialState: IEnvironmentState = {\r\n    isMobile: false,\r\n    isNavOpen: true,\r\n    isSearchOpen: false,\r\n    keyWord: ''\r\n};\r\n\r\nexport const environmentReducer = (state = initialState, {type, payload}): IEnvironmentState => {\r\n    switch (type) {\r\n        case EnvironmentActions.SEARCH:\r\n            return Object.assign({}, state, {\r\n                keyWord: payload.keyWord\r\n            });\r\n        case EnvironmentActions.TOGGLE_NAV:\r\n            return Object.assign({}, state, {\r\n                isNavOpen: !state.isNavOpen\r\n            });\r\n        case EnvironmentActions.TOGGLE_SEARCH:\r\n            return Object.assign({}, state, {\r\n                isSearchOpen: !state.isSearchOpen\r\n            });\r\n        case EnvironmentActions.HIDE_NAV:\r\n            return Object.assign({}, state, {\r\n                isNavOpen: true,\r\n                isSearchOpen: false\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/environment.reducer.ts\n **/","import { Project } from '../models';\r\n\r\nimport { AppActions } from '../actions/app.actions';\r\n\r\nexport interface IAuthedState {\r\n    userProfile: any,\r\n    languages: any,\r\n    pageSize: number,\r\n    language: string\r\n};\r\n\r\nconst initialState: IAuthedState = {\r\n    userProfile: null,\r\n    languages: {},\r\n    pageSize: 20,\r\n    language: 'RUS'\r\n};\r\n\r\nexport const authedReducer = (state = initialState, {type, payload}): IAuthedState => {\r\n    switch (type) {\r\n        case AppActions.FETCH_USER_PROFILE_FULFILLED:\r\n            return Object.assign({}, state, {\r\n                userProfile: payload.userProfile,\r\n                languages: payload.languages,\r\n                pageSize: payload.pageSize,\r\n                language: payload.language\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/authed.reducer.ts\n **/","import { Project } from '../models';\r\n\r\nimport { ProjectActions } from '../actions/project.actions';\r\n\r\nexport interface IProjectsState {\r\n    meta: {},\r\n    projects: Project[],\r\n    project: Project,\r\n    loading: boolean\r\n};\r\n\r\nconst initialState: IProjectsState = {\r\n    meta: {},\r\n    projects: [],\r\n    project: undefined,\r\n    loading: false\r\n};\r\n\r\nexport const projectsReducer = (state = initialState, {type, payload}): IProjectsState => {\r\n    switch (type) {\r\n        case ProjectActions.FETCH_PROJECTS:\r\n            return Object.assign({}, state, {\r\n                loading: true\r\n            });\r\n        case ProjectActions.FETCH_PROJECTS_FAILED:\r\n            return Object.assign({}, state, {\r\n                loading: false\r\n            });\r\n        case ProjectActions.FETCH_PROJECTS_FULFILLED:\r\n            return Object.assign({}, state, {\r\n                projects: payload.projects,\r\n                meta: payload.meta,\r\n                loading: false\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/projects.reducer.ts\n **/","import { Task, Tag, TaskType, User } from '../models';\r\n\r\nimport { TaskActions } from '../actions';\r\n\r\nexport const SET_FILTER = 'SET_FILTER';\r\n\r\nexport interface ITasksState {\r\n    meta: {},\r\n    tasks: Task[],\r\n    expandedIds: string[],\r\n    loading: boolean,\r\n    filter: {\r\n        taskType: TaskType,\r\n        assigneeUser: User,\r\n        tags: Tag[]\r\n    }\r\n};\r\n\r\nconst initialState: ITasksState = {\r\n    meta: {},\r\n    tasks: [],\r\n    expandedIds: [] = [],\r\n    loading: false,\r\n    filter: {\r\n        taskType: null,\r\n        assigneeUser: null,\r\n        tags: []\r\n    }\r\n};\r\n\r\nexport const tasksReducer = (state = initialState, {type, payload}): ITasksState => {\r\n    switch (type) {\r\n        case TaskActions.FETCH_TASKS_FULFILLED:\r\n            return Object.assign({}, state, {\r\n                tasks: payload.tasks,\r\n                meta: payload.meta\r\n            });\r\n        case TaskActions.FETCH_TASK_FULFILLED:\r\n            return Object.assign({}, state, {\r\n                task: payload.task\r\n            });\r\n        case TaskActions.TOGGLE_STREAM_EXPAND:\r\n            let ind = state.expandedIds.indexOf(payload);\r\n            if (ind == -1) {\r\n                let ps = [].concat(state.expandedIds);\r\n                ps.push(payload);\r\n                return Object.assign({}, state, {\r\n                    expandedIds: ps\r\n                });\r\n            } else {\r\n                return Object.assign({}, state, {\r\n                    expandedIds: state.expandedIds.filter(it => it != payload)\r\n                });\r\n            }\r\n        case SET_FILTER:\r\n            return Object.assign({}, state, {\r\n                filter: payload\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/tasks.reducer.ts\n **/","import { Task, Request, Comment } from '../models';\r\n\r\nimport { TaskActions } from '../actions';\r\n\r\nexport interface ITaskState {\r\n    task: Task,\r\n    request: Request,\r\n    requests: Request[],\r\n    showRequest: boolean,\r\n    isResolveAction: boolean,\r\n    comments: Comment[]\r\n};\r\n\r\nconst initialState: ITaskState = {\r\n    task: null,\r\n    request: null,\r\n    requests: [],\r\n    showRequest: false,\r\n    isResolveAction: false,\r\n    comments: []\r\n};\r\n\r\nexport const taskReducer = (state = initialState, {type, payload}): ITaskState => {\r\n    switch (type) {\r\n        case TaskActions.FETCH_TASK_REQUESTS_FULFILLED:\r\n            return Object.assign({}, state, {\r\n                requests: payload.requests\r\n            });\r\n        case TaskActions.TASK_REQUEST_ACCEPTANCE:\r\n            return Object.assign({}, state, {\r\n                task: payload.task,\r\n                request: payload.request,\r\n                showRequest: true,\r\n                isResolveAction: true\r\n            });\r\n        case TaskActions.TASK_REQUEST_NEW:\r\n            return Object.assign({}, state, {\r\n                task: payload,\r\n                request: null,\r\n                showRequest: true,\r\n                isResolveAction: false\r\n            });\r\n        case TaskActions.TASK_REQUEST_CANCEL:\r\n            return Object.assign({}, state, {\r\n                showRequest: false\r\n            });\r\n        case TaskActions.FETCH_TASK_COMMENTS_FULFILLED:\r\n            return Object.assign({}, state, {\r\n                comments: payload.comments\r\n            });\r\n        case TaskActions.TASK_UNLOAD:\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/task.reducer.ts\n **/","import { Organization, User } from '../models';\r\n\r\nimport { StaffActions } from '../actions';\r\n\r\nexport interface IStaffState {\r\n    organizations: Organization[],\r\n    users: User[]\r\n};\r\n\r\nconst initialState: IStaffState = {\r\n    organizations: [],\r\n    users: []\r\n};\r\n\r\nexport const staffReducer = (state = initialState, {type, payload}): IStaffState => {\r\n    switch (type) {\r\n        case StaffActions.FETCH_ORGANIZATIONS:\r\n            return Object.assign({}, state, {\r\n                organizations: payload.organizations\r\n            });\r\n        case StaffActions.FETCH_USERS:\r\n            return Object.assign({}, state, {\r\n                users: payload.users\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/staff.reducer.ts\n **/","import { Tag, TaskType, RequestType } from '../models';\r\n\r\nimport { ReferenceActions } from '../actions/reference.actions';\r\n\r\nexport interface IReferenceState {\r\n    tags: Tag[],\r\n    taskTypes: TaskType[],\r\n    requestTypes: RequestType[],\r\n    fetchFail: boolean\r\n};\r\n\r\nconst initialState = {\r\n    tags: [],\r\n    taskTypes: [],\r\n    requestTypes: [],\r\n    fetchFail: false\r\n};\r\n\r\nexport const referenceReducer = (state = initialState, {type, payload}): IReferenceState => {\r\n    switch (type) {\r\n        case ReferenceActions.FETCH_TAGS:\r\n            return Object.assign({}, state, {\r\n                tags: payload.tags\r\n            });\r\n        case ReferenceActions.FETCH_TASK_TYPES:\r\n            return Object.assign({}, state, {\r\n                taskTypes: payload.taskTypes\r\n            });\r\n        case ReferenceActions.FETCH_REQUEST_TYPES:\r\n            return Object.assign({}, state, {\r\n                requestTypes: payload.requestTypes\r\n            });\r\n        case ReferenceActions.FETCH_REFERENCE_FAILED:\r\n            return Object.assign({}, state, {\r\n                fetchFail: true\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/reference.reducer.ts\n **/"],"sourceRoot":""}