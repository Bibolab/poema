webpackJsonp([0],{119:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function EnvironmentActions(){}return EnvironmentActions.prototype.search=function(t){return{type:EnvironmentActions.SEARCH,payload:{keyWord:t}}},EnvironmentActions.prototype.resetSearch=function(){return{type:EnvironmentActions.RESET_SEARCH}},EnvironmentActions.prototype.toggleNav=function(){return{type:EnvironmentActions.TOGGLE_NAV}},EnvironmentActions.prototype.toggleSearch=function(){return{type:EnvironmentActions.TOGGLE_SEARCH}},EnvironmentActions.prototype.hideNav=function(){return{type:EnvironmentActions.HIDE_NAV}},EnvironmentActions.prototype.setRedirectUrl=function(t){return{type:EnvironmentActions.SET_REDIRECT_URL,payload:{redirectUrl:t}}},EnvironmentActions.SEARCH="SEARCH",EnvironmentActions.RESET_SEARCH="RESET_SEARCH",EnvironmentActions.TOGGLE_NAV="TOGGLE_NAV",EnvironmentActions.TOGGLE_SEARCH="TOGGLE_SEARCH",EnvironmentActions.HIDE_NAV="HIDE_NAV",EnvironmentActions.SET_REDIRECT_URL="SET_REDIRECT_URL",EnvironmentActions=o([n.i(r.Injectable)(),i("design:paramtypes",[])],EnvironmentActions)}()},120:function(t,e,n){"use strict";var r=n(517),o=n(915);n(518);n.d(e,"b",function(){return r.a}),n.d(e,"a",function(){return o.a})},152:function(t,e,n){"use strict";function defaultErrorHandler(t){throw t}function parentLoadedConfig(t){for(var e=t.parent;e;){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null;e=e.parent}return null}function closestLoadedConfig(t){if(!t)return null;for(var e=t.parent;e;){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;e=e.parent}return null}function nodeChildrenAsMap(t){return t?t.children.reduce(function(t,e){return t[e.value.outlet]=e,t},{}):{}}function getOutlet(t,e){var n=t._outlets[e.outlet];if(!n){var r=e.component.name;throw e.outlet===C.a?new Error("Cannot find primary outlet to load '"+r+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+r+"'")}return n}var r=n(0),o=n(34),i=(n.n(o),n(488)),s=(n.n(i),n(100)),a=(n.n(s),n(493)),c=(n.n(a),n(83)),l=(n.n(c),n(165)),u=(n.n(l),n(166)),p=(n.n(u),n(832)),d=(n.n(p),n(637)),f=n(638),h=n(639),m=n(640),v=n(643),g=n(153),y=n(154),b=n(93),C=n(51),_=n(76),T=n(52);n.d(e,"b",function(){return E}),n.d(e,"a",function(){return w});var k=function(){function NavigationStart(t,e){this.id=t,this.url=e}return NavigationStart.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},NavigationStart}(),E=function(){function NavigationEnd(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return NavigationEnd.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},NavigationEnd}(),R=function(){function NavigationCancel(t,e,n){this.id=t,this.url=e,this.reason=n}return NavigationCancel.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},NavigationCancel}(),S=function(){function NavigationError(t,e,n){this.id=t,this.url=e,this.error=n}return NavigationError.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},NavigationError}(),A=function(){function RoutesRecognized(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return RoutesRecognized.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},RoutesRecognized}(),w=function(){function Router(t,e,r,i,s,a,c,l){this.rootComponentType=t,this.urlSerializer=e,this.outletMap=r,this.location=i,this.injector=s,this.config=l,this.navigationId=0,this.errorHandler=defaultErrorHandler,this.navigated=!1,this.resetConfig(l),this.routerEvents=new o.Subject,this.currentUrlTree=n.i(_.e)(),this.configLoader=new g.b(a,c),this.currentRouterState=n.i(b.f)(this.currentUrlTree,this.rootComponentType)}return Router.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},Router.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url);return t.currentUrlTree.toString()!==n.toString()?t.scheduleNavigation(n,{skipLocationChange:e.pop,replaceUrl:!0}):null}))},Object.defineProperty(Router.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(Router.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(Router.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),Router.prototype.resetConfig=function(t){n.i(f.a)(t),this.config=t},Router.prototype.ngOnDestroy=function(){this.dispose()},Router.prototype.dispose=function(){this.locationSubscription.unsubscribe()},Router.prototype.createUrlTree=function(t,e){var r=void 0===e?{}:e,o=r.relativeTo,i=r.queryParams,s=r.fragment,a=r.preserveQueryParams,c=r.preserveFragment,l=o?o:this.routerState.root,u=a?this.currentUrlTree.queryParams:i,p=c?this.currentUrlTree.fragment:s;return n.i(m.a)(l,this.currentUrlTree,t,u,p)},Router.prototype.navigateByUrl=function(t,e){if(void 0===e&&(e={skipLocationChange:!1}),t instanceof _.b)return this.scheduleNavigation(t,e);var n=this.urlSerializer.parse(t);return this.scheduleNavigation(n,e)},Router.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),this.scheduleNavigation(this.createUrlTree(t,e),e)},Router.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},Router.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},Router.prototype.isActive=function(t,e){if(t instanceof _.b)return n.i(_.f)(this.currentUrlTree,t,e);var r=this.urlSerializer.parse(t);return n.i(_.f)(this.currentUrlTree,r,e)},Router.prototype.scheduleNavigation=function(t,e){var n=this,r=++this.navigationId;return this.routerEvents.next(new k(r,this.serializeUrl(t))),Promise.resolve().then(function(o){return n.runNavigate(t,e.skipLocationChange,e.replaceUrl,r)})},Router.prototype.runNavigate=function(t,e,r,o){var i=this;return o!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new R(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,l){var p,f,m,g,y=i.currentRouterState,b=i.currentUrlTree,_=n.i(d.a)(i.injector,i.configLoader,t,i.config),T=u.mergeMap.call(_,function(t){return g=t,n.i(v.a)(i.rootComponentType,i.config,g,i.serializeUrl(g))}),k=c.map.call(T,function(e){return i.routerEvents.next(new A(o,i.serializeUrl(t),i.serializeUrl(g),e)),e}),w=c.map.call(k,function(t){return n.i(h.a)(t,i.currentRouterState)}),j=c.map.call(w,function(t){p=t,m=new O(p.snapshot,i.currentRouterState.snapshot,i.injector),m.traverse(i.outletMap)}),I=u.mergeMap.call(j,function(){return m.checkGuards()}),D=u.mergeMap.call(I,function(t){return t?c.map.call(m.resolveData(),function(){return t}):n.i(s.of)(t)});D.forEach(function(t){if(!t||o!==i.navigationId)return void(f=!1);if(i.currentUrlTree=g,i.currentRouterState=p,!e){var n=i.urlSerializer.serialize(g);i.location.isCurrentPathEqualTo(n)||r?i.location.replaceState(n):i.location.go(n)}new P(p,y).activate(i.outletMap),f=!0}).then(function(){i.navigated=!0,f?(i.routerEvents.next(new E(o,i.serializeUrl(t),i.serializeUrl(g))),a(!0)):(i.routerEvents.next(new R(o,i.serializeUrl(t),"")),a(!1))},function(e){if(e instanceof C.b)i.navigated=!0,i.routerEvents.next(new R(o,i.serializeUrl(t),e.message)),a(!1);else{i.routerEvents.next(new S(o,i.serializeUrl(t),e));try{a(i.errorHandler(e))}catch(t){l(t)}}o===i.navigationId&&(i.currentRouterState=y,i.currentUrlTree=b,i.location.replaceState(i.serializeUrl(b)))})})},Router}(),j=function(){function CanActivate(t){this.path=t}return Object.defineProperty(CanActivate.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),CanActivate}(),I=function(){function CanDeactivate(t,e){this.component=t,this.route=e}return CanDeactivate}(),O=function(){function PreActivation(t,e,n){this.future=t,this.curr=e,this.injector=n,this.checks=[]}return PreActivation.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},PreActivation.prototype.checkGuards=function(){var t=this;if(0===this.checks.length)return n.i(s.of)(!0);var e=n.i(i.from)(this.checks),r=c.map.call(e,function(e){if(e instanceof j)return n.i(T.f)(n.i(i.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]));if(e instanceof I){var r=e;return t.runCanDeactivate(r.component,r.route)}throw new Error("Cannot be reached")}),o=l.mergeAll.call(r);return a.every.call(o,function(t){return t===!0})},PreActivation.prototype.resolveData=function(){var t=this;if(0===this.checks.length)return n.i(s.of)(null);var e=n.i(i.from)(this.checks),r=u.mergeMap.call(e,function(e){return e instanceof j?t.runResolve(e.route):n.i(s.of)(null)});return p.reduce.call(r,function(t,e){return t})},PreActivation.prototype.traverseChildRoutes=function(t,e,r,o){var i=this,s=nodeChildrenAsMap(e);t.children.forEach(function(t){i.traverseRoutes(t,s[t.value.outlet],r,o.concat([t.value])),delete s[t.value.outlet]}),n.i(T.c)(s,function(t,e){return i.deactivateOutletAndItChildren(t,r._outlets[e])})},PreActivation.prototype.traverseRoutes=function(t,e,r,o){var i=t.value,s=e?e.value:null,a=r?r._outlets[t.value.outlet]:null;s&&i._routeConfig===s._routeConfig?(n.i(T.d)(i.params,s.params)?i.data=s.data:this.checks.push(new I(a.component,s),new j(o)),i.component?this.traverseChildRoutes(t,e,a?a.outletMap:null,o):this.traverseChildRoutes(t,e,r,o)):(s&&(s.component?this.deactivateOutletAndItChildren(s,a):this.deactivateOutletMap(r)),this.checks.push(new j(o)),i.component?this.traverseChildRoutes(t,null,a?a.outletMap:null,o):this.traverseChildRoutes(t,null,r,o))},PreActivation.prototype.deactivateOutletAndItChildren=function(t,e){e&&e.isActivated&&(this.deactivateOutletMap(e.outletMap),this.checks.push(new I(e.component,t)))},PreActivation.prototype.deactivateOutletMap=function(t){var e=this;n.i(T.c)(t._outlets,function(t){t.isActivated&&e.deactivateOutletAndItChildren(t.activatedRoute.snapshot,t)})},PreActivation.prototype.runCanActivate=function(t){var e=this,r=t._routeConfig?t._routeConfig.canActivate:null;if(!r||0===r.length)return n.i(s.of)(!0);var o=c.map.call(n.i(i.from)(r),function(r){var o=e.getToken(r,t);return o.canActivate?n.i(T.b)(o.canActivate(t,e.future)):n.i(T.b)(o(t,e.future))});return n.i(T.f)(o)},PreActivation.prototype.runCanActivateChild=function(t){var e=this,r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return n.i(T.f)(c.map.call(n.i(i.from)(o),function(t){var o=c.map.call(n.i(i.from)(t.guards),function(t){var o=e.getToken(t,t.node);return o.canActivateChild?n.i(T.b)(o.canActivateChild(r,e.future)):n.i(T.b)(o(r,e.future))});return n.i(T.f)(o)}))},PreActivation.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},PreActivation.prototype.runCanDeactivate=function(t,e){var r=this,o=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!o||0===o.length)return n.i(s.of)(!0);var u=c.map.call(n.i(i.from)(o),function(o){var i=r.getToken(o,e);return i.canDeactivate?n.i(T.b)(i.canDeactivate(t,e,r.curr)):n.i(T.b)(i(t,e,r.curr))}),p=l.mergeAll.call(u);return a.every.call(p,function(t){return t===!0})},PreActivation.prototype.runResolve=function(t){var e=t._resolve;return c.map.call(this.resolveNode(e.current,t),function(r){return e.resolvedData=r,t.data=n.i(T.g)(t.data,e.flattenedResolvedData),null})},PreActivation.prototype.resolveNode=function(t,e){var r=this;return n.i(T.e)(t,function(t,o){var i=r.getToken(o,e);return i.resolve?n.i(T.b)(i.resolve(e,r.future)):n.i(T.b)(i(e,r.future))})},PreActivation.prototype.getToken=function(t,e){var n=closestLoadedConfig(e),r=n?n.injector:this.injector;return r.get(t)},PreActivation}(),P=function(){function ActivateRoutes(t,e){this.futureState=t,this.currState=e}return ActivateRoutes.prototype.activate=function(t){var e=this.futureState._root,r=this.currState?this.currState._root:null;n.i(b.g)(this.futureState.root),this.activateChildRoutes(e,r,t)},ActivateRoutes.prototype.activateChildRoutes=function(t,e,r){var o=this,i=nodeChildrenAsMap(e);t.children.forEach(function(t){o.activateRoutes(t,i[t.value.outlet],r),delete i[t.value.outlet]}),n.i(T.c)(i,function(t,e){return o.deactivateOutletAndItChildren(r._outlets[e])})},ActivateRoutes.prototype.activateRoutes=function(t,e,r){var o=t.value,i=e?e.value:null;if(o===i)if(n.i(b.g)(o),o.component){var s=getOutlet(r,t.value);this.activateChildRoutes(t,e,s.outletMap)}else this.activateChildRoutes(t,e,r);else{if(i)if(i.component){var s=getOutlet(r,t.value);this.deactivateOutletAndItChildren(s)}else this.deactivateOutletMap(r);if(o.component){n.i(b.g)(o);var s=getOutlet(r,t.value),a=new y.a;this.placeComponentIntoOutlet(a,o,s),this.activateChildRoutes(t,null,a)}else n.i(b.g)(o),this.activateChildRoutes(t,null,r)}},ActivateRoutes.prototype.placeComponentIntoOutlet=function(t,e,n){var o=[{provide:b.b,useValue:e},{provide:y.a,useValue:t}],i=parentLoadedConfig(e.snapshot),s=null,a=null;i&&(s=i.factoryResolver,a=i.injector,o.push({provide:r.ComponentFactoryResolver,useValue:s})),n.activate(e,s,a,r.ReflectiveInjector.resolve(o),t)},ActivateRoutes.prototype.deactivateOutletAndItChildren=function(t){t&&t.isActivated&&(this.deactivateOutletMap(t.outletMap),t.deactivate())},ActivateRoutes.prototype.deactivateOutletMap=function(t){var e=this;n.i(T.c)(t._outlets,function(t){return e.deactivateOutletAndItChildren(t)})},ActivateRoutes}()},153:function(t,e,n){"use strict";var r=n(0),o=n(247),i=(n.n(o),n(100)),s=(n.n(i),n(83)),a=(n.n(s),n(166)),c=(n.n(a),n(52));n.d(e,"c",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return p});var l=new r.OpaqueToken("ROUTES"),u=function(){function LoadedRouterConfig(t,e,n){this.routes=t,this.injector=e,this.factoryResolver=n}return LoadedRouterConfig}(),p=function(){function RouterConfigLoader(t,e){this.loader=t,this.compiler=e}return RouterConfigLoader.prototype.load=function(t,e){return s.map.call(this.loadModuleFactory(e),function(e){var r=e.create(t);return new u(n.i(c.a)(r.injector.get(l)),r.injector,r.componentFactoryResolver)})},RouterConfigLoader.prototype.loadModuleFactory=function(t){var e=this;if("string"==typeof t)return n.i(o.fromPromise)(this.loader.load(t));var s=this.compiler instanceof r.Compiler;return a.mergeMap.call(n.i(c.b)(t()),function(t){return s?n.i(i.of)(t):n.i(o.fromPromise)(e.compiler.compileModuleAsync(t))})},RouterConfigLoader}()},154:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function RouterOutletMap(){this._outlets={}}return RouterOutletMap.prototype.registerOutlet=function(t,e){this._outlets[t]=e},RouterOutletMap.prototype.removeOutlet=function(t){this._outlets[t]=void 0},RouterOutletMap}()},168:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function ProjectActions(){}return ProjectActions.prototype.createProject=function(t){return{type:ProjectActions.CREATE_PROJECT,payload:{project:t}}},ProjectActions.prototype.createProjectFailed=function(t){return{type:ProjectActions.CREATE_PROJECT_FAILED,payload:t}},ProjectActions.prototype.createProjectFulfilled=function(t){return{type:ProjectActions.CREATE_PROJECT_FULFILLED,payload:{project:t}}},ProjectActions.prototype.fetchProjects=function(){return{type:ProjectActions.FETCH_PROJECTS}},ProjectActions.prototype.fetchProjectsFailed=function(t){return{type:ProjectActions.FETCH_PROJECTS_FAILED,payload:t}},ProjectActions.prototype.fetchProjectsFulfilled=function(t,e){return{type:ProjectActions.FETCH_PROJECTS_FULFILLED,payload:{projects:t,meta:e}}},ProjectActions.prototype.updateProject=function(t,e){return{type:ProjectActions.UPDATE_PROJECT,payload:{changes:e,projectId:t}}},ProjectActions.prototype.updateProjectFailed=function(t){return{type:ProjectActions.UPDATE_PROJECT_FAILED,payload:t}},ProjectActions.prototype.updateProjectFulfilled=function(t){return{type:ProjectActions.UPDATE_PROJECT_FULFILLED,payload:{project:t}}},ProjectActions.prototype.deleteProject=function(t){return{type:ProjectActions.DELETE_PROJECT,payload:{projectId:t}}},ProjectActions.prototype.deleteProjectFailed=function(t){return{type:ProjectActions.DELETE_PROJECT_FAILED,payload:t}},ProjectActions.prototype.deleteProjectFulfilled=function(t){return{type:ProjectActions.DELETE_PROJECT_FULFILLED,payload:{project:t}}},ProjectActions.CREATE_PROJECT="CREATE_PROJECT",ProjectActions.CREATE_PROJECT_FAILED="CREATE_PROJECT_FAILED",ProjectActions.CREATE_PROJECT_FULFILLED="CREATE_PROJECT_FULFILLED",ProjectActions.FETCH_PROJECTS="FETCH_PROJECTS",ProjectActions.FETCH_PROJECTS_FAILED="FETCH_PROJECTS_FAILED",ProjectActions.FETCH_PROJECTS_FULFILLED="FETCH_PROJECTS_FULFILLED",ProjectActions.UPDATE_PROJECT="UPDATE_PROJECT",ProjectActions.UPDATE_PROJECT_FAILED="UPDATE_PROJECT_FAILED",ProjectActions.UPDATE_PROJECT_FULFILLED="UPDATE_PROJECT_FULFILLED",ProjectActions.DELETE_PROJECT="DELETE_PROJECT",ProjectActions.DELETE_PROJECT_FAILED="DELETE_PROJECT_FAILED",ProjectActions.DELETE_PROJECT_FULFILLED="DELETE_PROJECT_FULFILLED",ProjectActions=o([n.i(r.Injectable)(),i("design:paramtypes",[])],ProjectActions)}()},222:function(t,e,n){"use strict";function toBool(t){return""===t||!!t}var r=n(85),o=n(0),i=n(152),s=n(93);n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var a=function(){function RouterLink(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[]}return Object.defineProperty(RouterLink.prototype,"routerLink",{set:function(t){Array.isArray(t)?this.commands=t:this.commands=[t]},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(t,e,n){return!(0===t&&!e&&!n)||(this.router.navigateByUrl(this.urlTree),!1)},Object.defineProperty(RouterLink.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:toBool(this.preserveQueryParams),preserveFragment:toBool(this.preserveFragment)})},enumerable:!0,configurable:!0}),RouterLink.decorators=[{type:o.Directive,args:[{selector:":not(a)[routerLink]"}]}],RouterLink.ctorParameters=[{type:i.a},{type:s.b},{type:r.c}],RouterLink.propDecorators={queryParams:[{type:o.Input}],fragment:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],preserveFragment:[{type:o.Input}],routerLink:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},RouterLink}(),c=function(){function RouterLinkWithHref(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof i.b&&r.updateTargetUrlAndHref()})}return Object.defineProperty(RouterLinkWithHref.prototype,"routerLink",{set:function(t){Array.isArray(t)?this.commands=t:this.commands=[t]},enumerable:!0,configurable:!0}),RouterLinkWithHref.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},RouterLinkWithHref.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkWithHref.prototype.onClick=function(t,e,n){return!(0===t&&!e&&!n)||("string"==typeof this.target&&"_self"!=this.target||(this.router.navigateByUrl(this.urlTree),!1))},RouterLinkWithHref.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(RouterLinkWithHref.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:toBool(this.preserveQueryParams),preserveFragment:toBool(this.preserveFragment)})},enumerable:!0,configurable:!0}),RouterLinkWithHref.decorators=[{type:o.Directive,args:[{selector:"a[routerLink]"}]}],RouterLinkWithHref.ctorParameters=[{type:i.a},{type:s.b},{type:r.c}],RouterLinkWithHref.propDecorators={target:[{type:o.Input}],queryParams:[{type:o.Input}],fragment:[{type:o.Input}],routerLinkOptions:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],preserveFragment:[{type:o.Input}],href:[{type:o.HostBinding}],routerLink:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},RouterLinkWithHref}()},223:function(t,e,n){"use strict";function findNode(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var o=r[n],i=findNode(t,o);if(i)return i}return null}function findPath(t,e,n){if(n.push(e),t===e.value)return n;for(var r=0,o=e.children;r<o.length;r++){var i=o[r],s=n.slice(0),a=findPath(t,i,s);if(a.length>0)return a}return[]}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){function Tree(t){this._root=t}return Object.defineProperty(Tree.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),Tree.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},Tree.prototype.children=function(t){var e=findNode(t,this._root);return e?e.children.map(function(t){return t.value}):[]},Tree.prototype.firstChild=function(t){var e=findNode(t,this._root);return e&&e.children.length>0?e.children[0].value:null},Tree.prototype.siblings=function(t){var e=findPath(t,this._root,[]);if(e.length<2)return[];var n=e[e.length-2].children.map(function(t){return t.value});return n.filter(function(e){return e!==t})},Tree.prototype.pathFromRoot=function(t){return findPath(t,this._root,[]).map(function(t){return t.value})},Tree}(),o=function(){function TreeNode(t,e){this.value=t,this.children=e}return TreeNode.prototype.toString=function(){return"TreeNode("+this.value+")"},TreeNode}()},251:function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=function(t){function EmptyError(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return n(EmptyError,t),EmptyError}(Error);e.EmptyError=r},254:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(39),s=(n.n(i),n(84)),a=n(74);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),p=function(){function ProjectService(t,e,n){this.http=t,this.translate=e,this.appService=n}return ProjectService.prototype.getProjectStatusTypes=function(){return this.translate.get(["draft","active","completed"]).map(function(t){return[{value:"DRAFT",text:t.draft,default:!0},{value:"ACTIVE",text:t.active},{value:"COMPLETED",text:t.completed}]})},ProjectService.prototype.fetchProjects=function(t){var e=this;return void 0===t&&(t={}),this.http.get("p?id=project-view",{headers:u,search:n.i(a.d)(t)}).map(function(t){return t.json().objects[0]}).map(function(t){return{projects:t.list,meta:t.meta}}).catch(function(t){return e.appService.handleError(t)})},ProjectService.prototype.fetchProjectById=function(t){var e=this,r="p?id=project-form&projectId="+("new"!==t?t:"");return this.http.get(r,{headers:u}).map(function(t){var e=n.i(a.a)(t.json().objects),r=e.project;return r.id||(r.id=""),e.fsid&&(r.fsid=e.fsid),e.ACL&&(r.acl=e.ACL),e.attachment&&(r.attachments=e.attachment.list),{project:r,actions:e.actions}}).catch(function(t){return e.appService.handleError(t)})},ProjectService.prototype.saveProject=function(t){var e=this,r="p?id=project-form&projectId="+(t.id?t.id:"");return this.http.post(r,n.i(a.b)(t),{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return e.appService.handleError(t)})},ProjectService.prototype.deleteProject=function(t){var e=this,n="p?id=project-view&projectIds="+t.map(function(t){return t.id}).join(",");return this.http.delete(n,{headers:u}).catch(function(t){return e.appService.handleError(t)})},ProjectService.prototype.deleteProjectAttachment=function(t,e){var n=this,r="p?id=project-form&projectId="+t.id+"&attachmentId="+e.id+"&fsid="+t.fsid;return this.http.delete(r,{headers:u}).catch(function(t){return n.appService.handleError(t)})},ProjectService=c([n.i(r.Injectable)(),l("design:paramtypes",[o.Http,i.TranslateService,s.a])],ProjectService)}()},255:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(84),s=n(74);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),u=function(){function StaffService(t,e){this.http=t,this.appService=e}return StaffService.prototype.fetchOrganizations=function(t){var e=this;return void 0===t&&(t={}),this.http.get("/Staff/p?id=get-organizations",{headers:l,search:n.i(s.d)(t)}).map(function(t){return t.json().objects[0]}).map(function(t){return{organizations:t.list,meta:t.meta}}).catch(function(t){return e.appService.handleError(t)})},StaffService.prototype.fetchEmployees=function(){var t=this;return this.http.get("/Staff/p?id=employees",{headers:l}).retry(3).map(function(t){return t.json().objects[0]}).map(function(t){return{employees:t.list}}).catch(function(e){return t.appService.handleError(e)})},StaffService=a([n.i(r.Injectable)(),c("design:paramtypes",[o.Http,i.a])],StaffService)}()},256:function(t,e,n){"use strict";var r=n(0),o=n(28);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function TranslateService(t){this.http=t}return TranslateService.prototype.fetchTranslations=function(){var t=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"});return this.http.get("p?id=common-captions",{headers:t}).retry(3).map(function(t){return t.json().captions})},TranslateService=i([n.i(r.Injectable)(),s("design:paramtypes",[o.Http])],TranslateService)}()},257:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function ImgViewService(){this.emitter=new r.EventEmitter}return ImgViewService.prototype.getEmitter=function(){return this.emitter},ImgViewService.prototype.show=function(t){this.emitter.emit({url:t})},ImgViewService=o([n.i(r.Injectable)(),i("design:paramtypes",[])],ImgViewService)}()},258:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return c});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(259),a=n(263),c=function(){function MarkdownConverter(){s.setOptions({gfm:!0,tables:!0,breaks:!0})}return MarkdownConverter.prototype.toMarkdown=function(t){return a(t,{gfm:!0})},MarkdownConverter.prototype.toHtml=function(t){return s(t)},MarkdownConverter=o([n.i(r.Injectable)(),i("design:paramtypes",[])],MarkdownConverter)}()},347:function(t,e,n){"use strict";var r=n(0),o=n(152),i=n(222);n.d(e,"a",function(){return s});var s=function(){function RouterLinkActive(t,e,n){var r=this;this.router=t,this.element=e,this.renderer=n,this.classes=[],this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof o.b&&r.update()})}return RouterLinkActive.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(RouterLinkActive.prototype,"routerLinkActive",{set:function(t){Array.isArray(t)?this.classes=t:this.classes=t.split(" ")},enumerable:!0,configurable:!0}),RouterLinkActive.prototype.ngOnChanges=function(t){this.update()},RouterLinkActive.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkActive.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.reduceList(this.links),n=this.reduceList(this.linksWithHrefs);this.classes.forEach(function(r){return t.renderer.setElementClass(t.element.nativeElement,r,e||n)})}},RouterLinkActive.prototype.reduceList=function(t){var e=this;return t.reduce(function(t,n){return t||e.router.isActive(n.urlTree,e.routerLinkActiveOptions.exact)},!1)},RouterLinkActive.decorators=[{type:r.Directive,args:[{selector:"[routerLinkActive]"}]}],
RouterLinkActive.ctorParameters=[{type:o.a},{type:r.ElementRef},{type:r.Renderer}],RouterLinkActive.propDecorators={links:[{type:r.ContentChildren,args:[i.a,{descendants:!0}]}],linksWithHrefs:[{type:r.ContentChildren,args:[i.b,{descendants:!0}]}],routerLinkActiveOptions:[{type:r.Input}],routerLinkActive:[{type:r.Input}]},RouterLinkActive}()},348:function(t,e,n){"use strict";var r=n(0),o=n(154),i=n(51);n.d(e,"a",function(){return s});var s=function(){function RouterOutlet(t,e,n,o){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=o,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,t.registerOutlet(o?o:i.a,this)}return RouterOutlet.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:i.a)},Object.defineProperty(RouterOutlet.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),RouterOutlet.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this.deactivateEvents.emit(t)}},RouterOutlet.prototype.activate=function(t,e,n,o,i){this.outletMap=i,this._activatedRoute=t;var s,a=t._futureSnapshot,c=a._routeConfig.component;s=e?e.resolveComponentFactory(c):this.resolver.resolveComponentFactory(c);var l=n?n:this.location.parentInjector,u=r.ReflectiveInjector.fromResolvedProviders(o,l);this.activated=this.location.createComponent(s,this.location.length,u,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},RouterOutlet.decorators=[{type:r.Directive,args:[{selector:"router-outlet"}]}],RouterOutlet.ctorParameters=[{type:o.a},{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:void 0,decorators:[{type:r.Attribute,args:["name"]}]}],RouterOutlet.propDecorators={activateEvents:[{type:r.Output,args:["activate"]}],deactivateEvents:[{type:r.Output,args:["deactivate"]}]},RouterOutlet}()},349:function(t,e,n){"use strict";function provideLocationStrategy(t,e,n){return void 0===n&&(n={}),n.useHash?new r.e(t,e):new r.d(t,e)}function provideForRootGuard(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(t){return[{provide:o.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:l.c,multi:!0,useValue:t}]}function setupRouter(t,e,r,o,i,s,a,l,u){if(void 0===u&&(u={}),0==t.componentTypes.length)throw new Error("Bootstrap at least one component before injecting Router.");var p=t.componentTypes[0],d=new c.a(p,e,r,o,i,s,a,n.i(f.a)(l));return u.errorHandler&&(d.errorHandler=u.errorHandler),u.enableTracing&&d.events.subscribe(function(t){console.group("Router Event: "+t.constructor.name),console.log(t.toString()),console.log(t),console.groupEnd()}),d}function rootRoute(t){return t.routerState.root}function initialRouterNavigation(t,e){return function(){e.initialNavigation===!1?t.setUpLocationChangeListener():t.initialNavigation()}}function provideRouterInitializer(){return{provide:o.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:initialRouterNavigation,deps:[c.a,m]}}var r=n(85),o=n(0),i=n(222),s=n(347),a=n(348),c=n(152),l=n(153),u=n(154),p=n(93),d=n(76),f=n(52);n.d(e,"a",function(){return g}),n.d(e,"b",function(){return y});var h=[a.a,i.a,i.b,s.a],m=new o.OpaqueToken("ROUTER_CONFIGURATION"),v=new o.OpaqueToken("ROUTER_FORROOT_GUARD"),g=({provide:r.c,useClass:r.d},{provide:r.c,useClass:r.e},[r.f,{provide:d.g,useClass:d.h},{provide:c.a,useFactory:setupRouter,deps:[o.ApplicationRef,d.g,u.a,r.f,o.Injector,o.NgModuleFactoryLoader,o.Compiler,l.c,m]},u.a,{provide:p.b,useFactory:rootRoute,deps:[c.a]},{provide:o.NgModuleFactoryLoader,useClass:o.SystemJsNgModuleLoader},{provide:m,useValue:{enableTracing:!1}}]),y=function(){function RouterModule(t){}return RouterModule.forRoot=function(t,e){return{ngModule:RouterModule,providers:[g,provideRoutes(t),{provide:v,useFactory:provideForRootGuard,deps:[[c.a,new o.Optional,new o.SkipSelf]]},{provide:m,useValue:e?e:{}},{provide:r.c,useFactory:provideLocationStrategy,deps:[r.a,[new o.Inject(r.g),new o.Optional],m]},provideRouterInitializer()]}},RouterModule.forChild=function(t){return{ngModule:RouterModule,providers:[provideRoutes(t)]}},RouterModule.decorators=[{type:o.NgModule,args:[{declarations:h,exports:h}]}],RouterModule.ctorParameters=[{type:void 0,decorators:[{type:o.Optional},{type:o.Inject,args:[v]}]}],RouterModule}()},488:function(t,e,n){"use strict";var r=n(819);e.from=r.FromObservable.create},491:function(t,e,n){"use strict";function concatAll(){return this.lift(new r.MergeAllOperator(1))}var r=n(165);e.concatAll=concatAll},493:function(t,e,n){"use strict";function every(t,e){return this.lift(new i(t,e,this))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(13);e.every=every;var i=function(){function EveryOperator(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return EveryOperator.prototype.call=function(t,e){return e._subscribe(new s(t,this.predicate,this.thisArg,this.source))},EveryOperator}(),s=function(t){function EverySubscriber(e,n,r,o){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=o,this.index=0,this.thisArg=r||this}return r(EverySubscriber,t),EverySubscriber.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},EverySubscriber.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(o.Subscriber)},50:function(t,e,n){"use strict";var r=n(641);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b}),n.d(e,"c",function(){return r.c})},503:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function AppActions(){}return AppActions.prototype.fetchUserProfile=function(){return{type:AppActions.FETCH_USER_PROFILE}},AppActions.prototype.fetchUserProfileFailed=function(t){return{type:AppActions.FETCH_USER_PROFILE_FAILED,payload:t}},AppActions.prototype.fetchUserProfileFulfilled=function(t){return{type:AppActions.FETCH_USER_PROFILE_FULFILLED,payload:t}},AppActions.prototype.updateUserProfile=function(t){return{type:AppActions.UPDATE_USER_PROFILE,payload:{userProfile:t}}},AppActions.prototype.updateUserProfileFailed=function(t){return{type:AppActions.UPDATE_USER_PROFILE_FAILED,payload:t}},AppActions.prototype.updateUserProfileFulfilled=function(t){return{type:AppActions.UPDATE_USER_PROFILE_FULFILLED,payload:{userProfile:t}}},AppActions.FETCH_USER_PROFILE="FETCH_USER_PROFILE",AppActions.FETCH_USER_PROFILE_FAILED="FETCH_USER_PROFILE_FAILED",AppActions.FETCH_USER_PROFILE_FULFILLED="FETCH_USER_PROFILE_FULFILLED",AppActions.UPDATE_USER_PROFILE="UPDATE_USER_PROFILE",AppActions.UPDATE_USER_PROFILE_FAILED="UPDATE_USER_PROFILE_FAILED",AppActions.UPDATE_USER_PROFILE_FULFILLED="UPDATE_USER_PROFILE_FULFILLED",AppActions=o([n.i(r.Injectable)(),i("design:paramtypes",[])],AppActions)}()},504:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function ReferenceActions(){}return ReferenceActions.prototype.fetchTaskTypes=function(t){return{type:ReferenceActions.FETCH_TASK_TYPES,payload:{taskTypes:t}}},ReferenceActions.prototype.fetchRequestTypes=function(t){return{type:ReferenceActions.FETCH_REQUEST_TYPES,payload:{requestTypes:t}}},ReferenceActions.prototype.fetchTags=function(t){return{type:ReferenceActions.FETCH_TAGS,payload:{tags:t}}},ReferenceActions.prototype.fetchReferenceFailed=function(t){return{type:ReferenceActions.FETCH_REFERENCE_FAILED,payload:t}},ReferenceActions.FETCH_TASK_TYPES="FETCH_TASK_TYPES",ReferenceActions.FETCH_REQUEST_TYPES="FETCH_REQUEST_TYPES",ReferenceActions.FETCH_TAGS="FETCH_TAGS",ReferenceActions.FETCH_REFERENCE_FAILED="FETCH_REFERENCE_FAILED",ReferenceActions=o([n.i(r.Injectable)(),i("design:paramtypes",[])],ReferenceActions)}()},505:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(3),s=(n.n(i),n(73));n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function AuthGuard(t,e){this.appService=t,this.router=e}return AuthGuard.prototype.canActivate=function(t,e){return this.appService.isLogged?i.Observable.of(!0):i.Observable.of(!0)},AuthGuard=a([n.i(r.Injectable)(),c("design:paramtypes",[s.a,o.a])],AuthGuard)}()},506:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(74);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),l=function(){function DashboardComponent(t){this.http=t,this.fetchDashboardProjects()}return DashboardComponent.prototype.fetchDashboardProjects=function(){var t=this;this.http.get("p?id=dashboard",{headers:c}).map(function(t){return n.i(i.a)(t.json().objects).project}).subscribe(function(e){t.projects=e?e.list:[]})},DashboardComponent.prototype.addProjectToDashboard=function(){var t=this;this.http.post("p?id=dashboard","projectId="+this.projectId,{headers:c}).map(function(t){return t.json()}).subscribe(function(e){t.fetchDashboardProjects()})},DashboardComponent.prototype.deleteProjectFromDashboard=function(t){var e=this;this.http.delete("p?id=dashboard&projectId="+t,{headers:c}).map(function(t){return t.json()}).subscribe(function(t){e.fetchDashboardProjects()})},DashboardComponent.prototype.selectProject=function(t){this.projectId=t.id,document.body.click()},DashboardComponent=s([n.i(r.Component)({selector:"[dashboard]",template:'\n        <div class="content-header">\n            <h1 class="header-title">\n                {{\'dashboard\' | translate}}\n            </h1>\n        </div>\n        <div class="content-body">\n            Здесь что-то будет\n            <!-- <div class="dashboard" *ngFor="let project of projects">\n                <header>\n                    <span>{{project.name}}</span>\n                    <button (click)="deleteProjectFromDashboard(project.id)">delete</button>\n                </header>\n                <section>\n                    project data\n                </section>\n            </div>\n            <div class="span3">\n                <project-input editable="true" (select)="selectProject($event)"></project-input>\n                <button class="btn" type="button" (click)="addProjectToDashboard()">{{\'dashboard_add_project\' | translate}}</button>\n            </div> -->\n        </div>\n    '}),a("design:paramtypes",[o.Http])],DashboardComponent)}()},507:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function LoginComponent(){window.location.href="Logout"}return LoginComponent=o([n.i(r.Component)({selector:"[login]",template:""}),i("design:paramtypes",[])],LoginComponent)}()},508:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(16),s=n(39),a=(n.n(s),n(120)),c=n(73),l=n(72),u=n(74);n.d(e,"a",function(){return f});var p=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function ProjectComponent(t,e,n,r,o,i){this.store=t,this.router=e,this.route=n,this.translate=r,this.projectService=o,this.notifyService=i,this.subs=[],this.isReady=!1,this.isNew=!0,this.isEditable=!1,this.isValid=!0,this.actions={},this.errors={}}return ProjectComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("environment").subscribe(function(e){t.redirectUrl=e.redirectUrl})),this.subs.push(this.route.params.subscribe(function(e){t.loadProject(e.projectId)})),this.loadData()},ProjectComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},Object.defineProperty(ProjectComponent.prototype,"title",{get:function(){return this.isNew?"new_project":"project"},enumerable:!0,configurable:!0}),Object.defineProperty(ProjectComponent.prototype,"canSave",{get:function(){return this.actions.save_and_close===!0},enumerable:!0,configurable:!0}),Object.defineProperty(ProjectComponent.prototype,"canDelete",{get:function(){return this.actions.delete_document===!0},enumerable:!0,configurable:!0}),ProjectComponent.prototype.loadProject=function(t){var e=this;this.projectService.fetchProjectById(t).subscribe(function(t){var n=t.project,r=t.actions;e.project=n,e.actions=r||{},e.isNew=""==e.project.id,e.isEditable=e.isNew||e.project.editable,e.isReady=!0,e.isValid=!0},function(t){return e.handleXhrError(t)})},ProjectComponent.prototype.loadData=function(){var t=this;this.projectService.getProjectStatusTypes().subscribe(function(e){return t.projectStatusTypes=e})},ProjectComponent.prototype.saveProject=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_document_save")).show();this.projectService.saveProject(this.project).subscribe(function(n){return e.set({type:"success",message:n.message}),t.close(),n},function(n){return e.remove(),t.handleXhrError(n),t.handleValidationError(n),n},function(){return e.remove(1500)})},ProjectComponent.prototype.deleteProject=function(){var t=this;this.projectService.deleteProject([this.project]).subscribe(function(e){return t.close()},function(e){return t.handleXhrError(e)})},ProjectComponent.prototype.close=function(){this.router.navigateByUrl(this.redirectUrl)},ProjectComponent.prototype.handleValidationError=function(t){var e={};if(t.validation){this.isValid=!1;for(var n=0,r=t.validation.errors;n<r.length;n++){var o=r[n];e[o.field]={message:o.message,error:o.error}}}this.errors=e},ProjectComponent.prototype.handleXhrError=function(t){this.notifyService.error(t.message).show().remove(2e3)},ProjectComponent.prototype.setStatus=function(t){this.project.status=t,this.validateForm("status")},ProjectComponent.prototype.setCustomer=function(t){this.project.customerId=t.id,this.validateForm("customerId")},ProjectComponent.prototype.setManager=function(t){this.project.managerUserId=t.userID,this.validateForm("managerUserId")},ProjectComponent.prototype.setProgrammer=function(t){this.project.programmerUserId=t.userID,this.validateForm("programmerUserId")},ProjectComponent.prototype.setTester=function(t){this.project.testerUserId=t.userID,this.validateForm("testerUserId")},ProjectComponent.prototype.setObserver=function(t){this.project.observerUserIds=t.map(function(t){return t.userID}),this.validateForm("observerUserIds")},ProjectComponent.prototype.removeObserver=function(t,e){var n=this;e.stopPropagation(),this.project.observerUserIds.forEach(function(e,r){e===t.userID&&n.project.observerUserIds.splice(r,1)})},ProjectComponent.prototype.setFinishDate=function(t){this.project.finishDate=t,this.validateForm("finishDate")},ProjectComponent.prototype.setProjectComment=function(t){this.project.comment=t,this.validateForm("comment")},ProjectComponent.prototype.addAttachment=function(t){var e=this,r=new l.b;r.realFileName=t.response.files[0],this.project.attachments||(this.project.attachments=[]),this.project.fsid||(this.project.fsid=""+Date.now()),t.files[0].type.match("image.*")?n.i(u.e)(t.files[0],function(t){r.base64=t.target.result,e.project.attachments.push(r)}):this.project.attachments.push(r)},ProjectComponent.prototype.deleteAttachment=function(t){var e=this;this.projectService.deleteProjectAttachment(this.project,t).subscribe(function(n){e.project.attachments=e.project.attachments.filter(function(e){return e.id!=t.id})})},ProjectComponent.prototype.validateForm=function(t){for(var e in this.errors)this.project[e]&&(this.errors[e]=!1);var n=!0;for(var e in this.errors)if(this.errors[e]!==!1){n=!1;break}this.isValid=n},ProjectComponent=p([n.i(r.Component)({selector:"project",template:n(799)}),d("design:paramtypes",[i.a,o.a,o.b,s.TranslateService,c.d,a.b])],ProjectComponent)}()},509:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(16),s=n(119),a=n(255),c=n(254),l=n(168);n.d(e,"a",function(){return d});var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function ProjectsComponent(t,e,n,r,o,i){this.store=t,this.router=e,this.envActions=n,this.projectActions=r,this.projectService=o,this.staffService=i,this.embedded=!1,this.selectable=!0,this.headerVisible=!0,this.titleVisible=!0,this.actionsVisible=!0,this.captionsVisible=!0,this.subs=[],this.title="projects",this.meta={},this.keyWord="",this.loading=!0,this.params={}}return ProjectsComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("environment").subscribe(function(e){t.keyWord!=e.keyWord&&t.loadData({keyWord:e.keyWord}),t.keyWord=e.keyWord})),this.subs.push(this.store.select("projects").subscribe(function(e){e&&(t.projects=e.projects,t.meta=e.meta,t.loading=e.loading)})),this.loadData()},ProjectsComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},ProjectsComponent.prototype.loadData=function(t){var e=this;this.store.dispatch(this.envActions.setRedirectUrl("/projects")),this.params=t,this.store.dispatch(this.projectActions.fetchProjects()),this.projectService.fetchProjects(t).subscribe(function(t){var n=t.projects.map(function(t){return t.customerId});e.staffService.fetchOrganizations({ids:n}).subscribe(function(n){var r=n.organizations;t.projects.map(function(t){t.customerId&&(t.customer=r.filter(function(e){return e.id==t.customerId})[0])}),e.store.dispatch(e.projectActions.fetchProjectsFulfilled(t.projects,t.meta))},function(t){return e.store.dispatch(e.projectActions.fetchProjectsFailed(t))})})},ProjectsComponent.prototype.refresh=function(){this.loadData(this.params)},ProjectsComponent.prototype.goToPage=function(t){this.loadData({page:t.page,keyWord:this.keyWord})},ProjectsComponent.prototype.newProject=function(){this.router.navigate(["/projects","new"])},ProjectsComponent.prototype.deleteProject=function(){},u([n.i(r.Input)(),p("design:type",Boolean)],ProjectsComponent.prototype,"embedded",void 0),u([n.i(r.Input)(),p("design:type",Boolean)],ProjectsComponent.prototype,"selectable",void 0),u([n.i(r.Input)(),p("design:type",Boolean)],ProjectsComponent.prototype,"headerVisible",void 0),u([n.i(r.Input)(),p("design:type",Boolean)],ProjectsComponent.prototype,"titleVisible",void 0),u([n.i(r.Input)(),p("design:type",Boolean)],ProjectsComponent.prototype,"actionsVisible",void 0),u([n.i(r.Input)(),p("design:type",Boolean)],ProjectsComponent.prototype,"captionsVisible",void 0),ProjectsComponent=u([n.i(r.Component)({selector:"projects",template:n(800),host:{"[class.view]":"true","[class.load]":"loading"}}),p("design:paramtypes",[i.a,o.a,s.a,l.a,c.a,a.a])],ProjectsComponent)}()},51:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o="primary",i=function(t){function NavigationCancelingError(e){t.call(this,e),this.message=e,this.stack=new Error(e).stack}return r(NavigationCancelingError,t),NavigationCancelingError.prototype.toString=function(){return this.message},NavigationCancelingError}(Error)},510:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(16),s=n(39),a=(n.n(s),n(120)),c=n(59),l=n(73),u=n(72);n.d(e,"a",function(){return f});var p=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function RequestComponent(t,e,n,o,i,s,a){this.store=t,this.router=e,this.route=n,this.translate=o,this.appService=i,this.notifyService=s,this.taskService=a,this.send=new r.EventEmitter,this.subs=[],this.isReady=!1,this.isNew=!0,this.dueDate="",this.editable=!0,this.isResolveAction=!1,this.showDeclineDialog=!1,this.actions={}}return RequestComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("environment").subscribe(function(e){t.redirectUrl=e.redirectUrl})),this.subs.push(this.route.params.subscribe(function(e){t.isReady=!1,t.isNew="new"===e.requestId,t.editable=t.isNew,t.isResolveAction=!1,t.taskService.fetchRequestById(e.requestId).subscribe(function(e){var n=e.request,r=e.actions;t.request=n,t.actions=r||{},t.isNew?t.request.taskId=t.route.snapshot.queryParams.task:t.isResolveAction="UNKNOWN"==t.request.resolution&&"prolong"===t.request.requestType.name,t.taskService.fetchTaskById(t.request.taskId).subscribe(function(e){var n=e.task;e.actions;t.task=n,t.isReady=!0})},function(e){return t.handleXhrError(e)})}))},RequestComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},Object.defineProperty(RequestComponent.prototype,"canSave",{get:function(){return this.actions.save_and_close},enumerable:!0,configurable:!0}),Object.defineProperty(RequestComponent.prototype,"canResolution",{get:function(){return this.actions.resolution},enumerable:!0,configurable:!0}),Object.defineProperty(RequestComponent.prototype,"canDelete",{get:function(){return this.actions.delete_document===!0},enumerable:!0,configurable:!0}),RequestComponent.prototype.handleXhrError=function(t){this.notifyService.error(t.message).show().remove(3e3)},RequestComponent.prototype.close=function(){this.router.navigateByUrl(this.redirectUrl)},RequestComponent.prototype.onConfirmDeclineDialog=function(t){this.doDecline(this.request,t)},RequestComponent.prototype.onCancelDeclineDialog=function(){this.showDeclineDialog=!1},RequestComponent.prototype.decline=function(){this.showDeclineDialog=!0},RequestComponent.prototype.cancel=function(){this.store.dispatch({type:c.e.TASK_REQUEST_CANCEL})},RequestComponent.prototype.sendRequest=function(){var t=this;this.taskService.sendTaskRequest(this.request).subscribe(function(e){t.notifyService.info(t.translate.instant("request_send_success")).show().remove(3e3),t.close(),t.send.emit({requestSendSuccess:!0})})},RequestComponent.prototype.doAccept=function(t){var e=this;this.taskService.doAcceptRequest(t,{dueDate:this.dueDate}).subscribe(function(t){e.store.dispatch(t),e.close()})},RequestComponent.prototype.doDecline=function(t,e){var n=this;this.taskService.doDeclineRequest(t,e).subscribe(function(t){n.close()})},RequestComponent.prototype.setRequestType=function(t){this.request.requestTypeId=t.id},RequestComponent.prototype.setComment=function(t){this.request.comment=t},RequestComponent.prototype.setDueDate=function(t){this.dueDate=t},RequestComponent.prototype.addAttachment=function(t){var e=new u.b;e.realFileName=t.files[0],this.request.attachments||(this.request.attachments=[]),this.request.attachments.push(e)},RequestComponent.prototype.deleteAttachment=function(t){this.request.attachments=this.request.attachments.filter(function(e){return e.id!=t.id})},p([n.i(r.Output)(),d("design:type",Object)],RequestComponent.prototype,"send",void 0),RequestComponent=p([n.i(r.Component)({selector:"request",template:n(801)}),d("design:paramtypes",[i.a,o.a,o.b,s.TranslateService,l.a,a.b,l.e])],RequestComponent)}()},511:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(16),s=n(39),a=(n.n(s),n(120)),c=n(59),l=n(73),u=n(72),p=n(74);n.d(e,"a",function(){return h});var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function TaskComponent(t,e,n,r,o,i,s){var a=this;this.store=t,this.router=e,this.activatedRoute=n,this.translate=r,this.taskActions=o,this.taskService=i,this.notifyService=s,this.subs=[],this.isReady=!1,this.isNew=!0,this.isEditable=!1,this.isValid=!0,this.isSubtask=!1,this.acl={},this.actions={},this.FEATURE_FLAGS={subTask:!0,comments:!1},this.showPropertyTab=!0,this.showStreamTab=!1,this.showObserversTab=!1,this.showACLTab=!1,this.showTaskCancelDialog=!1,this.taskObsManualyChanged=!1,this.errors={},this.subs.push(this.store.select("task").subscribe(function(t){a.comments=t.comments})),this.subs.push(this.store.select("environment").subscribe(function(t){a.redirectUrl=t.redirectUrl}))}return TaskComponent.prototype.ngOnInit=function(){var t=this;this.taskService.getTaskPriorityTypes().subscribe(function(e){return t.taskPriorityTypes=e}),this.subs.push(this.activatedRoute.params.subscribe(function(e){var n=t.router.routerState.snapshot.root.queryParams.parentTaskId||void 0,r=t.router.routerState.snapshot.root.queryParams.projectId||void 0;t.loadTask(e.taskId,{projectId:r,parentTaskId:n})}))},TaskComponent.prototype.ngOnDestroy=function(){this.store.dispatch({type:c.e.TASK_UNLOAD}),this.subs.map(function(t){return t.unsubscribe()})},TaskComponent.prototype.loadTask=function(t,e){var n=this;void 0===e&&(e={}),this.isReady=!1,this.task=null,this.parentTask=null,this.togglePropertyTab(),this.isSubtask=!1,this.showTaskCancelDialog=!1,this.acl={},this.actions={},this.taskService.fetchTaskById(t,e).subscribe(function(t){var e=t.task,r=t.parentTask,o=t.actions;n.actions=o||{},n.task=e,n.task.parentTaskId&&(n.isSubtask=!0,n.parentTask=r),n.isReady=!0,n.isNew=n.task.isNew,n.isEditable=n.isNew||n.task.editable,n.isValid=!0,!n.isNew&&n.FEATURE_FLAGS.comments&&n.loadComments(1)},function(t){return n.handleXhrError(t)})},Object.defineProperty(TaskComponent.prototype,"title",{get:function(){return this.isNew&&this.isSubtask?"new_subtask":this.isNew?"new_task":this.isSubtask?"subtask":"task"},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canSave",{get:function(){return this.actions.save_and_close},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canCancelTask",{get:function(){return this.actions.task_cancel},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canCompleteTask",{get:function(){return this.actions.task_complete},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canAcknowledgedTask",{get:function(){return this.actions.task_acknowledged},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canRequestAction",{get:function(){return this.actions.add_request},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canAddSubTask",{get:function(){return this.actions.add_subtask},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"canDelete",{get:function(){return this.actions.delete_document},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"hasRequests",{get:function(){return this.task.hasRequests},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"hasSubTasks",{get:function(){return this.task.hasSubtasks},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"hasACL",{get:function(){return this.task.id&&this.task.acl},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"showComments",{get:function(){return this.hasFutureComments&&!this.isNew},enumerable:!0,configurable:!0}),Object.defineProperty(TaskComponent.prototype,"hasFutureComments",{get:function(){return this.FEATURE_FLAGS.comments},enumerable:!0,configurable:!0}),TaskComponent.prototype.copyValueFromTask=function(t){this.task.title=t.title,this.task.priority=t.priority,this.task.startDate=t.startDate,this.task.dueDate=t.dueDate,this.task.tagIds=t.tagIds},TaskComponent.prototype.togglePropertyTab=function(){this.showPropertyTab=!0,this.showStreamTab=!1,this.showObserversTab=!1,this.showACLTab=!1},TaskComponent.prototype.toggleStreamTab=function(){this.showStreamTab=!0,this.showPropertyTab=!1,this.showObserversTab=!1,this.showACLTab=!1},TaskComponent.prototype.toggleObserversTab=function(){
this.showObserversTab=!0,this.showPropertyTab=!1,this.showStreamTab=!1,this.showACLTab=!1},TaskComponent.prototype.toggleACLTab=function(){this.showACLTab=!0,this.showStreamTab=!1,this.showPropertyTab=!1,this.showObserversTab=!1},TaskComponent.prototype.saveTask=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_document_save")).show();this.taskService.saveTask(this.task).subscribe(function(n){e.set({type:"success",message:n.message}).remove(1500),t.close()},function(n){e.remove(),t.handleXhrError(n),t.handleValidationError(n)})},TaskComponent.prototype.completeTask=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_process")).show();this.taskService.completeTask(this.task).subscribe(function(n){e.set({type:"success",message:n.message}).remove(1500),t.close()},function(n){e.remove(),t.handleXhrError(n)})},TaskComponent.prototype.cancelTask=function(){this.showTaskCancelDialog=!0},TaskComponent.prototype.doCancelTaskRequest=function(t){var e=this,n=this.notifyService.process(this.translate.instant("wait_while_process")).show();this.taskService.cancelTask(this.task,t).subscribe(function(t){n.set({type:"success",message:t.message}).remove(1500),e.close()},function(t){n.remove(),e.handleXhrError(t)})},TaskComponent.prototype.acknowledgedTask=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_process")).show();this.taskService.acknowledgedTask(this.task).subscribe(function(n){e.set({type:"success",message:n.message}).remove(1500),t.close()},function(n){e.remove(),t.handleXhrError(n)})},TaskComponent.prototype.deleteTask=function(){var t=this;this.taskService.deleteTask([this.task]).subscribe(function(e){t.close()},function(e){t.handleXhrError(e)})},TaskComponent.prototype.addSubtask=function(){this.router.navigate(["/task","new"],{queryParams:{parentTaskId:this.task.id}})},TaskComponent.prototype.loadComments=function(t){var e=this;void 0===t&&(t=1),this.taskService.fetchComments(this.task,t).subscribe(function(t){e.store.dispatch({type:c.e.FETCH_TASK_COMMENTS_FULFILLED,payload:t})})},TaskComponent.prototype.saveComment=function(t){var e=this;this.taskService.saveComment(this.task,t).subscribe(function(t){e.loadComments(1)})},TaskComponent.prototype.deleteComment=function(t){var e=this;this.taskService.deleteComment(t).subscribe(function(t){e.loadComments(1)})},TaskComponent.prototype.onConfirmTaskCancelDialog=function(t){this.doCancelTaskRequest(t)},TaskComponent.prototype.onCancelTaskCancelDialog=function(){this.showTaskCancelDialog=!1},TaskComponent.prototype.close=function(){this.router.navigateByUrl(this.redirectUrl)},TaskComponent.prototype.handleValidationError=function(t){var e={};if(t.validation){this.isValid=!1;for(var n=0,r=t.validation.errors;n<r.length;n++){var o=r[n];e[o.field]={message:o.message,error:o.error}}}this.errors=e},TaskComponent.prototype.handleXhrError=function(t){this.notifyService.error(t.message).show().remove(3e3)},TaskComponent.prototype.newRequest=function(){this.router.navigate(["/requests","new"],{queryParams:{task:this.task.id}})},TaskComponent.prototype.onSendRequest=function(t){var e=t.requestSendSuccess;e&&this.close()},TaskComponent.prototype.setStatus=function(t){this.task.status=t,this.validateForm()},TaskComponent.prototype.setPriority=function(t){this.task.priority=t,this.validateForm()},TaskComponent.prototype.setProject=function(t){this.task.projectId=t.id,this.task.id||this.taskObsManualyChanged||(this.task.observerUserIds=t.observerUserIds),this.validateForm()},TaskComponent.prototype.setTaskType=function(t){this.task.taskTypeId=t.id,this.validateForm()},TaskComponent.prototype.setAssigneeUser=function(t){this.task.assigneeUserId=t.userID,this.validateForm()},TaskComponent.prototype.setStartDate=function(t){this.task.startDate=t,this.validateForm()},TaskComponent.prototype.setDueDate=function(t){this.task.dueDate=t,this.validateForm()},TaskComponent.prototype.updateTaskBody=function(t){this.task.body=t,this.validateForm()},TaskComponent.prototype.setTags=function(t){this.task.tagIds=t.map(function(t){return t.id}),this.validateForm()},TaskComponent.prototype.setObserver=function(t){this.taskObsManualyChanged=!0,this.task.observerUserIds=t.map(function(t){return t.userID})},TaskComponent.prototype.addAttachment=function(t){var e=this,r=new u.b;r.realFileName=t.response.files[0],this.task.attachments||(this.task.attachments=[]),this.task.fsid||(this.task.fsid=""+Date.now()),t.files[0].type.match("image.*")?n.i(p.e)(t.files[0],function(t){r.base64=t.target.result,e.task.attachments.push(r)}):this.task.attachments.push(r)},TaskComponent.prototype.deleteAttachment=function(t){var e=this;this.taskService.deleteTaskAttachment(this.task,t).subscribe(function(n){e.task.attachments=e.task.attachments.filter(function(e){return e.id!=t.id})})},TaskComponent.prototype.validateForm=function(t){for(var e in this.errors)this.task[e]&&(this.errors[e]=!1);var n=!0;for(var e in this.errors)if(this.errors[e]!==!1){n=!1;break}this.isValid=n},TaskComponent=d([n.i(r.Component)({selector:"task",template:n(803)}),f("design:paramtypes",[i.a,o.a,o.b,s.TranslateService,c.e,l.e,a.b])],TaskComponent)}()},512:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(16),s=n(515),a=n(59),c=n(119);n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function TasksComponent(t,e,n,r,o,i){this.store=t,this.router=e,this.route=n,this.envActions=r,this.taskActions=o,this.taskService=i,this.tasks=[],this.embedded=!1,this.selectable=!0,this.headerVisible=!0,this.titleVisible=!0,this.actionsVisible=!0,this.captionsVisible=!0,this.subs=[],this.meta={},this.keyWord="",this.expandedIds=[],this.filter={},this.loading=!0,this.params={},this.taskFor="",this.projectId="",this.init=!1}return TasksComponent.prototype.ngOnInit=function(){var t=this;return this.embedded?(this.loading=!1,void this.subs.push(this.store.select("tasks").subscribe(function(e){e&&(t.expandedIds=e.expandedIds)}))):(this.subs.push(this.store.select("environment").subscribe(function(e){t.init?(t.keyWord!=e.keyWord&&t.loadData({keyWord:e.keyWord}),t.keyWord=e.keyWord):(t.store.dispatch(t.envActions.resetSearch()),t.init=!0)})),this.subs.push(this.store.select("tasks").subscribe(function(e){e&&(t.tasks=e.tasks,t.meta=e.meta,t.filter=e.filter,t.expandedIds=e.expandedIds,t.loading=e.loading)})),void this.subs.push(this.route.params.subscribe(function(e){switch(t.taskFor=e.for,t.projectId=e.projectId,t.taskFor){case"inbox":t.title="tasks_assigned_to_me";break;case"my":t.title="my_tasks";break;default:t.title="tasks"}var n="";n=t.projectId?"/projects/"+t.projectId+"/tasks":t.taskFor?"/tasks/"+t.taskFor:"/tasks",t.store.dispatch(t.envActions.setRedirectUrl(n)),t.loadData(Object.assign({},e,t.filter,{page:t.meta.page}))})))},TasksComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},TasksComponent.prototype.loadData=function(t){var e=this;this.loading=!0,this.params=Object.assign({},t,{for:this.taskFor,projectId:this.projectId}),this.store.dispatch(this.taskActions.fetchTasks()),this.taskService.fetchTasks(this.params).subscribe(function(t){e.store.dispatch(e.taskActions.fetchTasksFulfilled(t.tasks,t.meta))},function(t){return e.store.dispatch(e.taskActions.fetchTasksFailed(t))})},TasksComponent.prototype.refresh=function(){this.loadData(this.params)},TasksComponent.prototype.goToPage=function(t){this.loadData(Object.assign({},t,this.filter))},TasksComponent.prototype.changeFilter=function(t){this.filter=t,this.store.dispatch(this.taskActions.setFilter(t)),this.loadData(t)},TasksComponent.prototype.toggleExpanded=function(t,e){e.preventDefault(),e.stopPropagation(),this.store.dispatch(this.taskActions.toggleExpanded(t))},TasksComponent.prototype.newTask=function(){var t={};this.projectId&&(t.projectId=this.projectId),this.router.navigate(["/task","new"],{queryParams:t})},TasksComponent.prototype.deleteTask=function(t){this.taskService.deleteTask([t]).subscribe()},l([n.i(r.Input)(),u("design:type",Array)],TasksComponent.prototype,"tasks",void 0),l([n.i(r.Input)(),u("design:type",Boolean)],TasksComponent.prototype,"embedded",void 0),l([n.i(r.Input)(),u("design:type",Boolean)],TasksComponent.prototype,"selectable",void 0),l([n.i(r.Input)(),u("design:type",Boolean)],TasksComponent.prototype,"headerVisible",void 0),l([n.i(r.Input)(),u("design:type",Boolean)],TasksComponent.prototype,"titleVisible",void 0),l([n.i(r.Input)(),u("design:type",Boolean)],TasksComponent.prototype,"actionsVisible",void 0),l([n.i(r.Input)(),u("design:type",Boolean)],TasksComponent.prototype,"captionsVisible",void 0),TasksComponent=l([n.i(r.Component)({selector:"tasks",template:n(804),host:{"[class.view]":"true","[class.load]":"loading"}}),u("design:paramtypes",[i.a,o.a,o.b,c.a,a.e,s.a])],TasksComponent)}()},513:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(50),s=n(169),a=n(16),c=n(39),l=(n.n(c),n(120)),u=n(84),p=n(256),d=n(74);n.d(e,"a",function(){return v});var f=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),v=function(){function UserProfileComponent(t,e,n,r,o,i,s,a){var c=this;this.store=t,this.http=e,this.router=n,this.formBuilder=r,this.ng2Translate=o,this.appService=i,this.translateService=s,this.notifyService=a,this.user=null,this.changePassword=!1,this.language="RUS",this.pageSizes=[10,20,30,40,50],this.errors={},this.sub=this.store.select("authed").subscribe(function(t){c.user=t.userProfile,c.pageSize=t.pageSize,c.language=t.language,c.languages=t.languages,c.user&&(c.form=r.group({login:[c.user.login],pwd:[],pwd_new:[],pwd_confirm:[],email:[c.user.email]}))})}return UserProfileComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},UserProfileComponent.prototype.toggleChangePassword=function(){this.changePassword=!this.changePassword},UserProfileComponent.prototype.updateUserProfile=function(){var t=this,e=this.notifyService.process(this.ng2Translate.instant("wait_while_document_save")).show();this.appService.updateUserProfile(this.form.value).subscribe(function(n){t.errors={},e.remove(),t.router.navigate(["/tasks"])},function(n){if(t.errors={},e.remove(),n.validation)for(var r=0,o=n.validation.errors;r<o.length;r++){var i=o[r];t.errors[i.field]=i.message}})},UserProfileComponent.prototype.changeLang=function(t){var e=this,r=t.target.value,o="/Staff/p?id=change-session-val-action&lang="+r;return this.http.post(o,{},{headers:m}).map(function(t){return t.json()}).subscribe(function(t){e.ng2Translate.reloadLang(r).subscribe(function(t){e.ng2Translate.use(r)}),n.i(d.f)("lang",r,365)})},UserProfileComponent.prototype.close=function(){window.history.back()},UserProfileComponent=f([n.i(r.Component)({selector:"[user-profile]",template:n(805),providers:[s.a]}),h("design:paramtypes",[a.a,o.Http,i.a,s.a,c.TranslateService,u.a,p.a,l.b])],UserProfileComponent)}()},514:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function User(){this.id="",this.name="@anonymous"}return User}()},515:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(39),s=(n.n(i),n(84)),a=n(74);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),p=function(){function TaskService(t,e,n){this.http=t,this.translate=e,this.appService=n}return TaskService.prototype.getTaskPriorityTypes=function(){return this.translate.get(["urgent","high","medium","normal"]).map(function(t){return[{value:"NORMAL",text:t.normal,default:!0},{value:"MEDIUM",text:t.medium},{value:"HIGH",text:t.high},{value:"URGENT",text:t.urgent}]})},TaskService.prototype.fetchTasks=function(t){var e=this;return void 0===t&&(t={}),this.http.get("p?id=task-view",{headers:u,search:n.i(a.d)(t)}).map(function(t){return t.json().objects[0]}).map(function(t){return{tasks:t.list,meta:t.meta}}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.fetchTaskById=function(t,e){var r=this;void 0===e&&(e={});var o="p?id=task-form&taskId="+("new"!==t?t:"");return this.http.get(o,{headers:u,search:n.i(a.d)(e)}).map(function(t){var e=t.json(),r=n.i(a.a)(e.objects),o=r.task;o.id||(o.id=""),r.fsid&&(o.fsid=r.fsid),r.ACL&&(o.acl=r.ACL),r.attachment&&(o.attachments=r.attachment.list);var i;return e.data&&(i=e.data.parentTask),{task:o,parentTask:i,actions:r.actions}}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.saveTask=function(t){var e=this,r="p?id=task-form&taskId="+(t.id?t.id:"");return this.http.post(r,n.i(a.b)(t),{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.completeTask=function(t){var e=this;return this.http.put("p?id=task-form&taskId="+t.id+"&_action=complete&fsid="+t.fsid,"",{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.cancelTask=function(t,e){var r=this;return this.http.put("p?id=task-form&taskId="+t.id+"&_action=cancel&fsid="+t.fsid+"&comment="+e,"",{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.acknowledgedTask=function(t){var e=this;return this.http.put("p?id=task-form&taskId="+t.id+"&_action=acknowledged&fsid="+t.fsid,"",{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.deleteTask=function(t){var e=this;return this.http.delete("p?id=task-view&taskIds="+t.map(function(t){return t.id}).join(","),{headers:u}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.deleteTaskAttachment=function(t,e){var n=this;return this.http.delete("p?id=task-form&taskId="+t.id+"&attachmentId="+e.id+"&fsid="+t.fsid,{headers:u}).catch(function(t){return n.appService.handleError(t)})},TaskService.prototype.fetchTaskRequests=function(t,e){var r=this;return void 0===e&&(e=0),this.http.get("p?id=task-requests&taskId="+t.id,{headers:u}).map(function(t){return n.i(a.a)(t.json().objects).request||{}}).map(function(t){return{requests:t.list,meta:t.meta}}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.fetchRequestById=function(t){var e=this,r="p?id=task-requests&requestId="+("new"!==t?t:"");return this.http.get(r,{headers:u}).map(function(t){var e=n.i(a.a)(t.json().objects),r=e.request;return e.fsid&&(r.fsid=e.fsid),e.ACL&&(r.acl=e.ACL),e.attachment&&(r.attachments=e.attachment.list),{request:r,actions:e.actions}}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.sendTaskRequest=function(t){var e=this,r="p?id=task-requests&taskId="+t.taskId;return this.http.post(r,n.i(a.b)(t),{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.doAcceptRequest=function(t,e){var r=this,o="p?id=task-requests&requestId="+t.id+"&_action=accept&fsid="+t.fsid+"&"+n.i(a.b)(e);return this.http.put(o,"",{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.doDeclineRequest=function(t,e){var r=this,o="p?id=task-requests&requestId="+t.id+"&comment="+e+"&_action=decline&fsid="+t.fsid;return this.http.put(o,"",{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.deleteRequest=function(t){var e=this;return this.http.delete("p?id=task-requests&requestId="+t.id,{headers:u}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.deleteRequestAttachment=function(t,e){var n=this;return this.http.delete("p?id=task-requests&requestId="+t.id+"&attachmentId="+e.id+"&fsid="+t.fsid,{headers:u}).catch(function(t){return n.appService.handleError(t)})},TaskService.prototype.fetchComments=function(t,e){var r=this;return void 0===e&&(e=0),this.http.get("p?id=comments&taskId="+t.id,{headers:u}).map(function(t){return n.i(a.a)(t.json().objects).comment||{}}).map(function(t){return{comments:t.list,meta:t.meta}}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.saveComment=function(t,e){var r=this,o="p?id=comments&taskId="+t.id+(e.id?"&commentId="+e.id:"");return this.http.post(o,n.i(a.b)(e),{headers:u}).map(function(t){return n.i(a.c)(t)}).catch(function(t){return r.appService.handleError(t)})},TaskService.prototype.deleteComment=function(t){var e=this;return this.http.delete("p?id=comments&commentId="+t.id,{headers:u}).catch(function(t){return e.appService.handleError(t)})},TaskService.prototype.deleteCommentAttachment=function(t,e){var n=this;return this.http.delete("p?id=comments&commentId="+t.id+"&attachmentId="+e.id+"&fsid="+t.fsid,{headers:u}).catch(function(t){return n.appService.handleError(t)})},TaskService=c([n.i(r.Injectable)(),l("design:paramtypes",[o.Http,i.TranslateService,s.a])],TaskService)}()},516:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function DropdownToggleComponent(){this.toggle=new r.EventEmitter}return DropdownToggleComponent.prototype.onClick=function(t){t.preventDefault(),this.toggle.emit(t)},o([n.i(r.HostBinding)("class.dropdown-toggle"),i("design:type",Object)],DropdownToggleComponent.prototype,"true",void 0),o([n.i(r.HostListener)("click",["$event"]),i("design:type",Function),i("design:paramtypes",[MouseEvent]),i("design:returntype",void 0)],DropdownToggleComponent.prototype,"onClick",null),DropdownToggleComponent=o([n.i(r.Component)({selector:"[dropdown-toggle]",template:"<ng-content></ng-content>"}),i("design:paramtypes",[])],DropdownToggleComponent)}()},517:function(t,e,n){"use strict";var r=n(0),o=n(518);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function NotificationService(){this.emitter=new r.EventEmitter}return NotificationService.prototype.getEmitter=function(){return this.emitter},NotificationService.prototype.info=function(t){return this.add({type:"info",message:t})},NotificationService.prototype.success=function(t){return this.add({type:"success",message:t})},NotificationService.prototype.error=function(t){return this.add({type:"error",message:t})},NotificationService.prototype.process=function(t){return this.add({type:"process",message:t})},NotificationService.prototype.add=function(t){var e=new o.a(t.type,t.message);return this.emitter.emit({command:"add",notify:e}),e},NotificationService.prototype.removeAll=function(){this.emitter.emit({command:"cleanAll"})},NotificationService=i([n.i(r.Injectable)(),s("design:paramtypes",[])],NotificationService)}()},518:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return o});var o=function(){function Notification(t,e){this.emitter=new r.EventEmitter,this.display=!1,this.type=t,this.message=e}return Notification.prototype.getEmitter=function(){return this.emitter},Notification.prototype.show=function(){return this.display=!0,this},Notification.prototype.hide=function(){return this.display=!1,this},Notification.prototype.set=function(t){for(var e in t)"message"===e?this.message=t[e]:"type"===e&&(this.type=t[e]);return this},Notification.prototype.dismiss=function(){"click"===this.delay&&this.emitter.emit({dismiss:!0,notify:this,promise:this.promise})},Notification.prototype.remove=function(t){var e=this;return void 0===t&&(t=0),this.delay=t,"click"===t||(t>0?setTimeout(function(){e.emitter.emit({dismiss:!0,notify:e,promise:e.promise})},t):this.emitter.emit({dismiss:!0,notify:this,promise:this.promise})),this.promise},Notification}()},519:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function Tab(){this.active=!1,this.pinned=!1,this.select=new r.EventEmitter}return o([n.i(r.Input)("tabTitle"),i("design:type",String)],Tab.prototype,"title",void 0),o([n.i(r.Input)(),i("design:type",String)],Tab.prototype,"icon",void 0),o([n.i(r.Input)(),i("design:type",Boolean)],Tab.prototype,"active",void 0),o([n.i(r.Input)(),i("design:type",Boolean)],Tab.prototype,"pinned",void 0),o([n.i(r.Output)(),i("design:type",Object)],Tab.prototype,"select",void 0),Tab=o([n.i(r.Component)({selector:"tab",template:'\n      <div [hidden]="!active && !pinned">\n        <ng-content></ng-content>\n      </div>\n    '}),i("design:paramtypes",[])],Tab)}()},52:function(t,e,n){"use strict";function shallowEqualArrays(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!shallowEqual(t[n],e[n]))return!1;return!0}function shallowEqual(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o,i=0;i<n.length;i++)if(o=n[i],t[o]!==e[o])return!1;return!0}function flatten(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}function last(t){return t.length>0?t[t.length-1]:null}function merge(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function forEach(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function waitForMap(t,e){var r=[],o={};if(forEach(t,function(t,n){n===p.a&&r.push(l.map.call(e(n,t),function(t){return o[n]=t,t}))}),forEach(t,function(t,n){n!==p.a&&r.push(l.map.call(e(n,t),function(t){return o[n]=t,t}))}),r.length>0){var a=s.concatAll.call(i.of.apply(void 0,r)),u=c.last.call(a);return l.map.call(u,function(){return o})}return n.i(i.of)(o)}function andObservables(t){var e=u.mergeAll.call(t);return a.every.call(e,function(t){return t===!0})}function wrapIntoObservable(t){return t instanceof r.Observable?t:t instanceof Promise?n.i(o.fromPromise)(t):n.i(i.of)(t)}var r=n(3),o=(n.n(r),n(247)),i=(n.n(o),n(100)),s=(n.n(i),n(491)),a=(n.n(s),n(493)),c=(n.n(a),n(830)),l=(n.n(c),n(83)),u=(n.n(l),n(165)),p=(n.n(u),n(51));e.h=shallowEqualArrays,e.d=shallowEqual,e.a=flatten,e.i=last,e.g=merge,e.c=forEach,e.e=waitForMap,e.f=andObservables,e.b=wrapIntoObservable},539:function(t,e,n){"use strict";var r=n(121),o=n(0),i=n(28),s=n(50),a=n(169),c=n(39),l=(n.n(c),n(918)),u=n(857),p=n(863),d=n(862),f=n(506),h=n(509),m=n(508),v=n(512),g=n(511),y=n(876),b=n(875),C=n(874),_=n(510),T=n(864),k=n(860),E=n(859),R=n(856),S=n(513),A=n(507),w=n(866),j=n(858),I=n(861),O=n(889),P=n(855),D=n(73),L=n(924),F=n(59),U=n(256),x=n(505);n.d(e,"a",function(){return H});var M=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},N=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},H=function(){function AppModule(){}return AppModule=M([n.i(o.NgModule)({bootstrap:[u.a],declarations:[u.a,p.a,d.a,f.a,h.a,m.a,v.a,g.a,y.a,b.a,C.a,_.a,T.a,k.a,E.a,R.a,S.a,A.a,I.a,j.a,w.a,w.b,w.c,w.d,w.e,w.f,w.g,w.h,O.a,O.b,O.c,O.d,O.e,O.f],imports:[r.b,i.HttpModule,s.c.forRoot(P.a,{useHash:!0}),a.b,a.c,c.TranslateModule.forRoot({provide:c.TranslateLoader,useFactory:function(t){return new q(t)},deps:[U.a]}),l.a],providers:[D.g,L.a,F.f,x.a]}),N("design:paramtypes",[])],AppModule)}(),q=function(){function CustomTranslateLoader(t){this.translateService=t}return CustomTranslateLoader.prototype.getTranslation=function(t){return this.translateService.fetchTranslations()},CustomTranslateLoader}();n.i(o.enableProdMode)()},59:function(t,e,n){"use strict";var r=n(119),o=n(503),i=n(168),s=n(854),a=n(504),c=n(853);n.d(e,"f",function(){return l}),n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a}),n.d(e,"e",function(){return s.a}),n.d(e,"c",function(){return a.a}),n.d(e,"d",function(){return c.a});var l=[r.a,o.a,i.a,s.a,a.a,c.a]},637:function(t,e,n){"use strict";function noMatch(t){return new r.Observable(function(e){return e.error(new v(t))})}function absoluteRedirect(t){return new r.Observable(function(e){return e.error(new g(t))})}function canLoadFails(t){return new r.Observable(function(e){return e.error(new f.b("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function applyRedirects(t,e,n,r){return new y(t,e,n,r).apply()}function runGuards(t,e){var r=e.canLoad;if(!r||0===r.length)return n.i(i.of)(!0);var s=l.map.call(n.i(o.from)(r),function(r){var o=t.get(r);return o.canLoad?n.i(m.b)(o.canLoad(e)):n.i(m.b)(o(e))});return n.i(m.f)(s)}function match(t,e,n){var r={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};for(var o=e.path,i=o.split("/"),s={},a=[],c=0,l=0;l<i.length;++l){if(c>=n.length)return r;var u=n[c],p=i[l],d=p.startsWith(":");if(!d&&p!==u.path)return r;d&&(s[p.substring(1)]=u),a.push(u),c++}return"full"===e.pathMatch&&(t.hasChildren()||c<n.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:a,lastChild:c,positionalParamSegments:s}}function applyRedirectCommands(t,e,n){var r=e.startsWith("/")?e.substring(1):e;return""===r?[]:createSegments(e,r.split("/"),t,n)}function createSegments(t,e,n,r){return e.map(function(e){return e.startsWith(":")?findPosParam(e,r,t):findOrCreateSegment(e,n)})}function findPosParam(t,e,n){var r=t.substring(1),o=e[r];if(!o)throw new Error("Cannot redirect to '"+n+"'. Cannot find '"+t+"'.");return o}function findOrCreateSegment(t,e){for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i.path===t)return e.splice(n),i;n++}return new h.c(t,{})}function split(t,e,n,r){if(n.length>0&&containsEmptyPathRedirectsWithNamedOutlets(t,n,r)){var o=new h.a(e,createChildrenForEmptySegments(r,new h.a(n,t.children)));return{segmentGroup:mergeTrivialChildren(o),slicedSegments:[]}}if(0===n.length&&containsEmptyPathRedirects(t,n,r)){var o=new h.a(t.segments,addEmptySegmentsToChildrenIfNeeded(t,n,r,t.children));return{segmentGroup:mergeTrivialChildren(o),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function mergeTrivialChildren(t){if(1===t.numberOfChildren&&t.children[f.a]){var e=t.children[f.a];return new h.a(t.segments.concat(e.segments),e.children)}return t}function addEmptySegmentsToChildrenIfNeeded(t,e,r,o){for(var i={},s=0,a=r;s<a.length;s++){var c=a[s];emptyPathRedirect(t,e,c)&&!o[getOutlet(c)]&&(i[getOutlet(c)]=new h.a([],{}))}return n.i(m.g)(o,i)}function createChildrenForEmptySegments(t,e){var n={};n[f.a]=e;for(var r=0,o=t;r<o.length;r++){var i=o[r];""===i.path&&getOutlet(i)!==f.a&&(n[getOutlet(i)]=new h.a([],{}))}return n}function containsEmptyPathRedirectsWithNamedOutlets(t,e,n){return n.filter(function(n){return emptyPathRedirect(t,e,n)&&getOutlet(n)!==f.a}).length>0}function containsEmptyPathRedirects(t,e,n){return n.filter(function(n){return emptyPathRedirect(t,e,n)}).length>0}function emptyPathRedirect(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function getOutlet(t){return t.outlet?t.outlet:f.a}var r=n(3),o=(n.n(r),n(488)),i=(n.n(o),n(100)),s=(n.n(i),n(489)),a=(n.n(s),n(491)),c=(n.n(a),n(829)),l=(n.n(c),n(83)),u=(n.n(l),n(166)),p=(n.n(u),n(251)),d=(n.n(p),n(153)),f=n(51),h=n(76),m=n(52);e.a=applyRedirects;var v=function(){function NoMatch(t){void 0===t&&(t=null),this.segmentGroup=t}return NoMatch}(),g=function(){function AbsoluteRedirect(t){this.segments=t}return AbsoluteRedirect}(),y=function(){function ApplyRedirects(t,e,n,r){this.injector=t,this.configLoader=e,this.urlTree=n,this.config=r,this.allowRedirects=!0}return ApplyRedirects.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,f.a),n=l.map.call(e,function(e){return t.createUrlTree(e)});return s._catch.call(n,function(e){if(e instanceof g){t.allowRedirects=!1;var n=new h.a([],(r={},r[f.a]=new h.a(e.segments,{}),r));return t.match(n)}throw e instanceof v?t.noMatchError(e):e;var r})},ApplyRedirects.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.injector,this.config,t,f.a),r=l.map.call(n,function(t){return e.createUrlTree(t)});return s._catch.call(r,function(t){throw t instanceof v?e.noMatchError(t):t})},ApplyRedirects.prototype.noMatchError=function(t){return new Error("Cannot match any routes: '"+t.segmentGroup+"'")},ApplyRedirects.prototype.createUrlTree=function(t){var e=t.segments.length>0?new h.a([],(n={},n[f.a]=t,n)):t;return new h.b(e,this.urlTree.queryParams,this.urlTree.fragment);var n},ApplyRedirects.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?l.map.call(this.expandChildren(t,e,n),function(t){return new h.a([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},ApplyRedirects.prototype.expandChildren=function(t,e,r){var o=this;return n.i(m.e)(r.children,function(n,r){return o.expandSegmentGroup(t,e,r,n)})},ApplyRedirects.prototype.expandSegment=function(t,e,r,o,u,d){var f=this,h=i.of.apply(void 0,r),m=l.map.call(h,function(a){
var c=f.expandSegmentAgainstRoute(t,e,r,a,o,u,d);return s._catch.call(c,function(t){if(t instanceof v)return n.i(i.of)(null);throw t})}),g=a.concatAll.call(m),y=c.first.call(g,function(t){return!!t});return s._catch.call(y,function(t,n){throw t instanceof p.EmptyError?new v(e):t})},ApplyRedirects.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,s){return getOutlet(r)!==i?noMatch(e):void 0===r.redirectTo||s&&this.allowRedirects?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):noMatch(e)},ApplyRedirects.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},ApplyRedirects.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t){var e=applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?absoluteRedirect(e):n.i(i.of)(new h.a(e,{}))},ApplyRedirects.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var s=match(e,r,o),a=s.matched,c=s.consumedSegments,l=s.lastChild,u=s.positionalParamSegments;if(!a)return noMatch(e);var p=applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?absoluteRedirect(p):this.expandSegment(t,e,n,p.concat(o.slice(l)),i,!1)},ApplyRedirects.prototype.matchSegmentAgainstRoute=function(t,e,r,o){var s=this;if("**"===r.path)return n.i(i.of)(new h.a(o,{}));var a=match(e,r,o),c=a.matched,p=a.consumedSegments,d=a.lastChild;if(!c)return noMatch(e);var m=o.slice(d),v=this.getChildConfig(t,r);return u.mergeMap.call(v,function(t){var r=t.injector,o=t.routes,a=split(e,p,m,o),c=a.segmentGroup,u=a.slicedSegments;if(0===u.length&&c.hasChildren()){var d=s.expandChildren(r,o,c);return l.map.call(d,function(t){return new h.a(p,t)})}if(0===o.length&&0===u.length)return n.i(i.of)(new h.a(p,{}));var d=s.expandSegment(r,c,o,u,f.a,!0);return l.map.call(d,function(t){return new h.a(p.concat(t.segments),t.children)})})},ApplyRedirects.prototype.getChildConfig=function(t,e){var r=this;return e.children?n.i(i.of)(new d.a(e.children,t,null)):e.loadChildren?u.mergeMap.call(runGuards(t,e),function(o){return o?e._loadedConfig?n.i(i.of)(e._loadedConfig):l.map.call(r.configLoader.load(t,e.loadChildren),function(t){return e._loadedConfig=t,t}):canLoadFails(e)}):n.i(i.of)(new d.a([],t,null))},ApplyRedirects}()},638:function(t,e,n){"use strict";function validateConfig(t){t.forEach(validateNode)}function validateNode(t){if(Array.isArray(t))throw new Error("Invalid route configuration: Array cannot be specified");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and component cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': one of the following must be provided (component or redirectTo or children or loadChildren)");if(void 0===t.path)throw new Error("Invalid route configuration: routes must have path specified");if(t.path.startsWith("/"))throw new Error("Invalid route configuration of route '"+t.path+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){var e="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error("Invalid route configuration of route '{path: \""+t.path+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. "+e)}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+t.path+"': pathMatch can only be set to 'prefix' or 'full'")}e.a=validateConfig},639:function(t,e,n){"use strict";function createRouterState(t,e){var n=createNode(t._root,e?e._root:void 0);return new o.a(n,t)}function createNode(t,e){if(e&&equalRouteSnapshots(e.value.snapshot,t.value)){var n=e.value;n._futureSnapshot=t.value;var r=createOrReuseChildren(t,e);return new i.b(n,r)}var n=createActivatedRoute(t.value),r=t.children.map(function(t){return createNode(t)});return new i.b(n,r)}function createOrReuseChildren(t,e){return t.children.map(function(t){for(var n=0,r=e.children;n<r.length;n++){var o=r[n];if(equalRouteSnapshots(o.value.snapshot,t.value))return createNode(t,o)}return createNode(t)})}function createActivatedRoute(t){return new o.b(new r.BehaviorSubject(t.url),new r.BehaviorSubject(t.params),new r.BehaviorSubject(t.queryParams),new r.BehaviorSubject(t.fragment),new r.BehaviorSubject(t.data),t.outlet,t.component,t)}function equalRouteSnapshots(t,e){return t._routeConfig===e._routeConfig}var r=n(117),o=(n.n(r),n(93)),i=n(223);e.a=createRouterState},640:function(t,e,n){"use strict";function createUrlTree(t,e,n,r,i){if(0===n.length)return tree(e.root,e.root,e,r,i);var s=normalizeCommands(n);if(validateCommands(s),navigateToRoot(s))return tree(e.root,new o.a([],{}),e,r,i);var a=findStartingPosition(s,e,t),c=a.processChildren?updateSegmentGroupChildren(a.segmentGroup,a.index,s.commands):updateSegmentGroup(a.segmentGroup,a.index,s.commands);return tree(a.segmentGroup,c,e,r,i)}function validateCommands(t){if(t.isAbsolute&&t.commands.length>0&&isMatrixParams(t.commands[0]))throw new Error("Root segment cannot have matrix parameters");var e=t.commands.filter(function(t){return"object"==typeof t&&void 0!==t.outlets});if(e.length>0&&e[0]!==t.commands[t.commands.length-1])throw new Error("{outlets:{}} has to be the last command")}function isMatrixParams(t){return"object"==typeof t&&void 0===t.outlets&&void 0===t.segmentPath}function tree(t,e,n,r,i){return n.root===t?new o.b(e,stringify(r),i):new o.b(replaceSegment(n.root,t,e),stringify(r),i)}function replaceSegment(t,e,r){var s={};return n.i(i.c)(t.children,function(t,n){t===e?s[n]=r:s[n]=replaceSegment(t,e,r)}),new o.a(t.segments,s)}function navigateToRoot(t){return t.isAbsolute&&1===t.commands.length&&"/"==t.commands[0]}function normalizeCommands(t){if("string"==typeof t[0]&&1===t.length&&"/"==t[0])return new s(!0,0,t);for(var e=0,r=!1,o=[],a=function(s){var a=t[s];if("object"==typeof a&&void 0!==a.outlets){var c={};return n.i(i.c)(a.outlets,function(t,e){"string"==typeof t?c[e]=t.split("/"):c[e]=t}),o.push({outlets:c}),"continue"}if("object"==typeof a&&void 0!==a.segmentPath)return o.push(a.segmentPath),"continue";if("string"!=typeof a)return o.push(a),"continue";if(0===s)for(var l=a.split("/"),u=0;u<l.length;++u){var p=l[u];0==u&&"."==p||(0==u&&""==p?r=!0:".."==p?e++:""!=p&&o.push(p))}else o.push(a)},c=0;c<t.length;++c)a(c);return new s(r,e,o)}function findStartingPosition(t,e,n){if(t.isAbsolute)return new a(e.root,!0,0);if(n.snapshot._lastPathIndex===-1)return new a(n.snapshot._urlSegment,!0,0);var r=isMatrixParams(t.commands[0])?0:1,o=n.snapshot._lastPathIndex+r;return createPositionApplyingDoubleDots(n.snapshot._urlSegment,o,t.numberOfDoubleDots)}function createPositionApplyingDoubleDots(t,e,n){for(var r=t,o=e,i=n;i>o;){if(i-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new a(r,!1,o-i)}function getPath(t){return""+t}function getOutlets(t){return"object"!=typeof t[0]?(e={},e[r.a]=t,e):void 0===t[0].outlets?(n={},n[r.a]=t,n):t[0].outlets;var e,n}function updateSegmentGroup(t,e,n){if(t||(t=new o.a([],{})),0===t.segments.length&&t.hasChildren())return updateSegmentGroupChildren(t,e,n);var r=prefixedWith(t,e,n),i=n.slice(r.lastIndex);return r.match&&0===i.length?new o.a(t.segments,{}):r.match&&!t.hasChildren()?createNewSegmentGroup(t,e,n):r.match?updateSegmentGroupChildren(t,0,i):createNewSegmentGroup(t,e,n)}function updateSegmentGroupChildren(t,e,r){if(0===r.length)return new o.a(t.segments,{});var s=getOutlets(r),a={};return n.i(i.c)(s,function(n,r){null!==n&&(a[r]=updateSegmentGroup(t.children[r],e,n))}),n.i(i.c)(t.children,function(t,e){void 0===s[e]&&(a[e]=t)}),new o.a(t.segments,a)}function prefixedWith(t,e,n){for(var r=0,o=e,i={match:!1,lastIndex:0};o<t.segments.length;){if(r>=n.length)return i;var s=t.segments[o],a=getPath(n[r]),c=r<n.length-1?n[r+1]:null;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!compare(a,c,s))return i;r+=2}else{if(!compare(a,{},s))return i;r++}o++}return{match:!0,lastIndex:r}}function createNewSegmentGroup(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var s=createNewSegmentChldren(n[i].outlets);return new o.a(r,s)}if(0===i&&isMatrixParams(n[0])){var a=t.segments[e];r.push(new o.c(a.path,n[0])),i++}else{var c=getPath(n[i]),l=i<n.length-1?n[i+1]:null;c&&l&&isMatrixParams(l)?(r.push(new o.c(c,stringify(l))),i+=2):(r.push(new o.c(c,{})),i++)}}return new o.a(r,{})}function createNewSegmentChldren(t){var e={};return n.i(i.c)(t,function(t,n){null!==t&&(e[n]=createNewSegmentGroup(new o.a([],{}),0,t))}),e}function stringify(t){var e={};return n.i(i.c)(t,function(t,n){return e[n]=""+t}),e}function compare(t,e,r){return t==r.path&&n.i(i.d)(e,r.parameters)}var r=n(51),o=n(76),i=n(52);e.a=createUrlTree;var s=function(){function NormalizedNavigationCommands(t,e,n){this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n}return NormalizedNavigationCommands}(),a=function(){function Position(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return Position}()},641:function(t,e,n){"use strict";var r=(n(222),n(347),n(348),n(152)),o=n(349),i=(n(154),n(93));n(51),n(76),n(642);n.d(e,"a",function(){return r.a}),n.d(e,"c",function(){return o.b}),n.d(e,"b",function(){return i.b})},642:function(t,e,n){"use strict";var r=n(153),o=n(349),i=n(52);({ROUTER_PROVIDERS:o.a,ROUTES:r.c,flatten:i.a})},643:function(t,e,n){"use strict";function recognize(t,e,n,r){return new d(t,e,n,r).recognize()}function sortActivatedRouteSnapshots(t){t.sort(function(t,e){return t.value.outlet===s.a?-1:e.value.outlet===s.a?1:t.value.outlet.localeCompare(e.value.outlet)})}function getChildConfig(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function match(t,e,r,o){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||r.length>0))throw new u;var i=o?o.params:{};return{consumedSegments:[],lastChild:0,parameters:i}}for(var s=e.path,a=s.split("/"),l={},p=[],d=0,f=0;f<a.length;++f){if(d>=r.length)throw new u;var h=r[d],m=a[f],v=m.startsWith(":");if(!v&&m!==h.path)throw new u;v&&(l[m.substring(1)]=h.path),p.push(h),d++}if("full"===e.pathMatch&&(t.hasChildren()||d<r.length))throw new u;var g=n.i(c.g)(l,p[p.length-1].parameters);return{consumedSegments:p,lastChild:d,parameters:g}}function checkOutletNameUniqueness(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}e[t.value.outlet]=t.value})}function getSourceSegmentGroup(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function getPathIndexShift(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function split(t,e,n,r){if(n.length>0&&containsEmptyPathMatchesWithNamedOutlets(t,n,r)){var o=new a.a(e,createChildrenForEmptyPaths(t,e,r,new a.a(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&containsEmptyPathMatches(t,n,r)){var o=new a.a(t.segments,addEmptyPathsToChildrenIfNeeded(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var o=new a.a(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function addEmptyPathsToChildrenIfNeeded(t,e,r,o){for(var i={},s=0,l=r;s<l.length;s++){var u=l[s];if(emptyPathMatch(t,e,u)&&!o[getOutlet(u)]){var p=new a.a([],{});p._sourceSegment=t,p._segmentIndexShift=t.segments.length,i[getOutlet(u)]=p}}return n.i(c.g)(o,i)}function createChildrenForEmptyPaths(t,e,n,r){var o={};o[s.a]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var i=0,c=n;i<c.length;i++){var l=c[i];if(""===l.path&&getOutlet(l)!==s.a){var u=new a.a([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,o[getOutlet(l)]=u}}return o}function containsEmptyPathMatchesWithNamedOutlets(t,e,n){return n.filter(function(n){return emptyPathMatch(t,e,n)&&getOutlet(n)!==s.a}).length>0}function containsEmptyPathMatches(t,e,n){return n.filter(function(n){return emptyPathMatch(t,e,n)}).length>0}function emptyPathMatch(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function getOutlet(t){return t.outlet?t.outlet:s.a}function getData(t){return t.data?t.data:{}}function getResolve(t){return t.resolve?t.resolve:{}}var r=n(3),o=(n.n(r),n(100)),i=(n.n(o),n(93)),s=n(51),a=n(76),c=n(52),l=n(223);e.a=recognize;var u=function(){function NoMatch(){}return NoMatch}(),p=function(){function InheritedFromParent(t,e,n,r,o){this.parent=t,this.snapshot=e,this.params=n,this.data=r,this.resolve=o}return Object.defineProperty(InheritedFromParent.prototype,"allParams",{get:function(){return this.parent?n.i(c.g)(this.parent.allParams,this.params):this.params},enumerable:!0,configurable:!0}),Object.defineProperty(InheritedFromParent.prototype,"allData",{get:function(){return this.parent?n.i(c.g)(this.parent.allData,this.data):this.data},enumerable:!0,configurable:!0}),InheritedFromParent.empty=function(t){return new InheritedFromParent(null,t,{},{},new i.c(null,{}))},InheritedFromParent}(),d=function(){function Recognizer(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return Recognizer.prototype.recognize=function(){try{var t=split(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,p.empty(null),s.a),a=new i.d([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},s.a,this.rootComponentType,null,this.urlTree.root,-1,i.c.empty),c=new l.b(a,e);return n.i(o.of)(new i.e(this.url,c))}catch(t){return new r.Observable(function(e){return e.error(t)})}},Recognizer.prototype.processSegmentGroup=function(t,e,n,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,0,e.segments,n,r)},Recognizer.prototype.processChildren=function(t,e,r){var o=this,i=n.i(a.d)(e,function(e,n){return o.processSegmentGroup(t,e,r,n)});return checkOutletNameUniqueness(i),sortActivatedRouteSnapshots(i),i},Recognizer.prototype.processSegment=function(t,e,n,r,o,i){for(var s=0,a=t;s<a.length;s++){var c=a[s];try{return this.processSegmentAgainstRoute(c,e,n,r,o,i)}catch(t){if(!(t instanceof u))throw t}}throw new u},Recognizer.prototype.processSegmentAgainstRoute=function(t,e,r,o,a,d){if(t.redirectTo)throw new u;if((t.outlet?t.outlet:s.a)!==d)throw new u;var f=new i.c(a.resolve,getResolve(t));if("**"===t.path){var h=o.length>0?n.i(c.i)(o).parameters:{},m=new i.d(o,Object.freeze(n.i(c.g)(a.allParams,h)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,n.i(c.g)(a.allData,getData(t)),d,t.component,t,getSourceSegmentGroup(e),getPathIndexShift(e)+o.length,f);return[new l.b(m,[])]}var v=match(e,t,o,a.snapshot),g=v.consumedSegments,y=v.parameters,b=v.lastChild,C=o.slice(b),_=getChildConfig(t),T=split(e,g,C,_),k=T.segmentGroup,E=T.slicedSegments,R=new i.d(g,Object.freeze(n.i(c.g)(a.allParams,y)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,n.i(c.g)(a.allData,getData(t)),d,t.component,t,getSourceSegmentGroup(e),getPathIndexShift(e)+g.length,f),S=t.component?p.empty(R):new p(a,R,y,getData(t),f);if(0===E.length&&k.hasChildren()){var A=this.processChildren(_,k,S);return[new l.b(R,A)]}if(0===_.length&&0===E.length)return[new l.b(R,[])];var A=this.processSegment(_,k,r+b,E,S,s.a);return[new l.b(R,A)]},Recognizer}()},644:function(t,e){"use strict";e.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){if(0===t.length)return e;var n=t[t.length-1],r=t.slice(0,-1);return r.reduceRight(function(t,e){return e(t)},n(e))}}},72:function(t,e,n){"use strict";var r=n(880),o=(n(879),n(877)),i=(n(881),n(886),n(884),n(885),n(878)),s=(n(883),n(882)),a=n(514);n.d(e,"d",function(){return r.a}),n.d(e,"b",function(){return o.a}),n.d(e,"c",function(){return i.a}),n.d(e,"e",function(){return s.a}),n.d(e,"a",function(){return a.a})},73:function(t,e,n){"use strict";var r=n(84),o=n(256),i=n(254),s=n(515),a=n(901),c=n(255),l=n(902);n.d(e,"g",function(){return u}),n.d(e,"a",function(){return r.a}),n.d(e,"d",function(){return i.a}),n.d(e,"e",function(){return s.a}),n.d(e,"b",function(){return a.a}),n.d(e,"c",function(){return c.a}),n.d(e,"f",function(){return l.a});var u=[r.a,o.a,i.a,s.a,a.a,c.a]},74:function(t,e,n){"use strict";function createURLSearchParams(t){var e=new r.URLSearchParams;for(var n in t)if(t[n]instanceof Array)for(var o in t[n])e.append(encodeURIComponent(n),encodeURIComponent(t[n][o]));else"undefined"!=typeof t[n]&&e.set(encodeURIComponent(n),encodeURIComponent(t[n]));return e}function serializeObj(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function parseResponseObjects(t){for(var e={},n=0,r=t;n<r.length;n++){var o=r[n];if(o.kind||o.entityKind)e[o.kind||o.entityKind]=o;else if(o.list&&o.meta&&o.type)e[o.type]=o;else if(o.name&&o.value)e[o.name]=o.value;else if(o.actions){e.actions={};for(var i=0,s=o.actions;i<s.length;i++){var a=s[i];e.actions[a.customID]=!a.url||{url:a.url}}}else for(var c in o)e[c]=o[c]}return e}function transformPostResponse(t){var e=t.json();return Object.assign(e,{ok:"DOCUMENT_SAVED"===e.type,message:e.captions?e.captions.type:e.message})}function createCookie(t,e,n){var r;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}else r="";document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+"; path=/"}function imgToBase64(t,e){var n=new FileReader;n.onload=e,n.readAsDataURL(t)}var r=n(28);e.d=createURLSearchParams,e.b=serializeObj,e.a=parseResponseObjects,e.c=transformPostResponse,e.f=createCookie,e.e=imgToBase64},76:function(t,e,n){"use strict";function createEmptyUrlTree(){return new i(new s([],{}),{},null)}function containsTree(t,e,n){return n?equalSegmentGroups(t.root,e.root):containsSegmentGroup(t.root,e.root)}function equalSegmentGroups(t,e){if(!equalPath(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!equalSegmentGroups(t.children[n],e.children[n]))return!1}return!0}function containsSegmentGroup(t,e){return containsSegmentGroupHelper(t,e,e.segments)}function containsSegmentGroupHelper(t,e,n){if(t.segments.length>n.length){var o=t.segments.slice(0,n.length);return!!equalPath(o,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!equalPath(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!containsSegmentGroup(t.children[i],e.children[i]))return!1}return!0}var o=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!equalPath(t.segments,o)&&(!!t.children[r.a]&&containsSegmentGroupHelper(t.children[r.a],e,s))}function equalPath(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n].path!==e[n].path)return!1;return!0}function mapChildrenIntoArray(t,e){var i=[];return n.i(o.c)(t.children,function(t,n){n===r.a&&(i=i.concat(e(t,n)))}),n.i(o.c)(t.children,function(t,n){n!==r.a&&(i=i.concat(e(t,n)))}),i}function serializePaths(t){return t.segments.map(function(t){return serializePath(t)}).join("/")}function serializeSegment(t,e){if(t.hasChildren()&&e){var i=t.children[r.a]?serializeSegment(t.children[r.a],!1):"",s=[];return n.i(o.c)(t.children,function(t,e){e!==r.a&&s.push(e+":"+serializeSegment(t,!1))}),s.length>0?i+"("+s.join("//")+")":""+i}if(t.hasChildren()&&!e){var a=mapChildrenIntoArray(t,function(e,n){return n===r.a?[serializeSegment(t.children[r.a],!1)]:[n+":"+serializeSegment(e,!1)]});return serializePaths(t)+"/("+a.join("//")+")"}return serializePaths(t)}function encode(t){return encodeURIComponent(t)}function decode(t){return decodeURIComponent(t)}function serializePath(t){return""+encode(t.path)+serializeParams(t.parameters)}function serializeParams(t){return pairs(t).map(function(t){return";"+encode(t.first)+"="+encode(t.second)}).join("")}function serializeQueryParams(t){var e=pairs(t).map(function(t){return encode(t.first)+"="+encode(t.second)});return e.length>0?"?"+e.join("&"):""}function pairs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(new u(n,t[n]));return e}function matchSegments(t){p.lastIndex=0;var e=t.match(p);return e?e[0]:""}function matchQueryParams(t){d.lastIndex=0;var e=t.match(p);return e?e[0]:""}function matchUrlQueryParamValue(t){f.lastIndex=0;var e=t.match(f);return e?e[0]:""}var r=n(51),o=n(52);e.e=createEmptyUrlTree,e.f=containsTree,n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return a}),e.d=mapChildrenIntoArray,n.d(e,"g",function(){return c}),n.d(e,"h",function(){return l});var i=function(){function UrlTree(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return UrlTree.prototype.toString=function(){return(new l).serialize(this)},UrlTree}(),s=function(){function UrlSegmentGroup(t,e){var r=this;this.segments=t,this.children=e,this.parent=null,n.i(o.c)(e,function(t,e){return t.parent=r})}return UrlSegmentGroup.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(UrlSegmentGroup.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),UrlSegmentGroup.prototype.toString=function(){return serializePaths(this)},UrlSegmentGroup}(),a=function(){function UrlSegment(t,e){this.path=t,this.parameters=e}return UrlSegment.prototype.toString=function(){return serializePath(this)},UrlSegment}(),c=function(){function UrlSerializer(){}return UrlSerializer}(),l=function(){function DefaultUrlSerializer(){}return DefaultUrlSerializer.prototype.parse=function(t){var e=new h(t);return new i(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},DefaultUrlSerializer.prototype.serialize=function(t){var e="/"+serializeSegment(t.root,!0),n=serializeQueryParams(t.queryParams),r=null!==t.fragment&&void 0!==t.fragment?"#"+encodeURI(t.fragment):"";return""+e+n+r},DefaultUrlSerializer}(),u=function(){function Pair(t,e){this.first=t,this.second=e}return Pair}(),p=/^[^\/\(\)\?;=&#]+/,d=/^[^=\?&#]+/,f=/^[^\?&#]+/,h=function(){function UrlParser(t){this.url=t,this.remaining=t}return UrlParser.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},UrlParser.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},UrlParser.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new s([],{}):new s([],this.parseChildren())},UrlParser.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[r.a]=new s(t,e)),n},UrlParser.prototype.parseSegments=function(){var t=matchSegments(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new a(decode(t),e)},UrlParser.prototype.parseQueryParams=function(){var t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},UrlParser.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},UrlParser.prototype.parseMatrixParams=function(){for(var t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},UrlParser.prototype.parseParam=function(t){var e=matchSegments(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=matchSegments(this.remaining);r&&(n=r,this.capture(n))}t[decode(e)]=decode(n)}},UrlParser.prototype.parseQueryParam=function(t){var e=matchQueryParams(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=matchUrlQueryParamValue(this.remaining);r&&(n=r,this.capture(n))}t[decode(e)]=decode(n)}},UrlParser.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var n=matchSegments(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=r.a);var a=this.parseChildren();e[i]=1===Object.keys(a).length?a[r.a]:new s([],a),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},UrlParser}()},796:function(t,e){t.exports='<div class="layout" [class.hidden]="!isReady"> <div class="content-overlay" (mousedown)="hideNav($event)" (touchstart)="hideNav($event)"></div> <navbar [user]="loggedUser"></navbar> <section class="container"> <nav data-c="nav" class="aside side-nav"></nav> <main class="content"> <router-outlet></router-outlet> </main> </section> </div> <div class="app-loading" *ngIf="!isReady"> <img class="brand-logo" alt="logo" src="{{\'img/logo.png\'}}"/>Loading... </div> <img-view></img-view> <notification></notification> '},797:function(t,e){t.exports='<ul> <li> <a [routerLink]="[\'/tasks\']" class="nav-link" [class.active]="isActive([\'/\']) || isActive([\'/tasks\'])"> <i class="fa fa-list"></i> <span>{{\'tasks_all\' | translate}}</span> </a> </li> <li> <a [routerLink]="[\'/tasks\', \'my\']" class="nav-link" [class.active]="isActive([\'/tasks/my\'])"> <i class="fa fa-pencil"></i> <span>{{\'my_tasks\' | translate}}</span> </a> </li> <li> <a [routerLink]="[\'/tasks\', \'inbox\']" class="nav-link" [class.active]="isActive([\'/tasks/inbox\'])"> <i class="fa fa-inbox"></i> <span>{{\'tasks_assigned_to_me\' | translate}}</span> </a> </li> <li class="divider"></li> <li> <a [routerLink]="[\'/projects\']" class="nav-link" [class.active]="isActive([\'/projects\'])"> <i class="fa fa-puzzle-piece"></i> <span>{{\'projects\' | translate}}</span> </a> <ul> <li *ngFor="let project of projects"> <a [routerLink]="[\'/projects\', project.id, \'tasks\']" class="nav-link" [class.active]="isActive([\'/projects/\' + project.id + \'/tasks\'])"> <i class="fa fa-file-text-o"></i> <span>{{project.name}}</span> </a> </li> </ul> </li> </ul> '},798:function(t,e){t.exports='<header class="header navbar"> <div class="container"> <div class="navbar-header"> <button class="btn-side-nav-toggle" type="button" (click)="toggleNav()"></button> <img class="brand-logo" alt="logo" src="{{logoUrl}}"/> <span class="brand-title">{{headerTitle}}</span> </div> <nav class="navbar-nav navbar-right"> <ul class="nav nav-inline navbar-right"> <li dropdown [tabIndex]="-1" class="dropdown"> <a dropdown-toggle href="#" class="dropdown-toggle"> <i class="fa fa-user"></i> </a> <ul class="dropdown-menu right"> <li *ngIf="user"> <a class="user-profile" [routerLink]="[\'/user-profile\']"> <i class="fa fa-user"></i> <span>{{user.name}}</span> </a> </li> <li class="divider"></li> <li> <a class="ws" href="{{workspaceUrl}}"> <i class="fa fa-th"></i> <span>{{\'workspace\' | translate}}</span> </a> </li> </ul> </li> </ul> <form class="navbar-form navbar-search"> <input type="search" class="q" name="keyword" value="{{keyWord}}" placeholder="{{\'search\' | translate}}" required autocomplete="off" (keyup)="keyup$.next($event)" (focus)="searchFocus()" (blur)="searchBlur($event.target)"/> <button type="reset" (click)="search(\'\')"><i class="fa fa-times"></i></button> <input type="submit" value="search"/> </form> </nav> </div> </header> '},799:function(t,e){t.exports='<form class="form" *ngIf="isReady"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" title="{{\'close\' | translate}}" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button class="btn btn-primary" type="button" *ngIf="canSave" [disabled]="!isValid" (click)="saveProject()"> {{\'save_close\' | translate}} </button> <div *ngIf="canDelete" dropdown class="buttons" [tabIndex]="-1"> <div dropdown-toggle> <span class="btn">...</span> </div> <div class="dropdown-menu"> <ul class="menu"> <li> <a class="menu-item" (click)="deleteProject()">{{\'delete\' | translate}}</a> </li> </ul> </div> </div> </div> <h1 class="header-title header-title-flex"> <label>{{title | translate}}</label> <input [class.invalid]="errors.name" autofocus required name="name" maxlength="140" placeholder="{{\'name\' | translate}}" [readonly]="!isEditable" (keyup)="validateForm()" [(ngModel)]="project.name"/> </h1> </header> <section class="content-body"> <tabs> <tab class="tab-pane" tabTitle="{{\'properties\' | translate}}"> <div class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'customer\' | translate}} </div> <div class="controls" [class.has-error]="errors.customerId"> <organization-input class="span8" [editable]="isEditable" [id]="project.customerId" (select)="setCustomer($event)"></organization-input> <error-message [error]="errors.customerId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'manager\' | translate}} </div> <div class="controls" [class.has-error]="errors.managerUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[project.managerUserId]" (select)="setManager($event)"></employee-input> <error-message [error]="errors.managerUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'programmer\' | translate}} </div> <div class="controls" [class.has-error]="errors.programmerUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[project.programmerUserId]" (select)="setProgrammer($event)"></employee-input> <error-message [error]="errors.programmerUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'tester\' | translate}} </div> <div class="controls" [class.has-error]="errors.testerUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[project.testerUserId]" (select)="setTester($event)"></employee-input> <error-message [error]="errors.testerUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'observers\' | translate}} </div> <div class="controls" [class.has-error]="errors.observerUserIds"> <employee-input class="span8" [editable]="isEditable" [multiple]="true" [allowClear]="true" [ids]="project.observerUserIds" (select)="setObserver($event)"></employee-input> <error-message [error]="errors.observerUserIds"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'status\' | translate}} </div> <div class="controls" [class.has-error]="errors.status"> <switch-button [disabled]="!isEditable" [model]="project" value="status" [items]="projectStatusTypes"></switch-button> <error-message [error]="errors.status"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'finish_date\' | translate}} </div> <div class="controls" [class.has-error]="errors.finishDate"> <div class="span2" *ngIf="!isEditable"> <span class="input">{{project.finishDate}}</span> </div> <input class="span2" datepicker *ngIf="isEditable" name="finishDate" (select)="setFinishDate($event)" [(ngModel)]="project.finishDate"/> <span>{{\'now\' | dateDuration:project.finishDate}}</span> <error-message [error]="errors.finishDate"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'comment\' | translate}} </div> <div class="controls" [class.has-error]="errors.comment"> <markdown-editor writeLabel="{{\'markdown_write\' | translate}}" previewLabel="{{\'markdown_preview\' | translate}}" [markdown]="project.comment || \'\'" [editable]="isEditable" [updateTimeout]="300" (update)="setProjectComment($event)"></markdown-editor> <error-message [error]="errors.comment"></error-message> </div> </div> </div> <attachments [editable]="isEditable" [model]="project" (upload)="addAttachment($event)" (delete)="deleteAttachment($event)"></attachments> </tab> <tab class="tab-pane" tabTitle="{{\'acl_tab_title\' | translate}}" icon="fa fa-share-alt" *ngIf="!isNew"> <acl [acl]="project.acl"></acl> </tab> </tabs> </section> <footer class="content-footer"> <div class="record-author" *ngIf="project.authorId"> <span>{{\'author\' | translate}}</span> <employee-input [ids]="[project.authorId]"></employee-input> <span>{{project.regDate}}</span> </div> </footer> </form> ';
},800:function(t,e){t.exports='<div class="content-header" *ngIf="headerVisible"> <h1 class="header-title" *ngIf="titleVisible"> {{title | translate}} <sup *ngIf="!loading && meta.count">({{meta.count}})</sup> </h1> <div class="content-actions" *ngIf="actionsVisible"> <button class="btn" type="button" (click)="newProject()"> {{\'new_project\' | translate}} </button> <button class="btn btn-refresh" type="button" (click)="refresh()"> <i class="fa fa-refresh"></i> </button> <pagination [totalPages]="meta.totalPages" [page]="meta.page" (change)="goToPage($event)"></pagination> </div> </div> <div class="content-body"> <div class="view project-list"> <header class="entries-head" *ngIf="captionsVisible"> <div class="head-wrap"> <label class="entry-select" *ngIf="selectable"> <input type="checkbox" class="all"/> </label> <div class="entry-captions"> <div class="project-list__name">{{\'name\' | translate}}</div> <div class="vw-icon"><i class="fa fa-paperclip"></i></div> <div class="project-list__status">{{\'status\' | translate}}</div> <div class="project-list__customer">{{\'customer\' | translate}}</div> <div class="project-list__manager">{{\'manager\' | translate}}</div> <div class="project-list__programmer">{{\'programmer\' | translate}}</div> <div class="project-list__tester">{{\'tester\' | translate}}</div> <div class="project-list__finish_date">{{\'finish_date\' | translate}}</div> </div> </div> </header> <div class="entries"> <div class="entry-wrap" *ngFor="let project of projects"> <div class="entry"> <label class="entry-select" *ngIf="selectable"> <input type="checkbox" name="project-id" [value]="project.id"/> </label> <a class="entry-link" [routerLink]="[\'./\', project.id]"> <div class="entry-fields"> <div class="project-list__name">{{project.name}}</div> <div class="vw-icon"> <i class="fa fa-paperclip" *ngIf="project.hasAttachments"></i> </div> <div class="project-list__status"> <span class="status-{{project.status | text:\'L\'}}">{{project.status | text:\'L\' | translate}}</span> </div> <div class="project-list__customer"> <organization-input [org]="project.customer"></organization-input> </div> <div class="project-list__manager"> <employee-input [ids]="[project.managerUserId]"></employee-input> </div> <div class="project-list__programmer"> <employee-input [ids]="[project.programmerUserId]"></employee-input> </div> <div class="project-list__tester"> <employee-input [ids]="[project.testerUserId]"></employee-input> </div> <div class="project-list__finish_date"> {{project.finishDate | dateFmt:\'DD.MM.YYYY\'}} <span>{{\'now\' | dateDuration:project.finishDate}}</span> </div> </div> </a> </div> </div> </div> </div> </div> '},801:function(t,e){t.exports='<form class="form" *ngIf="isReady"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" title="{{\'close\' | translate}}" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button type="button" class="btn btn-primary" *ngIf="canSave" [disabled]="!request.requestTypeId || (isResolveAction && !dueDate)" (click)="sendRequest()"> {{\'send_request\' | translate}} </button> </div> <h1 class="header-title"> <span>{{\'task_request\' | translate}}</span> <span class="request-resolution {{request.resolution | text:\'L\'}}" *ngIf="request.resolution == \'ACCEPTED\'"> <i class="fa fa-check"></i> {{\'accepted\' | translate}} <span class="request__resolution_time">{{request.resolutionTime | dateFmt:\'DD.MM.YYYY\'}}</span> </span> <span class="request-resolution {{request.resolution | text:\'L\'}}" *ngIf="request.resolution == \'DECLINED\'"> <i class="fa fa-times"></i> {{\'declined\' | translate}} <span class="request__resolution_time">{{request.resolutionTime | dateFmt:\'DD.MM.YYYY\'}}</span> </span> </h1> </header> <section class="content-body"> <section class="task-cancel-info" *ngIf="request.resolution == \'DECLINED\' && request.decisionComment"> <span>{{\'decline_reason\' | translate}}:&nbsp;</span> <span>{{request.decisionComment}}</span> </section> <tabs> <tab class="tab-pane" tabTitle="{{\'properties\' | translate}}"> <fieldset class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'task\' | translate}} </div> <div class="controls"> <a class="input-placeholder" [routerLink]="[\'/task\', task.id]">{{task.title}}</a> </div> </div> <div class="form-group"> <div class="control-label"> {{\'request_type\' | translate}} </div> <div class="controls"> <div class="span8"> <request-type-input [editable]="editable" placeHolder="{{\'request_type\' | translate}}" [requestType]="request.requestType" (select)="setRequestType($event)"></request-type-input> </div> </div> </div> <div class="form-group"> <div class="control-label"> {{\'comment\' | translate}} </div> <div class="controls"> <div class="span8"> <textarea name="comment" [disabled]="!editable" [(ngModel)]="request.comment"></textarea> </div> </div> </div> </fieldset> </tab> <tab class="tab-pane" tabTitle="{{\'acl_tab_title\' | translate}}" icon="fa fa-share-alt" *ngIf="!isNew"> <acl [acl]="request.acl"></acl> </tab> </tabs> <div *ngIf="!editable && !request.attachments"> <attachments [model]="request" [editable]="editable" (upload)="addAttachment($event)" (delete)="deleteAttachment($event)"></attachments> </div> </section> <section class="request__resol" *ngIf="canResolution"> <fieldset class="fieldset" *ngIf="isResolveAction"> <div class="form-group"> <div class="control-label"> {{\'due_date\' | translate}} </div> <div class="controls"> <div class="span8"> <input datepicker class="span2" name="dueDate" (select)="setDueDate($event)"/> <div class="help"> {{\'new_due_date_help\' | translate}} </div> </div> </div> </div> </fieldset> <div class="request__buttons"> <button type="button" class="btn" (click)="decline(request)"> {{\'decline\' | translate}} </button> <button type="button" class="btn btn-primary" [disabled]="request.requestType.name == \'prolong\' && !dueDate" (click)="doAccept(request)"> {{\'accept\' | translate}} </button> </div> </section> <footer class="content-footer"> <div class="record-author" *ngIf="request.authorId"> <span>{{\'author\' | translate}}</span> <employee-input [ids]="[request.authorId]"></employee-input> <span>{{request.regDate}}</span> </div> </footer> </form> <request-decline-dialog *ngIf="showDeclineDialog" (confirm)="onConfirmDeclineDialog($event)" (cancel)="onCancelDeclineDialog()"></request-decline-dialog> '},802:function(t,e){t.exports='<div class="top-entry" [class.is-last]="isLast" *ngFor="let m of children; let isLast = last"> <div class="entry-wrap" *ngIf="m"> <div class="entry" *ngIf="m.kind == \'task\'"> <label class="entry-select" *ngIf="selectable"> <input type="checkbox" name="task-id" value="{{m.id}}"/> </label> <a class="entry-link" [routerLink]="[\'/task\', m.id]"> <div class="entry-fields"> <div class="task-list__reg-number"> <expandable-cell [expandable]="m.hasSubtasks || m.hasRequests" [expanded]="expandedIds.indexOf(m.id) != -1" [level]="level" [isLast]="isLast" (click)="toggleExpanded(m.id, $event)"> {{m.regNumber}} </expandable-cell> </div> <div class="task-list__title"> <span>{{m.title}}</span> </div> <div class="vw-icon"> <i class="fa fa-paperclip" *ngIf="m.hasAttachments"></i> </div> <div class="task-list__status"> <span class="status-{{m.status | text:\'L\'}}">{{m.status | text:\'L\' | translate}}</span> </div> <div class="task-list__priority"> <span class="priority-{{m.priority | text:\'L\'}}">{{m.priority | text:\'L\' | translate}}</span> </div> <div class="task-list__assignee"> <employee-input [ids]="[m.assigneeUserId]"></employee-input> </div> <div class="task-list__start_date">{{m.startDate | dateFmt:\'DD.MM.YYYY\'}}</div> <div class="task-list__due_date"> <span>{{m.dueDate | dateFmt:\'DD.MM.YYYY\'}}</span> <span>{{m.startDate | dateDuration:m.dueDate}}</span> </div> <div class="task-list__tags"> <tags-input [ids]="m.tagIds"></tags-input> </div> </div> </a> </div> <div class="entry" *ngIf="m.kind == \'request\'"> <label class="entry-select" *ngIf="selectable"> <input type="checkbox" value="{{m.id}}"/> </label> <a class="entry-link" [routerLink]="[\'/requests\', m.id]"> <div class="entry-fields"> <div class="task-list__request_type"> <expandable-cell [level]="level"> {{m.requestType | localizedName}} </expandable-cell> </div> <div class="request__time">{{m.regDate}}</div> <div class="request__comment">{{m.comment}}</div> <div class="request__attachments" *ngIf="m.attachments && m.attachments.length"> <i class="fa fa-paperclip"></i> </div> <span class="accepted" *ngIf="m.resolution == \'ACCEPTED\'"> <i class="fa fa-check"></i> {{\'accepted\' | translate}} </span> <span class="declined" *ngIf="m.resolution == \'DECLINED\'"> <i class="fa fa-times"></i> {{\'declined\' | translate}} </span> <div class="request__resolution_time">{{m.resolutionTime | dateFmt:\'DD.MM.YYYY\'}}</div> </div> </a> </div> <div class="entry" *ngIf="m.kind == \'comment\'"> <label class="entry-select"> <input type="checkbox" value="{{m.id}}"/> </label> <div class="entry-link"> <div class="entry-fields"> <div class="task-list__comment_comment">{{m.comment}}</div> </div> </div> </div> </div> <task-tree *ngIf="m.children" [level]="level" [rootId]="m.id" [children]="m.children" [selectable]="selectable"> </task-tree> </div> '},803:function(t,e){t.exports='<form class="form" *ngIf="isReady"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button class="btn btn-primary" type="button" *ngIf="canSave" [disabled]="!isValid" (click)="saveTask()"> {{\'save_close\' | translate}} </button> <button class="btn" type="button" *ngIf="canRequestAction" (click)="newRequest($event)"> {{\'new_request\' | translate}} </button> <button class="btn" type="button" *ngIf="canAddSubTask" (click)="addSubtask($event)"> {{\'add_subtask\' | translate}} </button> <button class="btn" type="button" *ngIf="canAcknowledgedTask" (click)="acknowledgedTask()"> <span>{{\'acknowledged_task\' | translate}}</span> </button> <button class="btn" type="button" *ngIf="canCompleteTask" (click)="completeTask()"> <i class="fa fa-check-square-o"></i> <span>{{\'complete_task\' | translate}}</span> </button> <button class="btn" type="button" *ngIf="canCancelTask" (click)="cancelTask()"> <i class="fa fa-ban"></i> <span>{{\'cancel_task\' | translate}}</span> </button> <div *ngIf="canDelete" dropdown class="buttons" [tabIndex]="-1"> <div dropdown-toggle> <span class="btn">...</span> </div> <div class="dropdown-menu"> <ul class="menu"> <li> <a class="menu-item" (click)="deleteTask()">{{\'delete\' | translate}}</a> </li> </ul> </div> </div> </div> <h1 class="header-title task-header-title"> <a *ngIf="parentTask" [routerLink]="[\'/task\', parentTask.id]" class="parent-task-link">{{parentTask.title}}</a> <div class="header-title-flex"> <label class="header-title-label"> <div>{{title | translate}}</div> <span class="task-status status-{{task.status | text:\'L\'}}">{{task.status | text:\'L\' | translate}}</span> </label> <div class="task-reg-number" *ngIf="task.regNumber">{{task.regNumber}}</div> <input [class.invalid]="errors.title" autofocus required name="title" maxlength="140" placeholder="{{\'task_title\' | translate}}" [readonly]="!isEditable" (keyup)="validateForm()" [(ngModel)]="task.title"/> </div> </h1> </header> <section class="content-body"> <section class="task-cancel-info" *ngIf="task.status == \'CANCELLED\' && task.cancellationComment"> <span>{{\'cancel_reason\' | translate}}:&nbsp;</span> <span>{{task.cancellationComment}}</span> </section> <div class="task-tabs noselect"> <div class="task-tab__title" [class.active]="showPropertyTab" (click)="togglePropertyTab()">{{\'properties\' | translate}}</div> <div class="task-tab__title" [class.active]="showStreamTab" [class.hidden]="!hasSubTasks && !hasRequests" (click)="toggleStreamTab()"> <i class="fa fa-align-left"></i> <span>{{\'execution\' | translate}}</span> </div> <div class="task-tab__title" [class.active]="showObserversTab" (click)="toggleObserversTab()"> <i class="fa fa-eye"></i> {{\'observers\' | translate}} </div> <div class="task-tab__title" [class.active]="showACLTab" [class.hidden]="!hasACL" (click)="toggleACLTab()"> <i class="fa fa-share-alt"></i> {{\'acl_tab_title\' | translate}} </div> </div> <div class="task-tab" [class.active]="showStreamTab" *ngIf="!isNew"> <tasks [tasks]="[task]" [embedded]="true" [headerVisible]="false" [selectable]="false"></tasks> </div> <div class="task-tab" [class.active]="showObserversTab"> <div class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'observers\' | translate}} </div> <div class="controls" [class.has-error]="errors.observerUserIds"> <employee-input class="span8" [editable]="isEditable" [multiple]="true" [ids]="task.observerUserIds" (select)="setObserver($event)"></employee-input> <error-message [error]="errors.observerUserIds"></error-message> </div> </div> </div> </div> <div class="task-tab" [class.active]="showACLTab" *ngIf="!isNew"> <acl [acl]="task.acl"></acl> </div> <div class="task-tab" [class.active]="showPropertyTab"> <div class="fieldset"> <div class="form-group" *ngIf="!isSubtask"> <div class="control-label"> {{\'project\' | translate}} </div> <div class="controls" [class.has-error]="errors.projectId"> <project-input class="span8" [editable]="isEditable" [id]="task.projectId" (select)="setProject($event)"></project-input> <error-message [error]="errors.projectId"></error-message> </div> </div> <div class="form-group" *ngIf="!isSubtask"> <div class="control-label"> {{\'task_type\' | translate}} </div> <div class="controls" [class.has-error]="errors.taskTypeId"> <task-type-input class="span8" [editable]="isEditable" [id]="task.taskTypeId" (select)="setTaskType($event)"></task-type-input> <error-message [error]="errors.taskTypeId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'priority\' | translate}} </div> <div class="controls" [class.has-error]="errors.priority"> <switch-button [disabled]="!isEditable" [model]="task" value="priority" [items]="taskPriorityTypes"></switch-button> <error-message [error]="errors.priority"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'assignee_user\' | translate}} </div> <div class="controls" [class.has-error]="errors.assigneeUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[task.assigneeUserId]" (select)="setAssigneeUser($event)"></employee-input> <error-message [error]="errors.assigneeUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'start_date\' | translate}} </div> <div class="controls" [class.has-error]="errors.startDate"> <div class="span2" *ngIf="!isEditable"> <span class="input">{{task.startDate}}</span> </div> <div class="span2" *ngIf="isEditable"> <input datepicker class="span2" name="startDate" (select)="setStartDate($event)" [(ngModel)]="task.startDate"/> </div> <error-message [error]="errors.startDate"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'due_date\' | translate}} </div> <div class="controls" [class.has-error]="errors.dueDate"> <div class="span2" *ngIf="!isEditable"> <span class="input">{{task.dueDate}}</span> </div> <div class="span2" *ngIf="isEditable"> <input datepicker class="span2" name="dueDate" (select)="setDueDate($event)" [(ngModel)]="task.dueDate"/> </div> <span>{{task.startDate | dateDuration:task.dueDate}}</span> <error-message [error]="errors.dueDate"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'tags\' | translate}} </div> <div class="controls" [class.has-error]="errors.tagIds"> <tags-input class="span8" [editable]="isEditable" [allowClear]="true" [ids]="task.tagIds" (select)="setTags($event)"></tags-input> <error-message [error]="errors.tagIds"></error-message> </div> </div> <div class="form-group"> <div class="control-label"></div> <div class="controls"> <label class="input" [class.disabled]="!isEditable"> <input type="checkbox" name="customerObservation" value="1" [disabled]="!isEditable" [(ngModel)]="task.customerObservation"/> <span>{{\'publish_to_customer\' | translate}}</span> </label> </div> </div> <div class="form-group" [class.has-error]="errors.body"> <div class="control-label"> {{\'body\' | translate}} </div> <div class="controls"> <markdown-editor writeLabel="{{\'markdown_write\' | translate}}" previewLabel="{{\'markdown_preview\' | translate}}" [markdown]="task.body || \'\'" [editable]="isEditable" [updateTimeout]="300" (update)="updateTaskBody($event)"></markdown-editor> <error-message [error]="errors.body"></error-message> </div> </div> </div> <attachments [editable]="isEditable" [model]="task" (upload)="addAttachment($event)" (delete)="deleteAttachment($event)"></attachments> </div> <comments *ngIf="showComments" [comments]="comments" (add)="saveComment($event)" (update)="saveComment($event)" (delete)="deleteComment($event)"></comments> </section> <footer class="content-footer"> <div class="record-author" *ngIf="task.authorId"> <span>{{\'author\' | translate}}</span> <employee-input [ids]="[task.authorId]"></employee-input> <span>{{task.regDate}}</span> </div> </footer> </form> <task-cancel-dialog *ngIf="showTaskCancelDialog" (confirm)="onConfirmTaskCancelDialog($event)" (cancel)="onCancelTaskCancelDialog()"></task-cancel-dialog> '},804:function(t,e){t.exports='<div class="content-header" *ngIf="headerVisible"> <h1 class="header-title" *ngIf="titleVisible"> {{title | translate}} <sup *ngIf="!loading && meta.count">({{meta.count}})</sup> </h1> <div class="content-actions" *ngIf="actionsVisible"> <button class="btn" type="button" (click)="newTask()"> {{\'new_task\' | translate}} </button> <button class="btn btn-refresh" type="button" (click)="refresh()"> <i class="fa fa-refresh"></i> </button> <task-filter (change)="changeFilter($event)"></task-filter> <pagination [totalPages]="meta.totalPages" [page]="meta.page" (change)="goToPage($event)"></pagination> </div> </div> <div class="content-body"> <div class="view task-list"> <header class="entries-head" *ngIf="captionsVisible"> <div class="head-wrap"> <label class="entry-select" *ngIf="selectable"> <input type="checkbox" class="all"/> </label> <div class="entry-captions"> <div class="task-list__reg-number">{{\'reg_number\' | translate}}</div> <div class="task-list__title">{{\'task_title\' | translate}}</div> <div class="vw-icon"><i class="fa fa-paperclip"></i></div> <div class="task-list__status">{{\'status\' | translate}}</div> <div class="task-list__priority">{{\'priority\' | translate}}</div> <div class="task-list__assignee">{{\'assignee_user\' | translate}}</div> <div class="task-list__start_date"> <sort-label>{{\'start_date\' | translate}}</sort-label> </div> <div class="task-list__due_date"> <sort-label>{{\'due_date\' | translate}}</sort-label> </div> <div class="task-list__tags">{{\'tags\' | translate}}</div> </div> </div> </header> <div class="entries"> <div class="top-entry" [class.is-last]="isLast" *ngFor="let task of tasks; let isLast = last"> <div class="entry-wrap"> <div class="entry"> <label class="entry-select" *ngIf="selectable"> <input type="checkbox" name="task-id" value="{{task.id}}"/> </label> <a class="entry-link" [routerLink]="[\'/task\', task.id]"> <div class="entry-fields"> <div class="task-list__reg-number"> <expandable-cell [expandable]="task.hasSubtasks || task.hasRequests" [expanded]="expandedIds.indexOf(task.id) != -1" [level]="0" [isLast]="isLast" (click)="toggleExpanded(task.id, $event)"> {{task.regNumber}} </expandable-cell> </div> <div class="task-list__title"> <span>{{task.title}}</span> </div> <div class="vw-icon"> <i class="fa fa-paperclip" *ngIf="task.hasAttachments"></i> </div> <div class="task-list__status"> <span class="status-{{task.status | text:\'L\'}}">{{task.status | text:\'L\' | translate}}</span> </div> <div class="task-list__priority"> <span class="priority-{{task.priority | text:\'L\'}}">{{task.priority | text:\'L\' | translate}}</span> </div> <div class="task-list__assignee"> <employee-input [ids]="[task.assigneeUserId]"></employee-input> </div> <div class="task-list__start_date">{{task.startDate | dateFmt:\'DD.MM.YYYY\'}}</div> <div class="task-list__due_date"> <span>{{task.dueDate | dateFmt:\'DD.MM.YYYY\'}}</span> <span>{{task.startDate | dateDuration:task.dueDate}}</span> </div> <div class="task-list__tags"> <tags-input [ids]="task.tagIds"></tags-input> </div> </div> </a> </div> </div> <task-tree [rootId]="task.id" [children]="task.children" [selectable]="selectable"> </task-tree> </div> </div> </div> </div> '},805:function(t,e){t.exports='<form class="form form-userprofile" autocomplete="off" *ngIf="user"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button class="btn btn-primary" type="button" (click)="updateUserProfile()"> {{\'save_close\' | translate}} </button> </div> <h1 class="header-title"> {{\'employee\' | translate}} / {{user.name}} </h1> </header> <section class="content-body"> <tabs> <tab class="tab-pane" tabTitle="{{\'properties\' | translate}}"> <fieldset class="fieldset fieldset-user-fields"> <div class="form-group"> <div class="control-label"> {{\'login_name\' | translate}} </div> <div class="controls"> <input type="text" class="span4" ngControl="login"/> </div> </div> <div class="form-group" *ngIf="!changePassword"> <div class="control-label"></div> <div class="controls"> <span class="btn btn-xs" (click)="toggleChangePassword()">{{\'change_password\' | translate}}</span> </div> </div> <div class="form-group" *ngIf="changePassword"> <div class="control-label"> {{\'password\' | translate}} </div> <div class="controls" [class.has-error]="errors.pwd"> <input type="password" name="pwd" class="span4" [class.invalid]="errors.pwd" ngControl="pwd"/> </div> </div> <div class="form-group" *ngIf="changePassword"> <div class="control-label"> {{\'password_new\' | translate}} </div> <div class="controls" [class.has-error]="errors.pwd_new"> <input type="password" name="pwd_new" class="span4" [class.invalid]="errors.pwd_new" ngControl="pwd_new"/> </div> </div> <div class="form-group" *ngIf="changePassword"> <div class="control-label"> {{\'password_confirm\' | translate}} </div> <div class="controls" [class.has-error]="errors.pwd_confirm"> <input type="password" name="pwd_confirm" class="span4" [class.invalid]="errors.pwd_confirm" ngControl="pwd_confirm"/> </div> </div> <div class="form-group"> <div class="control-label"> {{\'email\' | translate}} </div> <div class="controls" [class.has-error]="errors.email"> <input type="email" name="email" class="span4" [class.invalid]="errors.email" ngControl="email"/> <div class="error-message">{{errors.email | translate}}</div> </div> </div> <div class="form-group" *ngIf="user.organization"> <div class="control-label"> {{\'org_name\' | translate}} </div> <div class="controls"> <span class="input-placeholder"> {{user.organization}} </span> </div> </div> <div class="form-group" *ngIf="user.department"> <div class="control-label"> {{\'department\' | translate}} </div> <div class="controls"> <span class="input-placeholder"> {{user.department}} </span> </div> </div> <div class="form-group" *ngIf="user.position"> <div class="control-label"> {{\'position\' | translate}} </div> <div class="controls"> <span class="input-placeholder"> {{user.position}} </span> </div> </div> <div class="form-group" *ngIf="user.roles"> <div class="control-label"> {{\'roles\' | translate}} </div> <div class="controls"> <ul class="input-placeholder list-style-none"> <li *ngFor="let role of user.roles">{{role.localizedName[language]}}</li> </ul> </div> </div> </fieldset> </tab> <tab class="tab-pane" tabTitle="{{\'interface\' | translate}}"> <fieldset class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'limit_view\' | translate}} </div> <div class="controls"> <select name="pagesize" class="span2" (change)="changePageSize($event)"> <option value="{{ps}}" [selected]="ps == pageSize" *ngFor="let ps of pageSizes">{{ps}}</option> </select> </div> </div> <div class="form-group"> <div class="control-label"> {{\'interface_lang\' | translate}} </div> <div class="controls"> <select name="lang" class="span2" (change)="changeLang($event)"> <option value="{{langCode}}" [selected]="langCode == language" *ngFor="let langCode of languages | keys"> {{languages[langCode]}} </option> </select> </div> </div> </fieldset> </tab> </tabs> </section> </form> '},807:function(t,e){"use strict";var n=console,r="@ngrx/store/init",o=function(t,e){return new Array(e+1).join(t)},i=function(t,e){return o("0",e-t.toString().length)+t},s=function(t){return"@ "+i(t.getHours(),2)+":"+i(t.getMinutes(),2)+":"+i(t.getSeconds(),2)+"."+i(t.getMilliseconds(),3)},a="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date,c=function(t,e,n,r){switch(typeof t){case"object":return"function"==typeof t[r]?t[r].apply(t,n):t[r];case"function":return t(e);default:return t}},l=function(t){return function(e){var r=t.actionTransformer,o=t.collapsed,i=t.colors,a=t.timestamp,l=t.duration,u=t.level;e.forEach(function(t,p){var d=t.started,f=t.startedTime,h=t.action,m=t.error,v=t.prevState.nextState?t.prevState.nextState:"(Empty)",g=t.took,y=t.nextState,b=e[p+1];b&&(y=b.prevState,g=b.started-d);var C=r(h),_="function"==typeof o?o(function(){return y},h):o,T=s(f),k=i.title?"color: "+i.title(C)+";":null,E="action "+(a?T:"")+" "+C.type+" "+(l?"(in "+g.toFixed(2)+" ms)":"");try{_?i.title?n.groupCollapsed("%c "+E,k):n.groupCollapsed(E):i.title?n.group("%c "+E,k):n.group(E)}catch(t){n.log(E)}var R=c(u,C,[v],"prevState"),S=c(u,C,[C],"action"),A=c(u,C,[m,v],"error"),w=c(u,C,[y],"nextState");R&&(i.prevState?n[R]("%c prev state","color: "+i.prevState(v)+"; font-weight: bold",v):n[R]("prev state",v)),S&&(i.action?n[S]("%c action","color: "+i.action(C)+"; font-weight: bold",C):n[S]("action",C)),m&&A&&(i.error?n[A]("%c error","color: "+i.error(m,v)+"; font-weight: bold",m):n[A]("error",m)),w&&(i.nextState?n[w]("%c next state","color: "+i.nextState(y)+"; font-weight: bold",y):n[w]("next state",y));try{n.groupEnd()}catch(t){n.log("—— log end ——")}}),e.length=0}};e.storeLogger=function(t){return void 0===t&&(t={}),function(e){var n={},o="undefined"!=typeof window&&window.navigator.userAgent?window.navigator.userAgent:"",i=!1,s=o.indexOf("MSIE "),c=o.indexOf("Trident/");(s>-1||c>-1)&&(i=!0);var u={level:"log",collapsed:!1,duration:!0,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},colors:i?{}:{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}},p=Object.assign({},u,t),d=p.stateTransformer,f=l(p);return function(t,o){var i={started:a.now(),startedTime:new Date,prevState:d(n),action:o},s=e(t,o),c={took:a.now()-i.started,nextState:d(s)};return n=Object.assign({},i,c),o.type!==r&&f([n]),s}}}},816:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(3),i=n(487),s=n(164),a=function(t){function ArrayLikeObservable(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(ArrayLikeObservable,t),ArrayLikeObservable.create=function(t,e){var n=t.length;return 0===n?new s.EmptyObservable:1===n?new i.ScalarObservable(t[0],e):new ArrayLikeObservable(t,e)},ArrayLikeObservable.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,o=t.subscriber;if(!o.closed){if(n>=r)return void o.complete();o.next(e[n]),t.index=n+1,this.schedule(t)}},ArrayLikeObservable.prototype._subscribe=function(t){var e=0,n=this,r=n.arrayLike,o=n.scheduler,i=r.length;if(o)return o.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:r,index:e,length:i,subscriber:t});for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);t.complete()},ArrayLikeObservable}(o.Observable);e.ArrayLikeObservable=a},819:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(101),i=n(502),s=n(486),a=n(820),c=n(118),l=n(816),u=n(248),p=n(3),d=n(495),f=n(249),h=function(t){return t&&"number"==typeof t.length},m=function(t){function FromObservable(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(FromObservable,t),FromObservable.create=function(t,e){if(null!=t){if("function"==typeof t[f.$$observable])return t instanceof p.Observable&&!e?t:new FromObservable(t,e);if(o.isArray(t))return new c.ArrayObservable(t,e);if(i.isPromise(t))return new s.PromiseObservable(t,e);if("function"==typeof t[u.$$iterator]||"string"==typeof t)return new a.IteratorObservable(t,e);if(h(t))return new l.ArrayLikeObservable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},FromObservable.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[f.$$observable]().subscribe(t):e[f.$$observable]().subscribe(new d.ObserveOnSubscriber(t,n,0))},FromObservable}(p.Observable);e.FromObservable=m},820:function(t,e,n){"use strict";function getIterator(t){var e=t[s.$$iterator];if(!e&&"string"==typeof t)return new c(t);if(!e&&void 0!==t.length)return new l(t);if(!e)throw new TypeError("object is not iterable");return t[s.$$iterator]()}function toLength(t){var e=+t.length;return isNaN(e)?0:0!==e&&numberIsFinite(e)?(e=sign(e)*Math.floor(Math.abs(e)),e<=0?0:e>u?u:e):e}function numberIsFinite(t){return"number"==typeof t&&o.root.isFinite(t)}function sign(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(58),i=n(3),s=n(248),a=function(t){function IteratorObservable(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=getIterator(e)}return r(IteratorObservable,t),IteratorObservable.create=function(t,e){return new IteratorObservable(t,e)},IteratorObservable.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,o=t.subscriber;if(n)return void o.error(t.error);var i=r.next();return i.done?void o.complete():(o.next(i.value),t.index=e+1,void(o.closed||this.schedule(t)))},IteratorObservable.prototype._subscribe=function(t){var e=0,n=this,r=n.iterator,o=n.scheduler;if(o)return o.schedule(IteratorObservable.dispatch,0,{index:e,iterator:r,subscriber:t});for(;;){var i=r.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}},IteratorObservable}(i.Observable);e.IteratorObservable=a;var c=function(){function StringIterator(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return StringIterator.prototype[s.$$iterator]=function(){return this},StringIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},StringIterator}(),l=function(){function ArrayIterator(t,e,n){void 0===e&&(e=0),void 0===n&&(n=toLength(t)),this.arr=t,this.idx=e,this.len=n}return ArrayIterator.prototype[s.$$iterator]=function(){return this},ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},ArrayIterator}(),u=Math.pow(2,53)-1},829:function(t,e,n){"use strict";function first(t,e,n){return this.lift(new s(t,e,n,this))}var r=this&&this.__extends||function(t,e){
function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(13),i=n(251);e.first=first;var s=function(){function FirstOperator(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return FirstOperator.prototype.call=function(t,e){return e._subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},FirstOperator}(),a=function(t){function FirstSubscriber(e,n,r,o,i){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1}return r(FirstSubscriber,t),FirstSubscriber.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},FirstSubscriber.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},FirstSubscriber.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},FirstSubscriber.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},FirstSubscriber.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},FirstSubscriber.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new i.EmptyError):(t.next(this.defaultValue),t.complete())},FirstSubscriber}(o.Subscriber)},830:function(t,e,n){"use strict";function last(t,e,n){return this.lift(new s(t,e,n,this))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(13),i=n(251);e.last=last;var s=function(){function LastOperator(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return LastOperator.prototype.call=function(t,e){return e._subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},LastOperator}(),a=function(t){function LastSubscriber(e,n,r,o,i){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.hasValue=!1,this.index=0,"undefined"!=typeof o&&(this.lastValue=o,this.hasValue=!0)}return r(LastSubscriber,t),LastSubscriber.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},LastSubscriber.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},LastSubscriber.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},LastSubscriber.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new i.EmptyError)},LastSubscriber}(o.Subscriber)},832:function(t,e,n){"use strict";function reduce(t,e){return this.lift(new i(t,e))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(13);e.reduce=reduce;var i=function(){function ReduceOperator(t,e){this.accumulator=t,this.seed=e}return ReduceOperator.prototype.call=function(t,e){return e._subscribe(new s(t,this.accumulator,this.seed))},ReduceOperator}();e.ReduceOperator=i;var s=function(t){function ReduceSubscriber(e,n,r){t.call(this,e),this.accumulator=n,this.hasValue=!1,this.acc=r,this.accumulator=n,this.hasSeed="undefined"!=typeof r}return r(ReduceSubscriber,t),ReduceSubscriber.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},ReduceSubscriber.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(t){return void this.destination.error(t)}this.acc=e},ReduceSubscriber.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},ReduceSubscriber}(o.Subscriber);e.ReduceSubscriber=s},84:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(3),s=(n.n(i),n(74));n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),u=function(){function AppService(t){this.http=t,this.thumbnailSupportedFormat=["jpeg","jpg","png","gif"],this.isLogged=!1,this.language="RUS";var e=document.cookie.match("(lang)=(.*?)($|;|,(?! ))");e&&(this.language=e[2])}return AppService.prototype.fetchUserProfile=function(){var t=this;return this.http.get("p?id=userprofile",{headers:l}).retry(3).map(function(e){var r=n.i(s.a)(e.json().objects),o=20;return r.pagesize&&(o=r.pagesize),t.isLogged=!0,t.language=r.currentLang,t.employee=r.employee,t.workspaceUrl=r.workspaceUrl,{userProfile:r.employee,languages:r.language.list[0].localizedName,pageSize:o,language:r.currentLang||t.language,workspaceUrl:r.workspaceUrl}}).catch(function(e){return t.handleError(e)})},AppService.prototype.updateUserProfile=function(t){return this.http.post("p?id=userprofile",n.i(s.b)(t),{headers:l}).map(function(t){return t.json()}).catch(function(t){return i.Observable.throw(n.i(s.c)(t))})},AppService.prototype.logout=function(){window.location.href=this.workspaceUrl},AppService.prototype.handleError=function(t){return 401===t.status&&this.logout(),i.Observable.throw(n.i(s.c)(t))},AppService=a([n.i(r.Injectable)(),c("design:paramtypes",[o.Http])],AppService)}()},853:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function StaffActions(){}return StaffActions.prototype.fetchOrganizations=function(t){return{type:StaffActions.FETCH_ORGANIZATIONS,payload:{organizations:t}}},StaffActions.prototype.fetchEmployees=function(t){return{type:StaffActions.FETCH_EMPLOYEES,payload:{employees:t}}},StaffActions.FETCH_ORGANIZATIONS="FETCH_ORGANIZATIONS",StaffActions.FETCH_EMPLOYEES="FETCH_EMPLOYEES",StaffActions=o([n.i(r.Injectable)(),i("design:paramtypes",[])],StaffActions)}()},854:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function TaskActions(){}return TaskActions.prototype.createTask=function(t){return{type:TaskActions.CREATE_TASK,payload:{task:t}}},TaskActions.prototype.createTaskFailed=function(t){return{type:TaskActions.CREATE_TASK_FAILED,payload:t}},TaskActions.prototype.createTaskFulfilled=function(t){return{type:TaskActions.CREATE_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.fetchTasks=function(){return{type:TaskActions.FETCH_TASKS}},TaskActions.prototype.fetchTasksFailed=function(t){return{type:TaskActions.FETCH_TASKS_FAILED,payload:t}},TaskActions.prototype.fetchTasksFulfilled=function(t,e){return{type:TaskActions.FETCH_TASKS_FULFILLED,payload:{tasks:t,meta:e}}},TaskActions.prototype.fetchTask=function(t){return{type:TaskActions.FETCH_TASK}},TaskActions.prototype.fetchTaskFailed=function(t){return{type:TaskActions.FETCH_TASK_FAILED,payload:t}},TaskActions.prototype.fetchTaskFulfilled=function(t){return{type:TaskActions.FETCH_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.updateTask=function(t,e){return{type:TaskActions.UPDATE_TASK,payload:{changes:e,taskId:t}}},TaskActions.prototype.updateTaskFailed=function(t){return{type:TaskActions.UPDATE_TASK_FAILED,payload:t}},TaskActions.prototype.updateTaskFulfilled=function(t){return{type:TaskActions.UPDATE_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.deleteTask=function(t){return{type:TaskActions.DELETE_TASK,payload:{taskId:t}}},TaskActions.prototype.deleteTaskFailed=function(t){return{type:TaskActions.DELETE_TASK_FAILED,payload:t}},TaskActions.prototype.deleteTaskFulfilled=function(t){return{type:TaskActions.DELETE_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.toggleExpanded=function(t){return{type:TaskActions.TOGGLE_STREAM_EXPAND,payload:t}},TaskActions.prototype.setFilter=function(t){return{type:TaskActions.SET_FILTER,payload:t}},TaskActions.CREATE_TASK="CREATE_TASK",TaskActions.CREATE_TASK_FAILED="CREATE_TASK_FAILED",TaskActions.CREATE_TASK_FULFILLED="CREATE_TASK_FULFILLED",TaskActions.TASK_UNLOAD="TASK_UNLOAD",TaskActions.FETCH_TASKS="FETCH_TASKS",TaskActions.FETCH_TASKS_FAILED="FETCH_TASKS_FAILED",TaskActions.FETCH_TASKS_FULFILLED="FETCH_TASKS_FULFILLED",TaskActions.FETCH_TASK="FETCH_TASK",TaskActions.FETCH_TASK_FAILED="FETCH_TASK_FAILED",TaskActions.FETCH_TASK_FULFILLED="FETCH_TASK_FULFILLED",TaskActions.UPDATE_TASK="UPDATE_TASK",TaskActions.UPDATE_TASK_FAILED="UPDATE_TASK_FAILED",TaskActions.UPDATE_TASK_FULFILLED="UPDATE_TASK_FULFILLED",TaskActions.DELETE_TASK="DELETE_TASK",TaskActions.DELETE_TASK_FAILED="DELETE_TASK_FAILED",TaskActions.DELETE_TASK_FULFILLED="DELETE_TASK_FULFILLED",TaskActions.TOGGLE_STREAM_EXPAND="TOGGLE_STREAM_EXPAND",TaskActions.SET_FILTER="SET_FILTER",TaskActions.CREATE_TASK_COMMENT="CREATE_COMMENT_TASK",TaskActions.CREATE_TASK_COMMENT_FAILED="CREATE_TASK_COMMENT_FAILED",TaskActions.CREATE_TASK_COMMENT_FULFILLED="CREATE_TASK_COMMENT_FULFILLED",TaskActions.FETCH_TASK_COMMENTS="FETCH_TASK_COMMENTS",TaskActions.FETCH_TASK_COMMENTS_FAILED="FETCH_TASK_COMMENTS_FAILED",TaskActions.FETCH_TASK_COMMENTS_FULFILLED="FETCH_TASK_COMMENTS_FULFILLED",TaskActions.UPDATE_TASK_COMMENT="UPDATE_TASK_COMMENT",TaskActions.UPDATE_TASK_COMMENT_FAILED="UPDATE_TASK_COMMENT_FAILED",TaskActions.UPDATE_TASK_COMMENT_FULFILLED="UPDATE_TASK_COMMENT_FULFILLED",TaskActions.DELETE_TASK_COMMENT="DELETE_TASK_COMMENT",TaskActions.DELETE_TASK_COMMENT_FAILED="DELETE_TASK_COMMENT_FAILED",TaskActions.DELETE_TASK_COMMENT_FULFILLED="DELETE_TASK_COMMENT_FULFILLED",TaskActions.TASK_REQUEST_ACCEPTANCE="TASK_REQUEST_ACCEPTANCE",TaskActions.TASK_REQUEST_NEW="TASK_REQUEST_NEW",TaskActions.TASK_REQUEST_CANCEL="TASK_REQUEST_CANCEL",TaskActions.CREATE_TASK_REQUEST="CREATE_REQUEST_TASK",TaskActions.CREATE_TASK_REQUEST_FAILED="CREATE_TASK_REQUEST_FAILED",TaskActions.CREATE_TASK_REQUEST_FULFILLED="CREATE_TASK_REQUEST_FULFILLED",TaskActions.FETCH_TASK_REQUESTS="FETCH_TASK_REQUESTS",TaskActions.FETCH_TASK_REQUESTS_FAILED="FETCH_TASK_REQUESTS_FAILED",TaskActions.FETCH_TASK_REQUESTS_FULFILLED="FETCH_TASK_REQUESTS_FULFILLED",TaskActions=o([n.i(r.Injectable)(),i("design:paramtypes",[])],TaskActions)}()},855:function(t,e,n){"use strict";var r=n(505),o=n(506),i=n(509),s=n(508),a=n(512),c=n(511),l=n(510),u=n(513),p=n(507);n.d(e,"a",function(){return d});var d=[{path:"",component:a.a,canActivate:[r.a]},{path:"dashboard",component:o.a,canActivate:[r.a]},{path:"projects/:projectId/tasks",component:a.a,canActivate:[r.a]},{path:"projects/:projectId",component:s.a,canActivate:[r.a]},{path:"projects",component:i.a,canActivate:[r.a]},{path:"tasks/:for",component:a.a,canActivate:[r.a]},{path:"tasks",component:a.a,canActivate:[r.a]},{path:"task/:taskId/:new",component:c.a,canActivate:[r.a]},{path:"task/:taskId",component:c.a,canActivate:[r.a]},{path:"requests/:requestId",component:l.a,canActivate:[r.a]},{path:"user-profile",component:u.a,canActivate:[r.a]},{path:"login",component:p.a},{path:"**",component:a.a,canActivate:[r.a]}]},856:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function AclComponent(){this.acl={}}return o([n.i(r.Input)(),i("design:type",Object)],AclComponent.prototype,"acl",void 0),AclComponent=o([n.i(r.Component)({selector:"acl",template:'\n        <div class="fieldset">\n            <div class="form-group">\n                <div class="control-label">\n                    {{\'editors\' | translate}}\n                </div>\n                <div class="controls">\n                    <div class="input-placeholder">\n                        <ul class="acl-list list-style-none">\n                            <li class="acl-list-item" *ngFor="let editor of acl.editors | values">{{editor}}</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="control-label">\n                    {{\'readers\' | translate}}\n                </div>\n                <div class="controls">\n                    <div class="input-placeholder">\n                        <ul class="acl-list list-style-none">\n                            <li class="acl-list-item" *ngFor="let reader of acl.readers | values">{{reader}}</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    '}),i("design:paramtypes",[])],AclComponent)}()},857:function(t,e,n){"use strict";var r=n(0),o=n(16),i=n(39),s=(n.n(i),n(59)),a=n(73),c=n(72);n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function AppComponent(t,e,n,r,o,i,s,a){var l=this;this.store=t,this.appActions=e,this.referenceActions=n,this.staffActions=r,this.appService=o,this.referenceService=i,this.staffService=s,this.translate=a,this.subs=[],this.isReady=!1,this.loggedUser=new c.a,this.HEADER_TITLE="Projects",this.isNavCollapsed=!1,this.isSearchOpen=!1,this.isMobileDevice=!1,this.subs.push(this.store.select("authed").subscribe(function(t){l.loggedUser=t.userProfile})),this.subs.push(this.store.select("reference")),this.subs.push(this.store.select("environment").subscribe(function(t){l.isSearchOpen=t.isSearchOpen,l.isNavCollapsed=!t.isNavOpen}))}return AppComponent.prototype.resize=function(t){this.onResize(t)},Object.defineProperty(AppComponent.prototype,"device",{get:function(){return this.isMobileDevice},enumerable:!0,configurable:!0}),Object.defineProperty(AppComponent.prototype,"toggleNavVisible",{get:function(){return this.isNavCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(AppComponent.prototype,"toggleSearch",{get:function(){return this.isSearchOpen},enumerable:!0,configurable:!0}),AppComponent.prototype.ngOnInit=function(){var t=this;this.appService.fetchUserProfile().subscribe(function(e){t.store.dispatch(t.appActions.fetchUserProfileFulfilled(e))}),this.referenceService.fetchTags().subscribe(function(e){t.store.dispatch(t.referenceActions.fetchTags(e.tags))}),this.referenceService.fetchTaskTypes().subscribe(function(e){t.store.dispatch(t.referenceActions.fetchTaskTypes(e.taskTypes))}),this.referenceService.fetchRequestTypes().subscribe(function(e){t.store.dispatch(t.referenceActions.fetchRequestTypes(e.requestTypes))}),this.staffService.fetchOrganizations().subscribe(function(e){t.store.dispatch(t.staffActions.fetchOrganizations(e.organizations))}),this.staffService.fetchEmployees().subscribe(function(e){t.store.dispatch(t.staffActions.fetchEmployees(e.employees))}),this.isMobileDevice=this.isMobile();var e=navigator.language.split("-")[0];e=/(ru|en)/gi.test(e)?e:"en",this.translate.setDefaultLang("en"),this.translate.use("en"),this.translate.get("brand").subscribe(function(e){t.HEADER_TITLE=e,t.isReady=!0})},AppComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},AppComponent.prototype.hideNav=function(t){this.store.dispatch({type:s.a.HIDE_NAV}),t.preventDefault()},AppComponent.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},AppComponent.prototype.onResize=function(t){this.isMobileDevice=t.innerWidth<=1024||this.isMobile()},l([n.i(r.HostListener)("window:resize",["$event.target"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],AppComponent.prototype,"resize",null),l([n.i(r.HostBinding)("class.phone"),u("design:type",Object)],AppComponent.prototype,"device",null),l([n.i(r.HostBinding)("class.side-nav-toggle"),u("design:type",Object)],AppComponent.prototype,"toggleNavVisible",null),l([n.i(r.HostBinding)("class.search-open"),u("design:type",Object)],AppComponent.prototype,"toggleSearch",null),AppComponent=l([n.i(r.Component)({selector:"app",template:n(796)}),u("design:paramtypes",[o.a,s.b,s.c,s.d,a.a,a.b,a.c,i.TranslateService])],AppComponent)}()},858:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(73);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function AttachmentsComponent(t,e){this.http=t,this.uploadService=e,this.editable=!1,this.upload=new r.EventEmitter,this.delete=new r.EventEmitter,this.progress=0}return AttachmentsComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.uploadService.progress$.subscribe(function(e){e&&e<100?t.progress=e:t.progress=0})},AttachmentsComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},AttachmentsComponent.prototype.isThumbnailSupported=function(t){return t.extension?["jpeg","jpg","png","gif"].indexOf(t.extension)!=-1:["jpeg","jpg","png","gif"].indexOf(t.realFileName.toLowerCase().split(".").pop())!=-1},Object.defineProperty(AttachmentsComponent.prototype,"isHidden",{get:function(){return!this.editable&&!this.model.attachments},enumerable:!0,configurable:!0}),AttachmentsComponent.prototype.uploadFile=function(t){var e=this;this.uploadService.makeFileRequest("UploadFile?time="+Date.now(),{fsid:this.model.fsid},t).subscribe(function(n){e.upload.emit({response:n,files:t})})},s([n.i(r.Input)(),a("design:type",Object)],AttachmentsComponent.prototype,"model",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],AttachmentsComponent.prototype,"editable",void 0),s([n.i(r.Output)(),a("design:type",Object)],AttachmentsComponent.prototype,"upload",void 0),s([n.i(r.Output)(),a("design:type",Object)],AttachmentsComponent.prototype,"delete",void 0),AttachmentsComponent=s([n.i(r.Component)({selector:"attachments",template:'\n        <div class="attachments">\n            <i class="fa fa-paperclip" *ngIf="!editable"></i>\n            <label class="btn btn-upload" title="{{\'attach_file\' | translate}}" *ngIf="editable">\n                <i class="fa fa-paperclip"></i>\n                <span>{{\'attach_file\' | translate}}</span>\n                <input type="file" (change)="uploadFile($event.target.files)" style="display:none;"/>\n            </label>\n            <div class="attachment-list" *ngIf="!isHidden">\n                <div class="attachment-list__item" *ngFor="let att of model.attachments">\n                    <div class="attachment">\n                        <a class="attachment__link" title="{{att.realFileName}}" href="{{model.url}}&attachment={{att.id}}">{{att.realFileName}}</a>\n                        <img img-view *ngIf="isThumbnailSupported(att)"\n                            [url]="att.base64 || model.url + \'&attachment=\' + att.id"\n                            [src]="att.base64 || model.url + \'&attachment=\' + att.id + \'&_thumbnail\'" />\n                        <span class="attachment__size">{{model.size}}</span>\n                        <button type="button" class="btn btn-sm btn-link btn-remove" *ngIf="editable" (click)="delete.emit(att)">\n                            <i class="fa fa-times"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',providers:[i.f],host:{"[class.hidden]":"isHidden"}}),a("design:paramtypes",[o.Http,i.f])],AttachmentsComponent)}()},859:function(t,e,n){"use strict";var r=n(0),o=n(72);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function CommentComponent(){this.editable=!1,this.save=new r.EventEmitter,this.delete=new r.EventEmitter,this.saving=!1,this.edit=!1}return CommentComponent.prototype.toggleEdit=function(){this.edit=this.editable&&!this.edit,this.edit?this.commentText=this.comment.comment:this.commentText=""},CommentComponent.prototype.setCommentText=function(t){this.commentText=t},CommentComponent.prototype.saveComment=function(){this.comment.comment=this.commentText,this.saving=!0,this.save.emit(this.comment)},i([n.i(r.Input)(),s("design:type",o.c)],CommentComponent.prototype,"comment",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],CommentComponent.prototype,"editable",void 0),i([n.i(r.Output)(),s("design:type",Object)],CommentComponent.prototype,"save",void 0),i([n.i(r.Output)(),s("design:type",Object)],CommentComponent.prototype,"delete",void 0),CommentComponent=i([n.i(r.Component)({selector:"comment",template:'\n        <div class="comment" [class.edit]="edit" [class.saving]="saving">\n            <div class="comment__avatar"></div>\n            <div class="comment__details">\n                <span class="comment__author">\n                    <employee-input [editable]="false" [ids]="[comment.authorId]"></employee-input>\n                </span>\n                <span class="comment__time">{{comment.regDate}}</span>\n                <p class="comment__text" *ngIf="!edit" innerHTML="{{comment.comment | marked}}"></p>\n                <div class="comment__editor" *ngIf="edit">\n                    <markdown-editor\n                        markdown="{{comment.comment}}"\n                        editable="true"\n                        placeHolder="{{\'add_comment\' | translate}}"\n                        (update)="setCommentText($event)">\n                    </markdown-editor>\n                    <button type="button" class="btn btn-cancel" [disabled]="saving" (click)="toggleEdit()">{{\'cancel\' | translate}}</button>\n                    <button type="button" class="btn btn-primary btn-save" [disabled]="saving" (click)="saveComment()">{{\'save\' | translate}}</button>\n                </div>\n                <!-- <attachments\n                    [model]="comment"\n                    (upload)="addAttachment($event)"\n                    (delete)="deleteAttachment($event)">\n                </attachments> -->\n            </div>\n            <div class="comment__buttons" *ngIf="editable">\n                <button type="button" class="btn btn-sm" *ngIf="!edit" (click)="toggleEdit()">\n                    <i class="fa fa-pencil"></i>{{\'edit\' | translate}}\n                </button>\n                <button type="button" class="btn btn-sm" title="{{\'delete\' | translate}}" (click)="delete.emit(comment)">\n                    <i class="fa fa-remove"></i>\n                </button>\n            </div>\n        </div>\n    '}),s("design:paramtypes",[])],CommentComponent)}()},860:function(t,e,n){"use strict";var r=n(0),o=n(72);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function CommentsComponent(){this.add=new r.EventEmitter,this.update=new r.EventEmitter,this.delete=new r.EventEmitter,this.commentText=""}return CommentsComponent.prototype.onEditorFocus=function(){this.isEdit=!0},CommentsComponent.prototype.onEditorBlur=function(){this.isEdit=this.commentText.length>0},CommentsComponent.prototype.setCommentText=function(t){this.commentText=t},CommentsComponent.prototype.addComment=function(){var t=new o.c;t.comment=this.commentText,this.add.emit(t),this.commentText=""},CommentsComponent.prototype.updateComment=function(t){this.update.emit(t)},CommentsComponent.prototype.deleteComment=function(t){this.delete.emit(t)},i([n.i(r.Input)(),s("design:type",Array)],CommentsComponent.prototype,"comments",void 0),i([n.i(r.Output)(),s("design:type",Object)],CommentsComponent.prototype,"add",void 0),i([n.i(r.Output)(),s("design:type",Object)],CommentsComponent.prototype,"update",void 0),i([n.i(r.Output)(),s("design:type",Object)],CommentsComponent.prototype,"delete",void 0),CommentsComponent=i([n.i(r.Component)({selector:"comments",template:'\n        <div class="comments-wrap">\n            <section class="comments">\n                <comment *ngFor="let comment of comments"\n                    [comment]="comment"\n                    [editable]="true"\n                    (save)="updateComment($event)"\n                    (delete)="deleteComment($event)">\n                </comment>\n            </section>\n            <section class="comment-composer" [class.edit]="isEdit">\n                <div class="comment-composer__editor">\n                    <markdown-editor\n                        editable="true"\n                        placeHolder="{{\'comment\' | translate}}"\n                        (update)="setCommentText($event)"\n                        (focus)="onEditorFocus($event)"\n                        (blur)="onEditorBlur($event)">\n                    </markdown-editor>\n                </div>\n                <button class="btn btn-add-comment"\n                    (click)="addComment()"\n                    [disabled]="!commentText">\n                    {{\'add_comment\' | translate}}\n                </button>\n            </section>\n        </div>\n    '}),s("design:paramtypes",[])],CommentsComponent)}()},861:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function ErrorMessageComponent(){this.error={}}return o([n.i(r.Input)(),i("design:type",Object)],ErrorMessageComponent.prototype,"error",void 0),ErrorMessageComponent=o([n.i(r.Component)({selector:"error-message",template:'\n        <div class="error-message__message" *ngIf="error">\n            {{error.message | translate}}\n        </div>\n    ',host:{"[class.error-message]":"true","[class.show]":"error"}}),i("design:paramtypes",[])],ErrorMessageComponent)}()},862:function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(16),s=n(168),a=n(254);n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function NavComponent(t,e,n,r){this.router=t,this.store=e,this.projectActions=n,this.projectService=r,this.subs=[]}return NavComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("projects").subscribe(function(e){t.projects=e.projects})),this.loadNavProjects()},NavComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},NavComponent.prototype.isActive=function(t){return this.router.isActive(this.router.createUrlTree(t),!0)},NavComponent.prototype.loadNavProjects=function(){var t=this;this.projectService.fetchProjects().subscribe(function(e){t.store.dispatch(t.projectActions.fetchProjectsFulfilled(e.projects,e.meta))})},NavComponent=c([n.i(r.Component)({selector:"[data-c=nav]",template:n(797)}),l("design:paramtypes",[o.a,i.a,s.a,a.a])],NavComponent)}()},863:function(t,e,n){"use strict";var r=n(0),o=n(34),i=(n.n(o),n(16)),s=n(84),a=n(119),c=n(514);n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function NavbarComponent(t,e,n){var r=this;this.store=t,this.environmentActions=e,this.appService=n,this.keyup$=new o.Subject,this.headerTitle="Projects",
this.logoUrl="img/logo.png",this.keyWord="",this.subs=[],this.subs.push(this.store.select("environment").subscribe(function(t){r.keyWord=t.keyWord}))}return NavbarComponent.prototype.ngOnInit=function(){var t=this;this.keyup$.debounceTime(250).map(function(t){return t.target.value}).distinctUntilChanged().subscribe(function(e){return t.search(e)})},NavbarComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},Object.defineProperty(NavbarComponent.prototype,"workspaceUrl",{get:function(){return this.appService.workspaceUrl},enumerable:!0,configurable:!0}),NavbarComponent.prototype.searchFocus=function(){this.store.dispatch(this.environmentActions.toggleSearch())},NavbarComponent.prototype.searchBlur=function(){this.store.dispatch(this.environmentActions.hideNav())},NavbarComponent.prototype.search=function(t){this.store.dispatch(this.environmentActions.search(t))},NavbarComponent.prototype.toggleNav=function(){this.store.dispatch(this.environmentActions.toggleNav())},NavbarComponent.prototype.logout=function(t){t.preventDefault(),window.location.href="Logout"},l([n.i(r.Input)(),u("design:type",c.a)],NavbarComponent.prototype,"user",void 0),NavbarComponent=l([n.i(r.Component)({selector:"navbar",template:n(798)}),u("design:paramtypes",[i.a,a.a,s.a])],NavbarComponent)}()},864:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function RequestDeclineDialogComponent(){this.confirm=new r.EventEmitter,this.cancel=new r.EventEmitter}return o([n.i(r.Output)(),i("design:type",Object)],RequestDeclineDialogComponent.prototype,"confirm",void 0),o([n.i(r.Output)(),i("design:type",Object)],RequestDeclineDialogComponent.prototype,"cancel",void 0),RequestDeclineDialogComponent=o([n.i(r.Component)({selector:"request-decline-dialog",template:'\n        <div class="dialog__container">\n            <header class="dialog__head">{{\'decline\' | translate}}?</header>\n            <section class="dialog__body">\n                <textarea name="comment" placeholder="{{\'decline_reason\' | translate}}" [(ngModel)]="comment"></textarea>\n            </section>\n            <footer class="dialog__footer">\n                <button type="button" class="btn" (click)="cancel.emit(true)">\n                    {{\'cancel\' | translate}}\n                </button>\n                <button type="button" class="btn btn-primary" (click)="confirm.emit(comment)">\n                    {{\'decline\' | translate}}\n                </button>\n            </footer>\n        </div>\n    ',host:{"[class.task-cancel-dialog]":"true","[class.nb-dialog]":"true"}}),i("design:paramtypes",[])],RequestDeclineDialogComponent)}()},865:function(t,e,n){"use strict";var r=n(0),o=n(16);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function EmployeeInputComponent(t){this.store=t,this.placeHolder="",this.multiple=!1,this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.ids=[],this.employees=[],this.selectedEmps=[]}return Object.defineProperty(EmployeeInputComponent.prototype,"_ids",{set:function(t){this.ids=t,this.checkSelected()},enumerable:!0,configurable:!0}),EmployeeInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("staff").subscribe(function(e){t.employees=e.employees,t.checkSelected()})},EmployeeInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},EmployeeInputComponent.prototype.checkSelected=function(){var t=this;this.ids&&this.employees&&(this.selectedEmps=this.employees.filter(function(e){return t.ids.indexOf(e.userID)!=-1}))},EmployeeInputComponent.prototype.onSelect=function(t){this.select.emit(t)},i([n.i(r.Input)("ids"),s("design:type",Array),s("design:paramtypes",[Array])],EmployeeInputComponent.prototype,"_ids",null),i([n.i(r.Input)(),s("design:type",String)],EmployeeInputComponent.prototype,"placeHolder",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],EmployeeInputComponent.prototype,"multiple",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],EmployeeInputComponent.prototype,"editable",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],EmployeeInputComponent.prototype,"allowClear",void 0),i([n.i(r.Output)(),s("design:type",Object)],EmployeeInputComponent.prototype,"select",void 0),EmployeeInputComponent=i([n.i(r.Component)({selector:"employee-input",template:'\n        <selection\n            class="employee-input"\n            [items]="employees"\n            [selectedItems]="selectedEmps"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [multiple]="multiple"\n            [placeHolder]="placeHolder"\n            (change)="onSelect($event)">\n        </selection>\n    '}),s("design:paramtypes",[o.a])],EmployeeInputComponent)}()},866:function(t,e,n){"use strict";var r=n(867),o=n(868),i=n(869),s=n(871),a=n(873),c=n(865),l=n(872),u=n(870);n.d(e,"b",function(){return r.a}),n.d(e,"d",function(){return o.a}),n.d(e,"g",function(){return i.a}),n.d(e,"f",function(){return s.a}),n.d(e,"e",function(){return a.a}),n.d(e,"c",function(){return c.a}),n.d(e,"h",function(){return l.a}),n.d(e,"a",function(){return u.a})},867:function(t,e,n){"use strict";var r=n(0),o=n(255),i=n(72);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function OrganizationInputComponent(t){this.staffService=t,this.placeHolder="",this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.organizations=[],this.meta={page:0,totalPages:1},this.allLoaded=!1,this.firstLoad=!0}return OrganizationInputComponent.prototype.ngOnInit=function(){var t=this;!this.org&&this.id&&this.staffService.fetchOrganizations({ids:this.id}).subscribe(function(e){t.org=e.organizations[0]})},OrganizationInputComponent.prototype.load=function(t){t.first&&this.firstLoad?(this.loadOrganizations(),this.firstLoad=!1):t.next&&!this.allLoaded?this.meta&&this.meta.page<this.meta.totalPages?this.loadOrganizations(this.meta.page+1):this.allLoaded=!0:"string"==typeof t.search&&this.loadOrganizations(1,t.search,!0)},OrganizationInputComponent.prototype.loadOrganizations=function(t,e,n){var r=this;void 0===t&&(t=1),void 0===e&&(e=""),void 0===n&&(n=!1),this.staffService.fetchOrganizations({page:t,keyword:e}).subscribe(function(t){n?r.organizations=t.organizations:r.organizations=r.organizations.concat(t.organizations),r.meta=t.meta})},OrganizationInputComponent.prototype.onSelect=function(t){this.org=t,this.select.emit(this.org)},s([n.i(r.Input)(),a("design:type",String)],OrganizationInputComponent.prototype,"id",void 0),s([n.i(r.Input)(),a("design:type",i.d)],OrganizationInputComponent.prototype,"org",void 0),s([n.i(r.Input)(),a("design:type",String)],OrganizationInputComponent.prototype,"placeHolder",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],OrganizationInputComponent.prototype,"editable",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],OrganizationInputComponent.prototype,"allowClear",void 0),s([n.i(r.Output)(),a("design:type",r.EventEmitter)],OrganizationInputComponent.prototype,"select",void 0),OrganizationInputComponent=s([n.i(r.Component)({selector:"organization-input",template:'\n        <selection\n            class="organization-input"\n            [items]="organizations"\n            [selectedItems]="org? [org] : []"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [placeHolder]="placeHolder"\n            (load)="load($event)"\n            (change)="onSelect($event)">\n        </selection>\n    '}),a("design:paramtypes",[o.a])],OrganizationInputComponent)}()},868:function(t,e,n){"use strict";var r=n(0),o=n(16);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function ProjectInputComponent(t){this.store=t,this.placeHolder="",this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.projects=[]}return ProjectInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("projects").subscribe(function(e){t.projects=e.projects,t.project=e.projects.filter(function(e){return e.id==t.id})[0]})},ProjectInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},ProjectInputComponent.prototype.onSelect=function(t){this.project=t,this.select.emit(this.project)},i([n.i(r.Input)(),s("design:type",String)],ProjectInputComponent.prototype,"id",void 0),i([n.i(r.Input)(),s("design:type",String)],ProjectInputComponent.prototype,"placeHolder",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],ProjectInputComponent.prototype,"editable",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],ProjectInputComponent.prototype,"allowClear",void 0),i([n.i(r.Output)(),s("design:type",r.EventEmitter)],ProjectInputComponent.prototype,"select",void 0),ProjectInputComponent=i([n.i(r.Component)({selector:"project-input",template:'\n        <selection\n            class="project-input"\n            [items]="projects"\n            [selectedItems]="project ? [project] : []"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [placeHolder]="placeHolder"\n            (change)="onSelect($event)">\n        </selection>\n    '}),s("design:paramtypes",[o.a])],ProjectInputComponent)}()},869:function(t,e,n){"use strict";var r=n(0),o=n(16),i=n(72);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function RequestTypeInputComponent(t){var e=this;this.store=t,this.placeHolder="",this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.sub=this.store.select("reference").subscribe(function(t){e.requestTypes=t.requestTypes})}return RequestTypeInputComponent.prototype.ngOnInit=function(){this.requestType||this.onSelect(this.requestTypes.filter(function(t){return"implement"==t.name})[0])},RequestTypeInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},RequestTypeInputComponent.prototype.onSelect=function(t){this.requestType=t,this.select.emit(this.requestType)},s([n.i(r.Input)(),a("design:type",i.e)],RequestTypeInputComponent.prototype,"requestType",void 0),s([n.i(r.Input)(),a("design:type",String)],RequestTypeInputComponent.prototype,"placeHolder",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],RequestTypeInputComponent.prototype,"editable",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],RequestTypeInputComponent.prototype,"allowClear",void 0),s([n.i(r.Output)(),a("design:type",r.EventEmitter)],RequestTypeInputComponent.prototype,"select",void 0),RequestTypeInputComponent=s([n.i(r.Component)({selector:"request-type-input",template:'\n        <selection\n            class="request-type-input"\n            [items]="requestTypes"\n            [selectedItems]="requestType ? [requestType] : []"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [multiple]="false"\n            [placeHolder]="placeHolder"\n            (change)="onSelect($event)">\n        </selection>\n    '}),a("design:paramtypes",[o.a])],RequestTypeInputComponent)}()},870:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function SelectionComponent(t){this.renderer=t,this.selectedItems=[],this.idKey="id",this.textKey="name",this.classPrefix="",this.itemStyle="",this.multiple=!1,this.disabled=!1,this.allowClear=!1,this.searchable=!1,this.contentLoadable=!1,this.tabIndex=0,this.placeHolder="",this.notFoundMessage="",this.load=new r.EventEmitter,this.change=new r.EventEmitter,this.items=[],this._items=[],this.selectedItemIds=[],this.isOpen=!1,this.isFocused=!1,this.selfClick=!1,this.firstOpen=!0,this.keyWord="",this.mode={search:!0}}return Object.defineProperty(SelectionComponent.prototype,"_tabIndex",{get:function(){return this.tabIndex},enumerable:!0,configurable:!0}),SelectionComponent.prototype.onFocus=function(t){this.disabled||(t.preventDefault(),this.isFocused=!0)},SelectionComponent.prototype.onBlur=function(t){this.disabled||this.selfClick||(t.preventDefault(),this.close(),this.clearSearchInput())},SelectionComponent.prototype.onClick=function(t){this.selfClick=!0},SelectionComponent.prototype.onKeyDown=function(t){this.disabled||this.handleEvent(t)},Object.defineProperty(SelectionComponent.prototype,"__items",{set:function(t){this.items=t,this._items=t},enumerable:!0,configurable:!0}),SelectionComponent.prototype.ngOnInit=function(){var t=this;this.selectedItemIds=this.selectedItems.map(function(e){return e[t.idKey]})},SelectionComponent.prototype.ngOnDestroy=function(){this.removeListenGlobal()},Object.defineProperty(SelectionComponent.prototype,"classes",{get:function(){return{select:!0,selection:!0,open:this.isOpen,"is-open":this.isOpen,"is-focused":this.isFocused,"is-multiple":this.multiple,"allow-clear":this.isAllowClear,"has-selected":this.hasSelected}},enumerable:!0,configurable:!0}),Object.defineProperty(SelectionComponent.prototype,"isAllowClear",{get:function(){return this.allowClear&&this.selectedItems.length},enumerable:!0,configurable:!0}),Object.defineProperty(SelectionComponent.prototype,"hasSelected",{get:function(){return this.selectedItems.length},enumerable:!0,configurable:!0}),SelectionComponent.prototype.initListenGlobal=function(){var t=this;this.documentClickListener=this.renderer.listenGlobal("body","click",function(){t.selfClick?t.selfClick=!1:(t.close(),t.clearSearchInput())}),this.documentKeyUpListener=this.renderer.listenGlobal("body","keyup",function(e){"Escape"===e.code&&(t.close(),t.clearSearchInput())})},SelectionComponent.prototype.removeListenGlobal=function(){this.disabled||(this.documentClickListener&&this.documentClickListener(),this.documentKeyUpListener&&this.documentKeyUpListener())},SelectionComponent.prototype.emitChange=function(){this.multiple?this.change.emit(this.selectedItems):this.change.emit(this.selectedItems[0])},SelectionComponent.prototype.add=function(t){var e=this;this.multiple?(this.selectedItems.push(t),this.selectedItemIds=this.selectedItems.map(function(t){return t[e.idKey]})):(this.selectedItems=[t],this.selectedItemIds=[t[this.idKey]],this.close()),this.emitChange(),this.clearSearchInput(),this.filterItems()},SelectionComponent.prototype.remove=function(t,e){var n=this;this.multiple&&(e.stopPropagation(),e.preventDefault(),this.multiple?(this.selectedItems=this.selectedItems.filter(function(e){return e[n.idKey]!=t[n.idKey]}),this.selectedItemIds=this.selectedItems.map(function(t){return t[n.idKey]})):(this.selectedItems=[],this.selectedItemIds=[]),this.emitChange(),this.clearSearchInput(),this.filterItems())},SelectionComponent.prototype.clear=function(t){t.stopPropagation(),this.selectedItems=[],this.selectedItemIds=[],this.emitChange(),this.clearSearchInput(),this.filterItems()},SelectionComponent.prototype.clearSearchInput=function(){this.searchable&&this.searchInput&&(this.searchInput.nativeElement.value="")},SelectionComponent.prototype.filterItems=function(t){var e=this;!this.contentLoadable&&t?this._items=this.items.filter(function(n){return n[e.textKey].indexOf(t)!=-1}):this._items=this.items.filter(function(t){return e.selectedItemIds.indexOf(t[e.idKey])==-1})},SelectionComponent.prototype.search=function(t){this.keyWord!==t&&(this.contentLoadable?this.load.emit({search:t}):this.filterItems(t),this.keyWord=t,this.open())},SelectionComponent.prototype.handleEvent=function(t){"Enter"===t.key?this.toggleOpen(t):"Escape"===t.key||"Tab"===t.key?(this.close(),this.clearSearchInput()):"ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key||("search"===t.target.name?(t.stopPropagation(),this.search(t.target.value)):console.log(t))},SelectionComponent.prototype.open=function(){this.isOpen||this.initListenGlobal(),this.isOpen=!0,this.isFocused=!0,this.firstOpen&&(this.load.emit({first:!0}),this.firstOpen=!1)},SelectionComponent.prototype.close=function(){this.isOpen=!1,this.isFocused=!1,this.removeListenGlobal()},SelectionComponent.prototype.toggleOpen=function(t){t.preventDefault(),this.isOpen?this.close():this.open()},SelectionComponent.prototype.onScroll=function(t){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&this.load.emit({next:!0})},o([n.i(r.HostBinding)("tabIndex"),i("design:type",Object)],SelectionComponent.prototype,"_tabIndex",null),o([n.i(r.HostListener)("focus",["$event"]),i("design:type",Function),i("design:paramtypes",[MouseEvent]),i("design:returntype",void 0)],SelectionComponent.prototype,"onFocus",null),o([n.i(r.HostListener)("blur",["$event"]),i("design:type",Function),i("design:paramtypes",[MouseEvent]),i("design:returntype",void 0)],SelectionComponent.prototype,"onBlur",null),o([n.i(r.HostListener)("click",["$event"]),i("design:type",Function),i("design:paramtypes",[MouseEvent]),i("design:returntype",void 0)],SelectionComponent.prototype,"onClick",null),o([n.i(r.HostListener)("keydown",["$event"]),i("design:type",Function),i("design:paramtypes",[KeyboardEvent]),i("design:returntype",void 0)],SelectionComponent.prototype,"onKeyDown",null),o([n.i(r.Input)("items"),i("design:type",Object),i("design:paramtypes",[Object])],SelectionComponent.prototype,"__items",null),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"selectedItems",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"idKey",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"textKey",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"classKey",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"classPrefix",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"itemStyle",void 0),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"multiple",void 0),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"disabled",void 0),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"allowClear",void 0),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"searchable",void 0),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"contentLoadable",void 0),o([n.i(r.Input)(),i("design:type",Object)],SelectionComponent.prototype,"tabIndex",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"placeHolder",void 0),o([n.i(r.Input)(),i("design:type",String)],SelectionComponent.prototype,"notFoundMessage",void 0),o([n.i(r.Output)(),i("design:type",Object)],SelectionComponent.prototype,"load",void 0),o([n.i(r.Output)(),i("design:type",Object)],SelectionComponent.prototype,"change",void 0),o([n.i(r.ViewChild)("searchInput"),i("design:type",r.ElementRef)],SelectionComponent.prototype,"searchInput",void 0),SelectionComponent=o([n.i(r.Component)({selector:"selection",template:'\n       <div [ngClass]="classes" *ngIf="disabled">\n            <span class="selection input">\n                <span class="selection-item {{classPrefix}}{{m[classKey]}}" [style.color]="m.color" *ngFor="let m of selectedItems">\n                    testdsss{{m | localizedName:textKey}}\n                </span>\n            </span>\n        </div>\n        <div [ngClass]="classes" *ngIf="!disabled">\n            <div class="select-selection input" (click)="toggleOpen($event)">\n                <span class="selection-item {{classPrefix}}{{m[classKey]}}"\n                      *ngFor="let m of selectedItems"\n                      [style.color]="m.color"\n                      (click)="remove(m, $event)">\n                    {{m | localizedName:textKey}}\n                </span>\n                <input class="select-search-input"\n                    *ngIf="false && searchable"\n                    #searchInput\n                    name="search"\n                    value=""\n                    autocomplete="off"\n                    (keyup)="handleEvent($event)" />\n                <span class="placeholder">{{placeHolder}}</span>\n                <span class="select-clear" (click)="clear($event)">&times;</span>\n            </div>\n            <div class="select-dropdown">\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" [class.selected]="selectedItemIds.indexOf(m[idKey]) !== -1" *ngFor="let m of _items" (click)="add(m)">\n                        <div class="{{classPrefix}}{{m[classKey]}}" [style.color]="m.color">\n                            {{m | localizedName:textKey}}\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),i("design:paramtypes",[r.Renderer])],SelectionComponent)}()},871:function(t,e,n){"use strict";var r=n(0),o=n(16);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function TagsInputComponent(t){this.store=t,this.ids=[],this.placeHolder="",this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.tags=[],this.selectedTags=[]}return TagsInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("reference").subscribe(function(e){t.tags=e.tags,t.ids&&(t.selectedTags=e.tags.filter(function(e){return t.ids.indexOf(e.id)!=-1}))})},TagsInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TagsInputComponent.prototype.onSelect=function(t){this.select.emit(t)},i([n.i(r.Input)(),s("design:type",Array)],TagsInputComponent.prototype,"ids",void 0),i([n.i(r.Input)(),s("design:type",String)],TagsInputComponent.prototype,"placeHolder",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],TagsInputComponent.prototype,"editable",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],TagsInputComponent.prototype,"allowClear",void 0),i([n.i(r.Output)(),s("design:type",r.EventEmitter)],TagsInputComponent.prototype,"select",void 0),TagsInputComponent=i([n.i(r.Component)({selector:"tags-input",template:'\n        <selection\n            class="tags-input"\n            [items]="tags"\n            [selectedItems]="selectedTags"\n            classPrefix="tag"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [multiple]="true"\n            [placeHolder]="placeHolder"\n            (change)="onSelect($event)">\n        </selection>\n    '}),s("design:paramtypes",[o.a])],TagsInputComponent)}()},872:function(t,e,n){"use strict";var r=n(0),o=n(39);n.n(o);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function TaskStatusInputComponent(t){var e=this;this.translate=t,this.placeHolder="",this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.status={},this.statusName="",this.statusList=[],t.get(["processing","completed","waiting","cancelled","pending","open"]).subscribe(function(t){e.statusList=[{id:"PROCESSING",name:t.processing,klass:"processing"},{id:"COMPLETED",name:t.completed,klass:"completed"},{id:"WAITING",name:t.waiting,klass:"waiting"},{id:"CANCELLED",name:t.cancelled,klass:"cancelled"},{id:"PENDING",name:t.pending,klass:"pending"},{id:"OPEN",name:t.open,klass:"open"}],e.status=e.statusList.filter(function(t){return t.id===e.statusName})})}return Object.defineProperty(TaskStatusInputComponent.prototype,"_status",{set:function(t){this.statusName=t,this.status=this.statusList.filter(function(e){return e.id===t})},enumerable:!0,configurable:!0}),TaskStatusInputComponent.prototype.onSelect=function(t){this.status=t,this.select.emit(this.status?this.status.id:"")},i([n.i(r.Input)("status"),s("design:type",String),s("design:paramtypes",[String])],TaskStatusInputComponent.prototype,"_status",null),i([n.i(r.Input)(),s("design:type",String)],TaskStatusInputComponent.prototype,"placeHolder",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],TaskStatusInputComponent.prototype,"editable",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],TaskStatusInputComponent.prototype,"allowClear",void 0),i([n.i(r.Output)(),s("design:type",r.EventEmitter)],TaskStatusInputComponent.prototype,"select",void 0),TaskStatusInputComponent=i([n.i(r.Component)({selector:"task-status-input",template:'\n        <selection\n            class="task-status-input"\n            [items]="statusList"\n            [selectedItems]="status ? status : []"\n            textKey="name"\n            classKey="klass"\n            classPrefix="status-"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [placeHolder]="placeHolder"\n            (change)="onSelect($event)">\n        </selection>\n    '}),s("design:paramtypes",[o.TranslateService])],TaskStatusInputComponent)}()},873:function(t,e,n){"use strict";var r=n(0),o=n(16);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function TaskTypeInputComponent(t){this.store=t,this.placeHolder="",this.editable=!1,this.allowClear=!1,this.select=new r.EventEmitter,this.taskTypes=[]}return TaskTypeInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("reference").subscribe(function(e){t.taskTypes=e.taskTypes,t.taskType=e.taskTypes.filter(function(e){return e.id==t.id})[0]})},TaskTypeInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TaskTypeInputComponent.prototype.onSelect=function(t){this.taskType=t,this.select.emit(this.taskType)},i([n.i(r.Input)(),s("design:type",String)],TaskTypeInputComponent.prototype,"id",void 0),i([n.i(r.Input)(),s("design:type",String)],TaskTypeInputComponent.prototype,"placeHolder",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],TaskTypeInputComponent.prototype,"editable",void 0),i([n.i(r.Input)(),s("design:type",Boolean)],TaskTypeInputComponent.prototype,"allowClear",void 0),i([n.i(r.Output)(),s("design:type",r.EventEmitter)],TaskTypeInputComponent.prototype,"select",void 0),TaskTypeInputComponent=i([n.i(r.Component)({selector:"task-type-input",template:'\n        <selection\n            class="task-type-input"\n            [items]="taskTypes"\n            [selectedItems]="taskType ? [taskType] : []"\n            [disabled]="!editable"\n            [searchable]="true"\n            [allowClear]="allowClear"\n            [placeHolder]="placeHolder"\n            (change)="onSelect($event)">\n        </selection>\n    '}),s("design:paramtypes",[o.a])],TaskTypeInputComponent)}()},874:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function TaskCancelDialogComponent(){this.confirm=new r.EventEmitter,this.cancel=new r.EventEmitter}return o([n.i(r.Output)(),i("design:type",Object)],TaskCancelDialogComponent.prototype,"confirm",void 0),o([n.i(r.Output)(),i("design:type",Object)],TaskCancelDialogComponent.prototype,"cancel",void 0),TaskCancelDialogComponent=o([n.i(r.Component)({selector:"task-cancel-dialog",template:'\n        <div class="dialog__container">\n            <header class="dialog__head">{{\'cancel_task\' | translate}}?</header>\n            <section class="dialog__body">\n                <textarea name="comment" placeholder="{{\'cancel_reason\' | translate}}" [(ngModel)]="comment"></textarea>\n            </section>\n            <footer class="dialog__footer">\n                <button type="button" class="btn" (click)="cancel.emit(true)">\n                    {{\'close\' | translate}}\n                </button>\n                <button type="button" class="btn btn-primary" (click)="confirm.emit(comment)">\n                    {{\'cancel_task\' | translate}}\n                </button>\n            </footer>\n        </div>\n    ',
host:{"[class.task-cancel-dialog]":"true","[class.nb-dialog]":"true"}}),i("design:paramtypes",[])],TaskCancelDialogComponent)}()},875:function(t,e,n){"use strict";var r=n(0),o=n(16);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function TaskFilterComponent(t){var e=this;this.store=t,this.change=new r.EventEmitter,this.taskStatus="",this.taskTypeId="",this.assigneeUserId="",this.tagIds=[],this.sub=this.store.select("tasks").subscribe(function(t){t&&(e.taskStatus=t.filter.taskStatus,e.taskTypeId=t.filter.taskTypeId,e.assigneeUserId=t.filter.assigneeUserId,e.tagIds=t.filter.tagIds)})}return TaskFilterComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TaskFilterComponent.prototype.setTaskStatus=function(t){this.taskStatus=t,this.updateFilter()},TaskFilterComponent.prototype.setTaskType=function(t){t?this.taskTypeId=t.id:this.taskTypeId="",this.updateFilter()},TaskFilterComponent.prototype.setAssigneeUser=function(t){t?this.assigneeUserId=t.userID:this.assigneeUserId="",this.updateFilter()},TaskFilterComponent.prototype.setTags=function(t){this.tagIds=t.map(function(t){return t.id}),this.updateFilter()},TaskFilterComponent.prototype.updateFilter=function(){this.change.emit({taskStatus:this.taskStatus,taskTypeId:this.taskTypeId,assigneeUserId:this.assigneeUserId,tagIds:this.tagIds})},i([n.i(r.Output)(),s("design:type",Object)],TaskFilterComponent.prototype,"change",void 0),TaskFilterComponent=i([n.i(r.Component)({selector:"task-filter",template:'\n        <div class="task-filter__icon"><i class="fa fa-filter"></i></div>\n        <task-status-input [status]="taskStatus" editable="true" allowClear="true" placeHolder="{{\'status\' | translate}}" (select)="setTaskStatus($event)"></task-status-input>\n        <task-type-input [id]="taskTypeId" editable="true" allowClear="true" placeHolder="{{\'task_type\' | translate}}" (select)="setTaskType($event)"></task-type-input>\n        <employee-input [ids]="[assigneeUserId]" editable="true" allowClear="true" placeHolder="{{\'assignee_user\' | translate}}" (select)="setAssigneeUser($event)"></employee-input>\n        <tags-input [ids]="tagIds" editable="true" allowClear="true" placeHolder="{{\'tags\' | translate}}" (select)="setTags($event)"></tags-input>\n    ',host:{"[class.task-filter]":"true"}}),s("design:paramtypes",[o.a])],TaskFilterComponent)}()},876:function(t,e,n){"use strict";var r=n(0),o=n(16),i=n(59);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function TaskTreeComponent(t,e){this.store=t,this.taskActions=e,this.children=[],this.expand=!1,this.selectable=!0,this.expandedIds=[],this.expanded=!1,this.level=1}return Object.defineProperty(TaskTreeComponent.prototype,"isHidden",{get:function(){return!this.expanded},enumerable:!0,configurable:!0}),Object.defineProperty(TaskTreeComponent.prototype,"_level",{set:function(t){this.level=1+t},enumerable:!0,configurable:!0}),TaskTreeComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("tasks").subscribe(function(e){t.expandedIds=e.expandedIds,t.expand||t.expandedIds.indexOf(t.rootId)!=-1?t.expanded=!0:t.expanded=!1})},TaskTreeComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TaskTreeComponent.prototype.toggleExpanded=function(t,e){e.preventDefault(),e.stopPropagation(),this.store.dispatch(this.taskActions.toggleExpanded(t))},s([n.i(r.HostBinding)("class.hidden"),a("design:type",Object)],TaskTreeComponent.prototype,"isHidden",null),s([n.i(r.Input)("level"),a("design:type",Number),a("design:paramtypes",[Number])],TaskTreeComponent.prototype,"_level",null),s([n.i(r.Input)(),a("design:type",String)],TaskTreeComponent.prototype,"rootId",void 0),s([n.i(r.Input)(),a("design:type",Object)],TaskTreeComponent.prototype,"children",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],TaskTreeComponent.prototype,"expand",void 0),s([n.i(r.Input)(),a("design:type",Boolean)],TaskTreeComponent.prototype,"selectable",void 0),TaskTreeComponent=s([n.i(r.Component)({selector:"task-tree",template:n(802)}),a("design:paramtypes",[o.a,i.e])],TaskTreeComponent)}()},877:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function Attachment(){this.id=""}return Attachment}()},878:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function Comment(){this.id="",this.fsid=""+Date.now()}return Comment}()},879:function(t,e,n){"use strict";(function(){function Employee(){this.id="",this.name="@anonymous"}return Employee})()},880:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function Organization(){this.id=""}return Organization}()},881:function(t,e,n){"use strict";(function(){function Project(){this.id="",this.editable=!1,this.fsid=""+Date.now(),this.acl={},this.status="DRAFT"}return Project})()},882:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function RequestType(){this.id=""}return RequestType}()},883:function(t,e,n){"use strict";(function(){function Request(){this.id="",this.fsid=""+Date.now(),this.acl={},this.comment=""}return Request})()},884:function(t,e,n){"use strict";(function(){function Tag(){this.id=""}return Tag})()},885:function(t,e,n){"use strict";(function(){function TaskType(){this.id=""}return TaskType})()},886:function(t,e,n){"use strict";(function(){function Task(){this.id="",this.editable=!1,this.fsid=""+Date.now(),this.acl={},this.children={},this.status="DRAFT",this.priority="NORMAL",this.customerObservation=!1}return Task})()},887:function(t,e,n){"use strict";var r=n(0),o=n(1);n.n(o);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function DateDurationPipe(){}return DateDurationPipe.prototype.transform=function(t,e){if(!t&&!e)return"";var n,r,i;return n="now"===t?o():o(t,"DD.MM.YYYY"),r=o(e,"DD.MM.YYYY"),i=r.diff(n,"days"),i?"("+i.toString()+")":""},DateDurationPipe=i([n.i(r.Pipe)({name:"dateDuration"}),s("design:paramtypes",[])],DateDurationPipe)}()},888:function(t,e,n){"use strict";var r=n(0),o=n(1);n.n(o);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function DateFormatPipe(){}return DateFormatPipe.prototype.transform=function(t,e){if(!t)return"";e||(e="DD.MM.YYYY HH:mm");var n=o(t,e);return n.isValid()?n.format(e):""},DateFormatPipe=i([n.i(r.Pipe)({name:"dateFmt"}),s("design:paramtypes",[])],DateFormatPipe)}()},889:function(t,e,n){"use strict";var r=n(888),o=n(887),i=n(892),s=n(893),a=n(890),c=n(891);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a}),n.d(e,"c",function(){return i.a}),n.d(e,"f",function(){return s.a}),n.d(e,"e",function(){return a.a}),n.d(e,"d",function(){return c.a})},890:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function KeysPipe(){}return KeysPipe.prototype.transform=function(t,e){var n=[];for(var r in t)n.push(r);return n},KeysPipe=o([n.i(r.Pipe)({name:"keys"}),i("design:paramtypes",[])],KeysPipe)}()},891:function(t,e,n){"use strict";var r=n(0),o=n(73);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function LocalizedNamePipe(t){this.appService=t}return LocalizedNamePipe.prototype.transform=function(t,e,n){if(t){var r=e||"name",o=n||this.appService.language;return t.localizedName?t.localizedName[o]||t[r]:t[r]||""}return""},LocalizedNamePipe=i([n.i(r.Pipe)({name:"localizedName"}),s("design:paramtypes",[o.a])],LocalizedNamePipe)}()},892:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function TextTransformPipe(){}return TextTransformPipe.prototype.transform=function(t,e){switch(e){case"L":return t.toLowerCase();case"U":return t.toUpperCase();default:return t}},TextTransformPipe=o([n.i(r.Pipe)({name:"text"}),i("design:paramtypes",[])],TextTransformPipe)}()},893:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function ValuesPipe(){}return ValuesPipe.prototype.transform=function(t,e){return Object.keys(t).map(function(e){return t[e]})},ValuesPipe=o([n.i(r.Pipe)({name:"values"}),i("design:paramtypes",[])],ValuesPipe)}()},894:function(t,e,n){"use strict";var r=n(503);n.d(e,"a",function(){return i});var o={userProfile:null,languages:{},pageSize:20,language:"RUS"},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.a.FETCH_USER_PROFILE_FULFILLED:return Object.assign({},t,{userProfile:i.userProfile,languages:i.languages,pageSize:i.pageSize,language:i.language});default:return t}}},895:function(t,e,n){"use strict";var r=n(119);n.d(e,"a",function(){return i});var o={isMobile:!1,isNavOpen:!0,isSearchOpen:!1,redirectUrl:"/tasks",keyWord:""},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.a.SEARCH:return Object.assign({},t,{keyWord:i.keyWord});case r.a.RESET_SEARCH:return Object.assign({},t,{keyWord:""});case r.a.TOGGLE_NAV:return Object.assign({},t,{isNavOpen:!t.isNavOpen});case r.a.TOGGLE_SEARCH:return Object.assign({},t,{isSearchOpen:!t.isSearchOpen});case r.a.HIDE_NAV:return Object.assign({},t,{isNavOpen:!0,isSearchOpen:!1});case r.a.SET_REDIRECT_URL:return Object.assign({},t,{redirectUrl:i.redirectUrl});default:return t}}},896:function(t,e,n){"use strict";var r=n(168);n.d(e,"a",function(){return i});var o={meta:{},projects:[],project:void 0,loading:!1},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.a.FETCH_PROJECTS:return Object.assign({},t,{loading:!0});case r.a.FETCH_PROJECTS_FAILED:return Object.assign({},t,{loading:!1});case r.a.FETCH_PROJECTS_FULFILLED:return Object.assign({},t,{projects:i.projects,meta:i.meta,loading:!1});default:return t}}},897:function(t,e,n){"use strict";var r=n(504);n.d(e,"a",function(){return i});var o={tags:[],taskTypes:[],requestTypes:[],fetchFail:!1},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.a.FETCH_TAGS:return Object.assign({},t,{tags:i.tags});case r.a.FETCH_TASK_TYPES:return Object.assign({},t,{taskTypes:i.taskTypes});case r.a.FETCH_REQUEST_TYPES:return Object.assign({},t,{requestTypes:i.requestTypes});case r.a.FETCH_REFERENCE_FAILED:return Object.assign({},t,{fetchFail:!0});default:return t}}},898:function(t,e,n){"use strict";var r=n(59);n.d(e,"a",function(){return i});var o={organizations:[],employees:[]},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.d.FETCH_ORGANIZATIONS:return Object.assign({},t,{organizations:i.organizations});case r.d.FETCH_EMPLOYEES:return Object.assign({},t,{employees:i.employees});default:return t}}},899:function(t,e,n){"use strict";var r=n(59);n.d(e,"a",function(){return i});var o={task:null,request:null,requests:[],showRequest:!1,isResolveAction:!1,comments:[]},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.e.FETCH_TASK_REQUESTS_FULFILLED:return Object.assign({},t,{requests:i.requests});case r.e.TASK_REQUEST_ACCEPTANCE:return Object.assign({},t,{task:i.task,request:i.request,showRequest:!0,isResolveAction:!0});case r.e.TASK_REQUEST_NEW:return Object.assign({},t,{task:i,request:null,showRequest:!0,isResolveAction:!1});case r.e.TASK_REQUEST_CANCEL:return Object.assign({},t,{showRequest:!1});case r.e.FETCH_TASK_COMMENTS_FULFILLED:return Object.assign({},t,{comments:i.comments});case r.e.TASK_UNLOAD:return o;default:return t}}},900:function(t,e,n){"use strict";var r=n(59);n.d(e,"a",function(){return i});var o={meta:{},tasks:[],expandedIds:[],loading:!1,filter:{taskStatus:"",taskTypeId:"",assigneeUserId:"",tagIds:[]}},i=function(t,e){void 0===t&&(t=o);var n=e.type,i=e.payload;switch(n){case r.e.FETCH_TASKS:return Object.assign({},t,{loading:!0});case r.e.FETCH_TASKS_FULFILLED:return Object.assign({},t,{tasks:i.tasks,meta:i.meta,loading:!1});case r.e.FETCH_TASKS_FAILED:return Object.assign({},t,{tasks:i.tasks,meta:i.meta,loading:!1});case r.e.FETCH_TASK_FULFILLED:return Object.assign({},t,{task:i.task});case r.e.TOGGLE_STREAM_EXPAND:var s=t.expandedIds.indexOf(i);if(s==-1){var a=[].concat(t.expandedIds);return a.push(i),Object.assign({},t,{expandedIds:a})}return Object.assign({},t,{expandedIds:t.expandedIds.filter(function(t){return t!=i})});case r.e.SET_FILTER:return Object.assign({},t,{filter:i});default:return t}}},901:function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(84);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=new o.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),l=function(){function ReferenceService(t,e){this.http=t,this.appService=e}return ReferenceService.prototype.fetchTags=function(){var t=this;return this.http.get("/Reference/p?id=tags",{headers:c}).retry(3).map(function(t){return t.json().objects[0]}).map(function(t){return{tags:t.list,meta:t.meta}}).catch(function(e){return t.appService.handleError(e)})},ReferenceService.prototype.fetchTaskTypes=function(){var t=this;return this.http.get("/Reference/p?id=tasktypes",{headers:c}).retry(3).map(function(t){return t.json().objects[0]}).map(function(t){return{taskTypes:t.list,meta:t.meta}}).catch(function(e){return t.appService.handleError(e)})},ReferenceService.prototype.fetchRequestTypes=function(){var t=this;return this.http.get("/Reference/p?id=request-types",{headers:c}).retry(3).map(function(t){return t.json().objects[0]}).map(function(t){return{requestTypes:t.list,meta:t.meta}}).catch(function(e){return t.appService.handleError(e)})},ReferenceService=s([n.i(r.Injectable)(),a("design:paramtypes",[o.Http,i.a])],ReferenceService)}()},902:function(t,e,n){"use strict";var r=n(0),o=n(3);n.n(o);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function UploadService(){var t=this;this.progress$=o.Observable.create(function(e){t.progressObserver=e}).share()}return UploadService.prototype.makeFileRequest=function(t,e,n){var r=this;return o.Observable.create(function(o){for(var i=new FormData,s=new XMLHttpRequest,a=0;a<n.length;a++)i.append("uploads[]",n[a],n[a].name);if(e)for(var c in e)i.append(c,e[c]);s.onreadystatechange=function(){4===s.readyState&&(200===s.status?(o.next(JSON.parse(s.response)),o.complete()):o.error(s.response))},s.upload.onprogress=function(t){var e=Math.round(t.loaded/t.total*100);r.progressObserver.next(e)},s.open("POST",t,!0),s.send(i)})},UploadService=i([n.i(r.Injectable)(),s("design:paramtypes",[])],UploadService)}()},903:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(260),a=function(){function DatepickerDirective(t){this.elementRef=t,this.format="DD.MM.YYYY",this.yearRange=30,this.firstDay=1,this.select=new r.EventEmitter}return DatepickerDirective.prototype.ngOnInit=function(){var t=this;this.picker=new s({field:this.elementRef.nativeElement,minDate:this.minDate,maxDate:this.maxDate,firstDay:this.firstDay,yearRange:this.yearRange,format:this.format,onSelect:function(){t.elementRef.nativeElement.value=t.picker.toString(),t.select.emit(t.picker.toString(t.format))}})},DatepickerDirective.prototype.ngOnDestroy=function(){this.picker.destroy()},o([n.i(r.Input)(),i("design:type",String)],DatepickerDirective.prototype,"format",void 0),o([n.i(r.Input)(),i("design:type",Date)],DatepickerDirective.prototype,"minDate",void 0),o([n.i(r.Input)(),i("design:type",Date)],DatepickerDirective.prototype,"maxDate",void 0),o([n.i(r.Input)(),i("design:type",Number)],DatepickerDirective.prototype,"yearRange",void 0),o([n.i(r.Input)(),i("design:type",Number)],DatepickerDirective.prototype,"firstDay",void 0),o([n.i(r.Output)(),i("design:type",Object)],DatepickerDirective.prototype,"select",void 0),DatepickerDirective=o([n.i(r.Directive)({selector:"[datepicker]"}),i("design:paramtypes",[r.ElementRef])],DatepickerDirective)}()},904:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function AutofocusDirective(t){this.element=t}return AutofocusDirective.prototype.ngOnInit=function(){this.element.nativeElement.focus()},AutofocusDirective=o([n.i(r.Directive)({selector:"[autofocus]"}),i("design:paramtypes",[r.ElementRef])],AutofocusDirective)}()},905:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function TextareaAutoSizeDirective(t){this.element=t,this.minRows=3,this.el=this.element.nativeElement}return TextareaAutoSizeDirective.prototype.onInput=function(t){this.resize()},Object.defineProperty(TextareaAutoSizeDirective.prototype,"_minRows",{set:function(t){+t>0&&(this.minRows=+t)},enumerable:!0,configurable:!0}),TextareaAutoSizeDirective.prototype.ngAfterContentInit=function(){var t=this;setTimeout(function(){t.resize()},0)},TextareaAutoSizeDirective.prototype.resize=function(){var t=parseFloat(window.getComputedStyle(this.el,null).getPropertyValue("line-height"));this.el.rows=this.minRows;var e=Math.ceil((this.el.scrollHeight-this.el.offsetHeight)/t);this.el.rows=this.minRows+e},o([n.i(r.HostListener)("input",["$event.target"]),i("design:type",Function),i("design:paramtypes",[HTMLTextAreaElement]),i("design:returntype",void 0)],TextareaAutoSizeDirective.prototype,"onInput",null),o([n.i(r.Input)("rows"),i("design:type",Number),i("design:paramtypes",[Number])],TextareaAutoSizeDirective.prototype,"_minRows",null),TextareaAutoSizeDirective=o([n.i(r.Directive)({selector:"textarea[autosize]"}),i("design:paramtypes",[r.ElementRef])],TextareaAutoSizeDirective)}()},906:function(t,e,n){"use strict";var r=n(0),o=n(516);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function DropdownComponent(t){var e=this;this.renderer=t,this.open=!1,this.mouseEvent=!1,this.tabIndex=0,this.dropdownToggle=new r.EventEmitter,this.selfClick=!1,this.focused=!1,this.delay=500,this.documentClickListener=this.renderer.listenGlobal("body","click",function(){e.selfClick?e.selfClick=!1:e.open=!1}),this.documentKeyupListener=this.renderer.listenGlobal("body","keyup",function(t){"Escape"===t.code&&(e.open=!1)})}return Object.defineProperty(DropdownComponent.prototype,"isOpen",{get:function(){return this.open},enumerable:!0,configurable:!0}),Object.defineProperty(DropdownComponent.prototype,"isFocused",{get:function(){return this.focused},enumerable:!0,configurable:!0}),Object.defineProperty(DropdownComponent.prototype,"_tabIndex",{get:function(){return this.tabIndex},enumerable:!0,configurable:!0}),DropdownComponent.prototype.onMouseEnter=function(t){var e=this;this.mouseEvent&&(clearTimeout(this.time),this.time=setTimeout(function(){return e.open=!0},this.delay))},DropdownComponent.prototype.onMouseLeave=function(t){var e=this;this.mouseEvent&&(clearTimeout(this.time),this.time=setTimeout(function(){return e.open=!1},this.delay))},DropdownComponent.prototype.onClick=function(t){this.selfClick=!0},DropdownComponent.prototype.onFocus=function(t){t.preventDefault(),this.focused=!0},DropdownComponent.prototype.onBlur=function(t){t.preventDefault(),this.focused=!1,this.open=!1},DropdownComponent.prototype.onKeyDown=function(t){"Enter"===t.key?this.open=!0:"ArrowUp"===t.key?console.log("ArrowUp"):"ArrowDown"===t.key&&console.log("ArrowDown")},DropdownComponent.prototype.ngAfterContentInit=function(){var t=this;this.toggleComponent.forEach(function(e){return e.toggle.subscribe(function(e){t.toggleDropdown(e)})})},DropdownComponent.prototype.ngOnDestroy=function(){this.documentClickListener(),this.documentKeyupListener()},DropdownComponent.prototype.toggleDropdown=function(t){t.preventDefault(),this.open=!this.open,this.dropdownToggle.emit(this.open)},i([n.i(r.HostBinding)("class.dropdown"),s("design:type",Object)],DropdownComponent.prototype,"true",void 0),i([n.i(r.HostBinding)("class.open"),s("design:type",Object)],DropdownComponent.prototype,"isOpen",null),i([n.i(r.HostBinding)("class.focus"),s("design:type",Object)],DropdownComponent.prototype,"isFocused",null),i([n.i(r.HostBinding)("tabIndex"),s("design:type",Object)],DropdownComponent.prototype,"_tabIndex",null),i([n.i(r.HostListener)("mouseenter",["$event"]),s("design:type",Function),s("design:paramtypes",[MouseEvent]),s("design:returntype",void 0)],DropdownComponent.prototype,"onMouseEnter",null),i([n.i(r.HostListener)("mouseleave",["$event"]),s("design:type",Function),s("design:paramtypes",[MouseEvent]),s("design:returntype",void 0)],DropdownComponent.prototype,"onMouseLeave",null),i([n.i(r.HostListener)("click",["$event"]),s("design:type",Function),s("design:paramtypes",[MouseEvent]),s("design:returntype",void 0)],DropdownComponent.prototype,"onClick",null),i([n.i(r.HostListener)("focus",["$event"]),s("design:type",Function),s("design:paramtypes",[MouseEvent]),s("design:returntype",void 0)],DropdownComponent.prototype,"onFocus",null),i([n.i(r.HostListener)("blur",["$event"]),s("design:type",Function),s("design:paramtypes",[MouseEvent]),s("design:returntype",void 0)],DropdownComponent.prototype,"onBlur",null),i([n.i(r.HostListener)("keydown",["$event"]),s("design:type",Function),s("design:paramtypes",[KeyboardEvent]),s("design:returntype",void 0)],DropdownComponent.prototype,"onKeyDown",null),i([n.i(r.ContentChildren)(o.a),s("design:type",r.QueryList)],DropdownComponent.prototype,"toggleComponent",void 0),i([n.i(r.Input)(),s("design:type",Object)],DropdownComponent.prototype,"open",void 0),i([n.i(r.Input)(),s("design:type",Object)],DropdownComponent.prototype,"mouseEvent",void 0),i([n.i(r.Input)(),s("design:type",Object)],DropdownComponent.prototype,"tabIndex",void 0),i([n.i(r.Output)(),s("design:type",Object)],DropdownComponent.prototype,"dropdownToggle",void 0),DropdownComponent=i([n.i(r.Component)({selector:"[dropdown]",template:"<ng-content></ng-content>"}),s("design:paramtypes",[r.Renderer])],DropdownComponent)}()},907:function(t,e,n){"use strict";var r=n(906),o=n(516);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a})},908:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function ExpandableCellComponent(){this.expandable=!1,this.expanded=!1,this.loading=!1,this.level=0,this.isLast=!1,this.nextExpandable=!1,this.counter=Array}return o([n.i(r.Input)(),i("design:type",Boolean)],ExpandableCellComponent.prototype,"expandable",void 0),o([n.i(r.Input)(),i("design:type",Boolean)],ExpandableCellComponent.prototype,"expanded",void 0),o([n.i(r.Input)(),i("design:type",Boolean)],ExpandableCellComponent.prototype,"loading",void 0),o([n.i(r.Input)(),i("design:type",Number)],ExpandableCellComponent.prototype,"level",void 0),o([n.i(r.Input)(),i("design:type",Boolean)],ExpandableCellComponent.prototype,"isLast",void 0),o([n.i(r.Input)(),i("design:type",Boolean)],ExpandableCellComponent.prototype,"nextExpandable",void 0),ExpandableCellComponent=o([n.i(r.Component)({selector:"expandable-cell",template:'\n        <i class="expandable-cell_indent"\n            [class.is-last]="isLast"\n            [class.has-next-expandable]="nextExpandable"\n            *ngFor="let _level of counter(level); let isLast = last">\n        </i><i class="expandable-cell_icon fa"></i>\n        <span class="expandable-cell_content"><ng-content></ng-content></span>\n    ',host:{"[class.expandable-cell]":"true","[class.is-expandable]":"expandable","[class.is-expanded]":"expanded","[class.is-loading]":"loading","[class.is-last]":"isLast"}}),i("design:paramtypes",[])],ExpandableCellComponent)}()},909:function(t,e,n){"use strict";var r=n(0),o=n(257);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function ImgViewComponent(t){var e=this;this.imgViewService=t,this.show=!1,this.sub=this.imgViewService.getEmitter().subscribe(function(t){e.url=t.url,e.show=!0})}return ImgViewComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},ImgViewComponent.prototype.onEsc=function(t){t.preventDefault(),this.hide(t)},ImgViewComponent.prototype.hide=function(t){this.show=!1},i([n.i(r.Input)(),s("design:type",String)],ImgViewComponent.prototype,"url",void 0),ImgViewComponent=i([n.i(r.Component)({selector:"img-view",template:'\n        <div class="img-view-overlay" (click)="hide($event)">\n            <div class="img-view-close">&times;</div>\n        </div>\n        <div class="img-view-content">\n            <img class="img-view-content-img" [src]="url" />\n        </div>\n    ',host:{"[class.img-view]":"true","[class.show]":"show","[tabIndex]":"0","(keyup.esc)":"onEsc($event)"}}),s("design:paramtypes",[o.a])],ImgViewComponent)}()},910:function(t,e,n){"use strict";var r=n(0),o=n(257);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function ImgViewDirective(t){this.imgViewService=t}return ImgViewDirective.prototype.show=function(t){this.imgViewService.show(this.url)},i([n.i(r.Input)(),s("design:type",String)],ImgViewDirective.prototype,"url",void 0),ImgViewDirective=i([n.i(r.Directive)({selector:"[img-view]",host:{"(click)":"show($event)"}}),s("design:paramtypes",[o.a])],ImgViewDirective)}()},911:function(t,e,n){"use strict";var r=n(909),o=n(910),i=n(257);n.d(e,"b",function(){return r.a}),n.d(e,"a",function(){return o.a}),n.d(e,"c",function(){return i.a})},912:function(t,e,n){"use strict";var r=n(258),o=n(913),i=n(914);n.d(e,"c",function(){return r.a}),n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return i.a})},913:function(t,e,n){"use strict";var r=n(0),o=n(258);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function MarkdownEditorComponent(t,e){this.renderer=t,this.mdc=e,this.editable=!0,this.markdown="",this.updateTimeout=150,this.writeLabel="Write",this.previewLabel="Preview",this.update=new r.EventEmitter,this.focus=new r.EventEmitter,this.blur=new r.EventEmitter,this.onFullscreen=new r.EventEmitter,this.fullscreen=!1,this.splitMode=!1,this.hasValue=!1,this.isMdMode=!0,this.isPreviewMode=!1,this.helpVisible=!1}return Object.defineProperty(MarkdownEditorComponent.prototype,"_edit",{get:function(){return this.editable},enumerable:!0,configurable:!0}),Object.defineProperty(MarkdownEditorComponent.prototype,"_fullscreen",{get:function(){return this.fullscreen},enumerable:!0,configurable:!0}),Object.defineProperty(MarkdownEditorComponent.prototype,"_splitMode",{get:function(){return this.splitMode},enumerable:!0,configurable:!0}),Object.defineProperty(MarkdownEditorComponent.prototype,"_helpVisible",{get:function(){return this.helpVisible},enumerable:!0,configurable:!0}),Object.defineProperty(MarkdownEditorComponent.prototype,"_hasValue",{get:function(){return this.hasValue},enumerable:!0,configurable:!0}),MarkdownEditorComponent.prototype.ngOnInit=function(){this.html=this.mdc.toHtml(this.markdown),this.hasValue=this.markdown.length>0,this._markdown=this.markdown,this.editable?this.setActiveMdMode():this.setActivePreviewMode()},MarkdownEditorComponent.prototype.onEsc=function(t){t.preventDefault(),this.fullscreen&&this.toggleFullscreen()},MarkdownEditorComponent.prototype.focusMdTextArea=function(){var t=this;this.mdTextArea&&setTimeout(function(){t.renderer.invokeElementMethod(t.mdTextArea.nativeElement,"focus")},0)},MarkdownEditorComponent.prototype.setActiveMdMode=function(){this.isMdMode=!0,this.isPreviewMode=!1,this.splitMode=!1,this.focusMdTextArea()},MarkdownEditorComponent.prototype.setActivePreviewMode=function(){this.isPreviewMode=!0,this.isMdMode=!1,this.splitMode=!1},MarkdownEditorComponent.prototype.toggleFullscreen=function(){this.fullscreen=!this.fullscreen,this.onFullscreen.emit(this.fullscreen),this.focusMdTextArea()},MarkdownEditorComponent.prototype.toggleSplitMode=function(){this.splitMode=!this.splitMode,this.isMdMode=this.splitMode!==!0,this.isPreviewMode=!1,this.focusMdTextArea()},MarkdownEditorComponent.prototype.toggleHelp=function(){this.helpVisible=!this.helpVisible},MarkdownEditorComponent.prototype.updateValue=function(t){var e=this;clearTimeout(this.timeout),this.hasValue=t.trim().length>0,this.timeout=setTimeout(function(){e.update.emit(t.trim()),e.html=e.mdc.toHtml(t.trim())},this.updateTimeout)},i([n.i(r.HostBinding)("class.md-editor"),s("design:type",Object)],MarkdownEditorComponent.prototype,"true",void 0),i([n.i(r.HostBinding)("class.edit"),s("design:type",Object)],MarkdownEditorComponent.prototype,"_edit",null),i([n.i(r.HostBinding)("class.fullscreen"),s("design:type",Object)],MarkdownEditorComponent.prototype,"_fullscreen",null),i([n.i(r.HostBinding)("class.split-mode"),s("design:type",Object)],MarkdownEditorComponent.prototype,"_splitMode",null),i([n.i(r.HostBinding)("class.help-is-visible"),s("design:type",Object)],MarkdownEditorComponent.prototype,"_helpVisible",null),i([n.i(r.HostBinding)("class.has-value"),s("design:type",Object)],MarkdownEditorComponent.prototype,"_hasValue",null),i([n.i(r.Input)(),s("design:type",Boolean)],MarkdownEditorComponent.prototype,"editable",void 0),i([n.i(r.Input)(),s("design:type",String)],MarkdownEditorComponent.prototype,"markdown",void 0),i([n.i(r.Input)(),s("design:type",String)],MarkdownEditorComponent.prototype,"placeHolder",void 0),i([n.i(r.Input)(),s("design:type",Number)],MarkdownEditorComponent.prototype,"updateTimeout",void 0),i([n.i(r.Input)(),s("design:type",String)],MarkdownEditorComponent.prototype,"writeLabel",void 0),i([n.i(r.Input)(),s("design:type",String)],MarkdownEditorComponent.prototype,"previewLabel",void 0),i([n.i(r.Output)(),s("design:type",Object)],MarkdownEditorComponent.prototype,"update",void 0),i([n.i(r.Output)(),s("design:type",Object)],MarkdownEditorComponent.prototype,"focus",void 0),i([n.i(r.Output)(),s("design:type",Object)],MarkdownEditorComponent.prototype,"blur",void 0),i([n.i(r.Output)(),s("design:type",Object)],MarkdownEditorComponent.prototype,"onFullscreen",void 0),i([n.i(r.ViewChild)("mdTextArea"),s("design:type",r.ElementRef)],MarkdownEditorComponent.prototype,"mdTextArea",void 0),MarkdownEditorComponent=i([n.i(r.Component)({selector:"markdown-editor",template:'\n        <div class="md-editor-container">\n            <div class="md-editor__tabs" [class.md-active]="isMdMode" [class.preview-active]="isPreviewMode">\n                <div class="md-editor__placeholder" *ngIf="placeHolder">{{placeHolder}}</div>\n                <div class="md-editor__tab-title-md" *ngIf="editable" (click)="setActiveMdMode()">\n                    {{writeLabel}}\n                    <a class="md-editor-site" href="https://daringfireball.net/projects/markdown/syntax" (click)="false" title="Markdown" target="blank" rel="noreferrer">\n                        <img height="14px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAAGblg/ZAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFXpUWHRBdXRob3IAAAiZy01NycwDAAYmAg7P7sJVAAABUklEQVRIx2NgYGAwAuL/SBhCwAAjmsB6RmwqYOA/Ni0MyIYuQGKj0MicB1D2YZgYyMh/aHYhg6sMuIyFeYwJh4vhAFmBMJocK05voQcEPkcSBf5jseUrEGvhUYMRe8iSyTgsQQcxuAz4j0fMHMr/i6zmCpomUjFFBhgSjCZCAD2lIEfnQixijNiiHD3AtKDRyEBMNCJ7gZFAWkFW8x+bF9BBClqcM+LKGOjOewDNGOhOZkbin8CXEnElpN9QtiOupEwMno8uRmk6uESNpEwJvkKpD5ANY6aGIdgcwwUtfWHyV6FipJqDNRSwhQCuDJGAVMEwEFHmMRJRJjKQ4gBiQpJkBzARYfB3IDZG4psA8Q8caj8CsSIOT4DElIH4M7lxtwOIdxIZx7VY5NtwVQhkJR4kXzFBcwC6/B0g5gFiISB+QkoipCtggjbSrg6A3aBS0AAACVPtjHPTRNQAAAAASUVORK5CYII=" alt="md" />\n                    </a>\n                </div>\n                <div class="md-editor__tab-title-preview" *ngIf="editable" (click)="setActivePreviewMode()">{{previewLabel}}</div>\n                <div class="md-editor__btn-split-mode" *ngIf="editable" (click)="toggleSplitMode()">\n                    <i class="fa fa-columns"></i>\n                </div>\n                <div class="md-editor__btn-fullscreen" *ngIf="editable" (click)="toggleFullscreen()">\n                    <i class="fa fa-expand"></i>\n                </div>\n                <div class="md-editor__btn-help" *ngIf="editable" (click)="toggleHelp()">\n                    <i class="fa fa-question"></i>\n                </div>\n                <div class="md-editor__tab-content">\n                    <div class="md-editor__markdown" *ngIf="editable">\n                        <textarea class="md-editor__area"\n                            #mdTextArea\n                            name="md"\n                            rows="3"\n                            autosize\n                            (keyup)="updateValue($event.target.value)"\n                            (focus)="focus.emit($event)"\n                            (blur)="updateValue($event.target.value)">{{_markdown}}</textarea>\n                        <!-- <div class="md-editor__area" tabindex="0" draggable="false"\n                            #mdTextArea\n                            [contentEditable]="editable"\n                            (drop)="false"\n                            (keyup)="updateValue($event.target)"\n                            (focus)="focus.emit($event)"\n                            (blur)="updateValue($event.target)"\n                            innerHTML="{{_markdown}}">\n                        </div> -->\n                    </div>\n                    <div class="md-editor__preview" innerHTML="{{html}}"></div>\n                </div>\n            </div>\n            <div class="md-editor__help" [class.show]="helpVisible">\n                <div class="md-editor__help-list">\n                    <div class="md-editor__help-item">\n                        <h1 class="md-editor__help-item-h"># H1</h1>\n                        <h2 class="md-editor__help-item-h">## H2</h2>\n                        <h3 class="md-editor__help-item-h">### H3</h3>\n                    </div>\n                    <div class="md-editor__help-item">\n                        <em>_italic_</em><br/>\n                        <em>*italic*</em><br/>\n                        <strong>__bold__</strong><br/>\n                        <strong>**bold**</strong><br/>\n                        <code>`monospace`</code>\n                    </div>\n                    <div class="md-editor__help-item">\n                        ---\n                        <hr/>\n                    </div>\n                    <div class="md-editor__help-item">\n                        <div class="md-editor__help-item-md">\n                            - 1<br/>- 2<br/>- 3\n                        </div>\n                        <div class="md-editor__help-item-html">\n                            <ul>\n                                <li>1</li>\n                                <li>2</li>\n                                <li>3</li>\n                            </ul>\n                        </div>\n                    </div>\n                    <!-- <div class="md-editor__help-item">\n                        <div class="md-editor__help-item-md">\n                            &gt; blockquote<br/>&gt; Abc<br/>&gt; 123<br/>\n                        </div>\n                        <div class="md-editor__help-item-html">\n                            <blockquote>\n                                <p>blockquote<br>Abc<br>123</p>\n                            </blockquote>\n                        </div>\n                    </div>\n                    <div class="md-editor__help-item">\n                        <div class="md-editor__help-item-md">\n                            1. n1<br/>2. n2<br/>3. n3\n                        </div>\n                        <div class="md-editor__help-item-html">\n                            <ol>\n                                <li>n1</li>\n                                <li>n2</li>\n                                <li>n3</li>\n                            </ol>\n                        </div>\n                    </div> -->\n                    <div class="md-editor__help-item">\n                        [link](http://google.com)<br/>\n                        <a href="http://google.com">link</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',host:{tabindex:"0","(keyup.esc)":"onEsc($event)"}}),s("design:paramtypes",[r.Renderer,o.a])],MarkdownEditorComponent)}()},914:function(t,e,n){"use strict";var r=n(0),o=n(258);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function MarkedPipe(t){this.mdc=t}return MarkedPipe.prototype.transform=function(t){return this.mdc.toHtml(t)},MarkedPipe=i([n.i(r.Pipe)({name:"marked"}),s("design:paramtypes",[o.a])],MarkedPipe)}()},915:function(t,e,n){"use strict";var r=n(0),o=n(517);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function NotificationComponent(t){this.notifyService=t,this.notifications=[]}return Object.defineProperty(NotificationComponent.prototype,"isHidden",{get:function(){return 0==this.notifications.length},enumerable:!0,configurable:!0}),NotificationComponent.prototype.ngOnInit=function(){var t=this;this.listener=this.notifyService.getEmitter().subscribe(function(e){switch(e.command){case"cleanAll":t.notifications=[];break;case"add":t.addNotify(e.notify)}})},NotificationComponent.prototype.ngOnDestroy=function(){this.listener&&(this.notifications.map(function(t){return t.getEmitter().unsubscribe()}),this.listener.unsubscribe())},NotificationComponent.prototype.addNotify=function(t){var e=this;this.notifications.push(t),t.getEmitter().subscribe(function(t){return e.notifyEmitter(t)})},NotificationComponent.prototype.notifyEmitter=function(t){if(t.dismiss){var e=this.notifications.indexOf(t.notify);this.notifications.splice(e,1),t.notify.getEmitter().unsubscribe()}},i([n.i(r.HostBinding)("class.nb-notify"),s("design:type",Object)],NotificationComponent.prototype,"true",void 0),i([n.i(r.HostBinding)("class.hidden"),s("design:type",Object)],NotificationComponent.prototype,"isHidden",null),NotificationComponent=i([n.i(r.Component)({selector:"notification",template:'\n        <div class="nb-notify-entry-{{notify.type}}"\n            [class.dismiss-click]="notify.delay == \'click\'"\n            [style.display]="notify.display ? \'block\': \'none\'"\n            (click)="notify.dismiss()"\n            *ngFor="let notify of notifications">\n            {{notify.message}}\n        </div>\n    '}),s("design:paramtypes",[o.a])],NotificationComponent)}()},916:function(t,e,n){"use strict";var r=n(917);n.d(e,"a",function(){return r.a})},917:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function PaginationComponent(){this.currentPage=0,this.totalPages=0,this.maxPageControl=5,this.change=new r.EventEmitter,this.startPage=0,this.stopPage=0,this.pages=[]}return Object.defineProperty(PaginationComponent.prototype,"isHidden",{get:function(){return this.totalPages<2},enumerable:!0,configurable:!0}),PaginationComponent.prototype.ngOnChanges=function(){this.pagination()},PaginationComponent.prototype.setPage=function(t,e){e.preventDefault(),this.change.emit({page:t})},PaginationComponent.prototype.pagination=function(){if(this.pages=[],!(this.totalPages<=1)){var t=Math.floor(this.maxPageControl/2);this.startPage=this.currentPage-t,this.stopPage=this.currentPage+t,this.startPage<=t?this.startPage=1:this.currentPage==this.totalPages&&(this.startPage=this.totalPages-this.maxPageControl),this.stopPage>this.totalPages-t?this.stopPage=this.totalPages:1==this.currentPage&&(this.stopPage=this.maxPageControl+1),this.maxPageControl+t>=this.totalPages&&(this.startPage=1,this.stopPage=this.totalPages);for(var e=this.startPage;e<=this.stopPage;e++)this.pages.push(e)}},o([n.i(r.HostBinding)("hidden"),i("design:type",Object)],PaginationComponent.prototype,"isHidden",null),o([n.i(r.Input)("page"),i("design:type",Number)],PaginationComponent.prototype,"currentPage",void 0),o([n.i(r.Input)(),i("design:type",Number)],PaginationComponent.prototype,"totalPages",void 0),o([n.i(r.Input)(),i("design:type",Number)],PaginationComponent.prototype,"maxPageControl",void 0),o([n.i(r.Output)(),i("design:type",Object)],PaginationComponent.prototype,"change",void 0),PaginationComponent=o([n.i(r.Component)({selector:"pagination",template:'\n        <div class="pagination" *ngIf="totalPages > 1">\n            <a href="#" *ngIf="startPage > 1" (click)="setPage(1, $event)">1</a>\n            <span *ngIf="startPage > 1">...</span>\n            <a [class.page-active]="p == currentPage" href="#" *ngFor="let p of pages" (click)="setPage(p, $event)">{{p}}</a>\n            <span *ngIf="stopPage < totalPages">...</span>\n            <a *ngIf="stopPage < totalPages" href="#" (click)="setPage(totalPages, $event)">{{totalPages}}</a>\n        </div>\n    ',changeDetection:r.ChangeDetectionStrategy.OnPush}),i("design:paramtypes",[])],PaginationComponent)}()},918:function(t,e,n){"use strict";var r=n(0),o=n(85),i=n(911),s=n(916),a=n(904),c=n(905),l=n(903),u=n(907),p=n(922),d=n(920),f=n(120),h=n(912),m=n(908),v=n(919);n.d(e,"a",function(){return b});var g=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function SharedModule(){}return SharedModule=g([n.i(r.NgModule)({declarations:[s.a,f.a,a.a,c.a,l.a,p.a,p.b,u.a,u.b,h.a,h.b,d.a,i.a,i.b,m.a,v.a],exports:[s.a,f.a,a.a,c.a,l.a,p.a,p.b,u.a,u.b,h.a,h.b,d.a,i.a,i.b,m.a,v.a],imports:[o.b],providers:[f.b,i.c,h.c]}),y("design:paramtypes",[])],SharedModule)}()},919:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function SortLabelComponent(){this.sort=new r.EventEmitter}return o([n.i(r.Input)(),i("design:type",String)],SortLabelComponent.prototype,"direction",void 0),o([n.i(r.Input)(),i("design:type",String)],SortLabelComponent.prototype,"current",void 0),o([n.i(r.Output)(),i("design:type",Object)],SortLabelComponent.prototype,"sort",void 0),SortLabelComponent=o([n.i(r.Component)({selector:"sort-label",template:"\n        <ng-content></ng-content>\n    ",host:{"[class.sort-label]":"true","[class.asc]":"isAsc","[class.desc]":"isDesc","[class.both]":"isBoth"}}),i("design:paramtypes",[])],SortLabelComponent)}()},920:function(t,e,n){"use strict";var r=n(921);n.d(e,"a",function(){return r.a})},921:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function SwitchButtonComponent(){this.class="input",this.name="swb"+Math.random(),this.multi=!1,this.disabled=!1,this.checkDefault=!0}return SwitchButtonComponent.prototype.ngAfterContentInit=function(){var t=this;[].concat(this.items).forEach(function(e){t.checkDefault&&e&&e.value==t.model[t.value]&&(t.checkDefault=!1)})},SwitchButtonComponent.prototype.select=function(t){this.model[this.value]=t},SwitchButtonComponent.prototype.isSelected=function(t){return t.value==this.model[this.value]||this.checkDefault&&t.default},o([n.i(r.HostBinding)("class.switch-button"),i("design:type",Object)],SwitchButtonComponent.prototype,"true",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"model",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"value",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"items",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"class",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"name",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"multi",void 0),o([n.i(r.Input)(),i("design:type",Object)],SwitchButtonComponent.prototype,"disabled",void 0),SwitchButtonComponent=o([n.i(r.Component)({selector:"switch-button",template:'\n        <label\n             [ngClass]="class"\n             [class.active]="isSelected(item)"\n             [class.disabled]="disabled || item.disabled"\n             *ngFor="let item of items">\n            <input\n                type="{{multi ? \'checkbox\' : \'radio\'}}"\n                name="{{name}}"\n                value="{{item.value}}"\n                [checked]="isSelected(item)"\n                [disabled]="disabled || item.disabled"\n                (change)="select(item.value)" />\n            <i class="fa fa-{{item.icon}}" *ngIf="item.icon"></i>\n            <span>{{item.text}}</span>\n        </label>\n    '}),i("design:paramtypes",[])],SwitchButtonComponent)}()},922:function(t,e,n){"use strict";var r=n(923),o=n(519);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a})},923:function(t,e,n){"use strict";var r=n(0),o=n(519);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function Tabs(){}return Tabs.prototype.ngAfterContentInit=function(){var t=this.tabs.filter(function(t){return t.active});0===t.length&&this.selectTab(this.tabs.first)},Tabs.prototype.selectTab=function(t){this.tabs.forEach(function(t){return t.active=!1}),t.active=!0,t.select.emit(!0)},i([n.i(r.ContentChildren)(o.a),s("design:type",r.QueryList)],Tabs.prototype,"tabs",void 0),Tabs=i([n.i(r.Component)({selector:"tabs",template:'\n        <ul class="nav nav-tabs">\n            <li *ngFor="let tab of tabs" (click)="selectTab(tab)" [class.pinned]="tab.pinned" [class.active]="tab.active">\n                <a href="#" (click)="$event.preventDefault()">\n                    <i class="{{tab.icon}}" *ngIf="tab.icon"></i>\n                    {{tab.title}}\n                </a>\n            </li>\n        </ul>\n        <ng-content></ng-content>\n    '}),s("design:paramtypes",[])],Tabs)}()},924:function(t,e,n){"use strict";var r=n(925);n.d(e,"a",function(){return r.a})},925:function(t,e,n){"use strict";var r=n(644),o=(n.n(r),n(16)),i=n(807),s=(n.n(i),n(895)),a=n(894),c=n(896),l=n(900),u=n(899),p=n(898),d=n(897);n.d(e,"a",function(){return h});var f=n.i(i.storeLogger)({level:"log",collapsed:!1,duration:!0,timestamp:!0}),h=n.i(o.b)(n.i(r.compose)(f,o.c)({environment:s.a,authed:a.a,projects:c.a,tasks:l.a,task:u.a,staff:p.a,reference:d.a}))},929:function(t,e,n){"use strict";var r=n(170),o=n(539);n.i(r.a)().bootstrapModule(o.a)},93:function(t,e,n){"use strict";function createEmptyState(t,e){var n=createEmptyStateSnapshot(t,e),s=new r.BehaviorSubject([new i.c("",{})]),c=new r.BehaviorSubject({}),p=new r.BehaviorSubject({}),d=new r.BehaviorSubject({}),f=new r.BehaviorSubject(""),h=new u(s,c,d,f,p,o.a,e,n.root);return h.snapshot=n.root,new l(new a.b(h,[]),n)}function createEmptyStateSnapshot(t,e){var n={},r={},i={},s="",c=new d([],n,i,s,r,o.a,e,null,t.root,-1,p.empty);return new f("",new a.b(c,[]))}function setRouterStateSnapshot(t,e){e.value._routerState=t,e.children.forEach(function(e){return setRouterStateSnapshot(t,e)})}function serializeNode(t){var e=t.children.length>0?" { "+t.children.map(serializeNode).join(", ")+" } ":"";return""+t.value+e}function advanceActivatedRoute(t){t.snapshot?(n.i(s.d)(t.snapshot.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),t.snapshot.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),n.i(s.d)(t.snapshot.params,t._futureSnapshot.params)||(t.params.next(t._futureSnapshot.params),t.data.next(t._futureSnapshot.data)),n.i(s.h)(t.snapshot.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),t.snapshot=t._futureSnapshot):(t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data))}var r=n(117),o=(n.n(r),n(51)),i=n(76),s=n(52),a=n(223);n.d(e,"a",function(){return l}),e.f=createEmptyState,n.d(e,"b",function(){return u}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return f}),e.g=advanceActivatedRoute;var c=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},l=function(t){function RouterState(e,n){t.call(this,e),this.snapshot=n,setRouterStateSnapshot(this,e)}return c(RouterState,t),RouterState.prototype.toString=function(){return this.snapshot.toString()},RouterState}(a.a),u=function(){function ActivatedRoute(t,e,n,r,o,i,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}return Object.defineProperty(ActivatedRoute.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),ActivatedRoute.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},ActivatedRoute}(),p=function(){function InheritedResolve(t,e){this.parent=t,this.current=e,this.resolvedData={}}return Object.defineProperty(InheritedResolve.prototype,"flattenedResolvedData",{get:function(){return this.parent?n.i(s.g)(this.parent.flattenedResolvedData,this.resolvedData):this.resolvedData},enumerable:!0,configurable:!0}),Object.defineProperty(InheritedResolve,"empty",{get:function(){return new InheritedResolve(null,{})},enumerable:!0,configurable:!0}),InheritedResolve}(),d=function(){function ActivatedRouteSnapshot(t,e,n,r,o,i,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}return Object.defineProperty(ActivatedRouteSnapshot.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),ActivatedRouteSnapshot.prototype.toString=function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this._routeConfig?this._routeConfig.path:"";return"Route(url:'"+t+"', path:'"+e+"')"},ActivatedRouteSnapshot}(),f=function(t){function RouterStateSnapshot(e,n){t.call(this,n),this.url=e,setRouterStateSnapshot(this,n)}return c(RouterStateSnapshot,t),RouterStateSnapshot.prototype.toString=function(){return serializeNode(this._root)},RouterStateSnapshot}(a.a)}},[929]);