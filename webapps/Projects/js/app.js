webpackJsonp([1],[function(t,e,n){"use strict";var r=n(284),o=n(647);r.platformBrowserDynamic().bootstrapModule(o.AppModule)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(180);e.provideRouterConfig=r.provideRouterConfig,e.provideRoutes=r.provideRoutes;var o=n(181);e.RouterLink=o.RouterLink,e.RouterLinkWithHref=o.RouterLinkWithHref;var s=n(299);e.RouterLinkActive=s.RouterLinkActive;var i=n(300);e.RouterOutlet=i.RouterOutlet;var a=n(76);e.NavigationCancel=a.NavigationCancel,e.NavigationEnd=a.NavigationEnd,e.NavigationError=a.NavigationError,e.NavigationStart=a.NavigationStart,e.Router=a.Router,e.RoutesRecognized=a.RoutesRecognized;var c=n(557);e.ROUTER_DIRECTIVES=c.ROUTER_DIRECTIVES,e.RouterModule=c.RouterModule;var u=n(77);e.RouterOutletMap=u.RouterOutletMap;var l=n(558);e.provideRouter=l.provideRouter;var p=n(52);e.ActivatedRoute=p.ActivatedRoute,e.ActivatedRouteSnapshot=p.ActivatedRouteSnapshot,e.RouterState=p.RouterState,e.RouterStateSnapshot=p.RouterStateSnapshot;var d=n(36);e.PRIMARY_OUTLET=d.PRIMARY_OUTLET;var f=n(44);e.DefaultUrlSerializer=f.DefaultUrlSerializer,e.UrlSegment=f.UrlSegment,e.UrlSerializer=f.UrlSerializer,e.UrlTree=f.UrlTree},function(t,e,n){"use strict";var r=n(670);e.Organization=r.Organization;var o=n(669);e.Employee=o.Employee;var s=n(667);e.Attachment=s.Attachment;var i=n(671);e.Project=i.Project;var a=n(676);e.Task=a.Task;var c=n(674);e.Tag=c.Tag;var u=n(675);e.TaskType=u.TaskType;var l=n(668);e.Comment=l.Comment;var p=n(673);e.Request=p.Request;var d=n(672);e.RequestType=d.RequestType;var f=n(445);e.User=f.User},,,,,,function(t,e){"use strict";e.PRIMARY_OUTLET="primary"},,function(t,e,n){"use strict";var r=n(193);e.EnvironmentActions=r.EnvironmentActions;var o=n(434);e.AppActions=o.AppActions;var s=n(126);e.ProjectActions=s.ProjectActions;var i=n(646);e.TaskActions=i.TaskActions;var a=n(435);e.ReferenceActions=a.ReferenceActions;var c=n(645);e.StaffActions=c.StaffActions,e.APP_STORE_ACTIONS=[r.EnvironmentActions,o.AppActions,s.ProjectActions,i.TaskActions,a.ReferenceActions,c.StaffActions]},function(t,e,n){"use strict";var r=n(448);e.AppService=r.AppService;var o=n(197);e.TranslateService=o.TranslateService;var s=n(195);e.ProjectService=s.ProjectService;var i=n(449);e.TaskService=i.TaskService;var a=n(689);e.ReferenceService=a.ReferenceService;var c=n(196);e.StaffService=c.StaffService;var u=n(690);e.UploadService=u.UploadService,e.APP_SERVICES=[r.AppService,o.TranslateService,s.ProjectService,i.TaskService,a.ReferenceService,c.StaffService]},,,,,function(t,e,n){"use strict";function createEmptyUrlTree(){return new s(new i([],{}),{},null)}function containsTree(t,e,n){return n?equalSegmentGroups(t.root,e.root):containsSegmentGroup(t.root,e.root)}function equalSegmentGroups(t,e){if(!equalPath(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!equalSegmentGroups(t.children[n],e.children[n]))return!1}return!0}function containsSegmentGroup(t,e){return containsSegmentGroupHelper(t,e,e.segments)}function containsSegmentGroupHelper(t,e,n){if(t.segments.length>n.length){var o=t.segments.slice(0,n.length);return!!equalPath(o,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!equalPath(t.segments,n))return!1;for(var s in e.children){if(!t.children[s])return!1;if(!containsSegmentGroup(t.children[s],e.children[s]))return!1}return!0}var o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!equalPath(t.segments,o)&&(!!t.children[r.PRIMARY_OUTLET]&&containsSegmentGroupHelper(t.children[r.PRIMARY_OUTLET],e,i))}function equalSegments(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].path!==e[n].path)return!1;if(!o.shallowEqual(t[n].parameters,e[n].parameters))return!1}return!0}function equalPath(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n].path!==e[n].path)return!1;return!0}function mapChildrenIntoArray(t,e){var n=[];return o.forEach(t.children,function(t,o){o===r.PRIMARY_OUTLET&&(n=n.concat(e(t,o)))}),o.forEach(t.children,function(t,o){o!==r.PRIMARY_OUTLET&&(n=n.concat(e(t,o)))}),n}function serializePaths(t){return t.segments.map(function(t){return serializePath(t)}).join("/")}function serializeSegment(t,e){if(t.hasChildren()&&e){var n=t.children[r.PRIMARY_OUTLET]?serializeSegment(t.children[r.PRIMARY_OUTLET],!1):"",s=[];return o.forEach(t.children,function(t,e){e!==r.PRIMARY_OUTLET&&s.push(e+":"+serializeSegment(t,!1))}),s.length>0?n+"("+s.join("//")+")":""+n}if(t.hasChildren()&&!e){var i=mapChildrenIntoArray(t,function(e,n){return n===r.PRIMARY_OUTLET?[serializeSegment(t.children[r.PRIMARY_OUTLET],!1)]:[n+":"+serializeSegment(e,!1)]});return serializePaths(t)+"/("+i.join("//")+")"}return serializePaths(t)}function encode(t){return encodeURIComponent(t)}function decode(t){return decodeURIComponent(t)}function serializePath(t){return""+encode(t.path)+serializeParams(t.parameters)}function serializeParams(t){return pairs(t).map(function(t){return";"+encode(t.first)+"="+encode(t.second)}).join("")}function serializeQueryParams(t){var e=pairs(t).map(function(t){return encode(t.first)+"="+encode(t.second)});return e.length>0?"?"+e.join("&"):""}function pairs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(new l(n,t[n]));return e}function matchSegments(t){p.lastIndex=0;var e=t.match(p);return e?e[0]:""}function matchQueryParams(t){d.lastIndex=0;var e=t.match(p);return e?e[0]:""}function matchUrlQueryParamValue(t){f.lastIndex=0;var e=t.match(f);return e?e[0]:""}var r=n(36),o=n(45);e.createEmptyUrlTree=createEmptyUrlTree,e.containsTree=containsTree;var s=function(){function UrlTree(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return UrlTree.prototype.toString=function(){return(new u).serialize(this)},UrlTree}();e.UrlTree=s;var i=function(){function UrlSegmentGroup(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,o.forEach(e,function(t,e){return t.parent=n})}return UrlSegmentGroup.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(UrlSegmentGroup.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),UrlSegmentGroup.prototype.toString=function(){return serializePaths(this)},UrlSegmentGroup}();e.UrlSegmentGroup=i;var a=function(){function UrlSegment(t,e){this.path=t,this.parameters=e}return UrlSegment.prototype.toString=function(){return serializePath(this)},UrlSegment}();e.UrlSegment=a,e.equalSegments=equalSegments,e.equalPath=equalPath,e.mapChildrenIntoArray=mapChildrenIntoArray;var c=function(){function UrlSerializer(){}return UrlSerializer}();e.UrlSerializer=c;var u=function(){function DefaultUrlSerializer(){}return DefaultUrlSerializer.prototype.parse=function(t){var e=new h(t);return new s(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},DefaultUrlSerializer.prototype.serialize=function(t){var e="/"+serializeSegment(t.root,!0),n=serializeQueryParams(t.queryParams),r=null!==t.fragment&&void 0!==t.fragment?"#"+encodeURIComponent(t.fragment):"";return""+e+n+r},DefaultUrlSerializer}();e.DefaultUrlSerializer=u,e.serializePaths=serializePaths,e.encode=encode,e.decode=decode,e.serializePath=serializePath;var l=function(){function Pair(t,e){this.first=t,this.second=e}return Pair}(),p=/^[^\/\(\)\?;=&#]+/,d=/^[^=\?&#]+/,f=/^[^\?&#]+/,h=function(){function UrlParser(t){this.url=t,this.remaining=t}return UrlParser.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},UrlParser.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},UrlParser.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new i([],{}):new i([],this.parseChildren())},UrlParser.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[r.PRIMARY_OUTLET]=new i(t,e)),n},UrlParser.prototype.parseSegments=function(){var t=matchSegments(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new a(decode(t),e)},UrlParser.prototype.parseQueryParams=function(){var t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},UrlParser.prototype.parseFragment=function(){return this.peekStartsWith("#")?decode(this.remaining.substring(1)):null},UrlParser.prototype.parseMatrixParams=function(){for(var t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},UrlParser.prototype.parseParam=function(t){var e=matchSegments(this.remaining);if(e){this.capture(e);var n="true";if(this.peekStartsWith("=")){this.capture("=");var r=matchSegments(this.remaining);r&&(n=r,this.capture(n))}t[decode(e)]=decode(n)}},UrlParser.prototype.parseQueryParam=function(t){var e=matchQueryParams(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=matchUrlQueryParamValue(this.remaining);r&&(n=r,this.capture(n))}t[decode(e)]=decode(n)}},UrlParser.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var n=matchSegments(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error("Cannot parse url '"+this.url+"'");var s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=r.PRIMARY_OUTLET);var a=this.parseChildren();e[s]=1===Object.keys(a).length?a[r.PRIMARY_OUTLET]:new i([],a),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},UrlParser}()},function(t,e,n){"use strict";function shallowEqualArrays(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!shallowEqual(t[n],e[n]))return!1;return!0}function shallowEqual(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o,s=0;s<n.length;s++)if(o=n[s],t[o]!==e[o])return!1;return!0}function flatten(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}function first(t){return t.length>0?t[0]:null}function last(t){return t.length>0?t[t.length-1]:null}function and(t){return t.reduce(function(t,e){return t&&e},!0)}function merge(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function forEach(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function waitForMap(t,e){var n=[],r={};return forEach(t,function(t,o){o===i.PRIMARY_OUTLET&&n.push(e(o,t).map(function(t){return r[o]=t,t}))}),forEach(t,function(t,o){o!==i.PRIMARY_OUTLET&&n.push(e(o,t).map(function(t){return r[o]=t,t}))}),n.length>0?s.of.apply(void 0,n).concatAll().last().map(function(t){return r}):s.of(r)}function andObservables(t){return t.mergeAll().every(function(t){return t===!0})}function wrapIntoObservable(t){return t instanceof r.Observable?t:t instanceof Promise?o.fromPromise(t):s.of(t)}n(415),n(593);var r=n(3),o=n(186),s=n(78),i=n(36);e.shallowEqualArrays=shallowEqualArrays,e.shallowEqual=shallowEqual,e.flatten=flatten,e.first=first,e.last=last,e.and=and,e.merge=merge,e.forEach=forEach,e.waitForMap=waitForMap,e.andObservables=andObservables,e.wrapIntoObservable=wrapIntoObservable},,,,,,,function(t,e,n){"use strict";function createEmptyState(t,e){var n=createEmptyStateSnapshot(t,e),r=new o.BehaviorSubject([new i.UrlSegment("",{})]),a=new o.BehaviorSubject({}),p=new o.BehaviorSubject({}),d=new o.BehaviorSubject({}),f=new o.BehaviorSubject(""),h=new l(r,a,d,f,p,s.PRIMARY_OUTLET,e,n.root);return h.snapshot=n.root,new u(new c.TreeNode(h,[]),n)}function createEmptyStateSnapshot(t,e){var n={},r={},o={},i="",a=new d([],n,o,i,r,s.PRIMARY_OUTLET,e,null,t.root,(-1),p.empty);return new f("",new c.TreeNode(a,[]))}function setRouterStateSnapshot(t,e){e.value._routerState=t,e.children.forEach(function(e){return setRouterStateSnapshot(t,e)})}function serializeNode(t){var e=t.children.length>0?" { "+t.children.map(serializeNode).join(", ")+" } ":"";return""+t.value+e}function advanceActivatedRoute(t){t.snapshot?(a.shallowEqual(t.snapshot.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),t.snapshot.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),a.shallowEqual(t.snapshot.params,t._futureSnapshot.params)||(t.params.next(t._futureSnapshot.params),t.data.next(t._futureSnapshot.data)),a.shallowEqualArrays(t.snapshot.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),t.snapshot=t._futureSnapshot):(t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(411),s=n(36),i=n(44),a=n(45),c=n(182),u=function(t){function RouterState(e,n){t.call(this,e),this.snapshot=n,setRouterStateSnapshot(this,e)}return r(RouterState,t),Object.defineProperty(RouterState.prototype,"queryParams",{get:function(){return this.root.queryParams},enumerable:!0,configurable:!0}),Object.defineProperty(RouterState.prototype,"fragment",{get:function(){return this.root.fragment},enumerable:!0,configurable:!0}),RouterState.prototype.toString=function(){return this.snapshot.toString()},RouterState}(c.Tree);e.RouterState=u,e.createEmptyState=createEmptyState;var l=function(){function ActivatedRoute(t,e,n,r,o,s,i,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=i,this._futureSnapshot=a}return Object.defineProperty(ActivatedRoute.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),ActivatedRoute.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},ActivatedRoute}();e.ActivatedRoute=l;var p=function(){function InheritedResolve(t,e){this.parent=t,this.current=e,this.resolvedData={}}return Object.defineProperty(InheritedResolve.prototype,"flattenedResolvedData",{get:function(){return this.parent?a.merge(this.parent.flattenedResolvedData,this.resolvedData):this.resolvedData},enumerable:!0,configurable:!0}),Object.defineProperty(InheritedResolve,"empty",{get:function(){return new InheritedResolve(null,{})},enumerable:!0,configurable:!0}),InheritedResolve}();e.InheritedResolve=p;var d=function(){function ActivatedRouteSnapshot(t,e,n,r,o,s,i,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=i,this._routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}return Object.defineProperty(ActivatedRouteSnapshot.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),ActivatedRouteSnapshot.prototype.toString=function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this._routeConfig?this._routeConfig.path:"";return"Route(url:'"+t+"', path:'"+e+"')"},ActivatedRouteSnapshot}();e.ActivatedRouteSnapshot=d;var f=function(t){function RouterStateSnapshot(e,n){t.call(this,n),this.url=e,setRouterStateSnapshot(this,n)}return r(RouterStateSnapshot,t),Object.defineProperty(RouterStateSnapshot.prototype,"queryParams",{get:function(){return this.root.queryParams},enumerable:!0,configurable:!0}),Object.defineProperty(RouterStateSnapshot.prototype,"fragment",{get:function(){return this.root.fragment},enumerable:!0,configurable:!0}),RouterStateSnapshot.prototype.toString=function(){return serializeNode(this._root)},RouterStateSnapshot}(c.Tree);e.RouterStateSnapshot=f,e.advanceActivatedRoute=advanceActivatedRoute},,,,,,,,,,,function(t,e,n){"use strict";function createURLSearchParams(t){var e=new r.URLSearchParams;for(var n in t)if(t[n]instanceof Array)for(var o in t[n])e.append(encodeURIComponent(n),encodeURIComponent(t[n][o]));else"undefined"!=typeof t[n]&&e.set(encodeURIComponent(n),encodeURIComponent(t[n]));return e}function serializeObj(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function parseResponseObjects(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];o.kind||o.entityKind?e[o.kind||o.entityKind]=o:o.list&&o.meta&&o.type?e[o.type]=o:o.name&&o.value?e[o.name]=o.value:e.push(o)}return e}function parseListObjectsToKeyValue(t){var e=[];if(t)for(var n=0,r=t;n<r.length;n++){var o=r[n];e[o.id]=o}return e}function transformPostResponse(t){var e=t.json();return Object.assign(e,{ok:"DOCUMENT_SAVED"===e.type,message:e.captions?e.captions.type:e.message})}function createCookie(t,e,n){var r;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}else r="";document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+"; path=/"}var r=n(22);e.createURLSearchParams=createURLSearchParams,e.serializeObj=serializeObj,e.parseResponseObjects=parseResponseObjects,e.parseListObjectsToKeyValue=parseListObjectsToKeyValue,e.transformPostResponse=transformPostResponse,e.createCookie=createCookie},,,,,,,,,,,,,function(t,e,n){"use strict";function closestLoadedConfig(t,e){var n=t.pathFromRoot(e).filter(function(t){var n=t._routeConfig;return n&&n._loadedConfig&&t!==e});return n.length>0?n[n.length-1]._routeConfig._loadedConfig:null}function nodeChildrenAsMap(t){return t?t.children.reduce(function(t,e){return t[e.value.outlet]=e,t},{}):{}}function getOutlet(t,e){var n=t._outlets[e.outlet];if(!n){var r=e.component.name;throw e.outlet===v.PRIMARY_OUTLET?new Error("Cannot find primary outlet to load '"+r+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+r+"'")}return n}n(120),n(416),n(595),n(597),n(589);var r=n(1),o=n(24),s=n(419),i=n(78),a=n(551),c=n(552),u=n(553),l=n(554),p=n(555),d=n(556),f=n(118),h=n(77),m=n(52),v=n(36),g=n(44),y=n(45),b=function(){function NavigationStart(t,e){this.id=t,this.url=e}return NavigationStart.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},NavigationStart}();e.NavigationStart=b;var T=function(){function NavigationEnd(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return NavigationEnd.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},NavigationEnd}();e.NavigationEnd=T;var R=function(){function NavigationCancel(t,e){this.id=t,this.url=e}return NavigationCancel.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},NavigationCancel}();e.NavigationCancel=R;var C=function(){function NavigationError(t,e,n){this.id=t,this.url=e,this.error=n}return NavigationError.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},NavigationError}();e.NavigationError=C;var S=function(){function RoutesRecognized(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return RoutesRecognized.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},RoutesRecognized}();e.RoutesRecognized=S;var _=function(){function Router(t,e,n,r,s,i,a,c){this.rootComponentType=t,this.resolver=e,this.urlSerializer=n,this.outletMap=r,this.location=s,this.injector=i,this.navigationId=0,this.navigated=!1,this.resetConfig(c),this.routerEvents=new o.Subject,this.currentUrlTree=g.createEmptyUrlTree(),this.configLoader=new f.RouterConfigLoader(a),this.currentRouterState=m.createEmptyState(this.currentUrlTree,this.rootComponentType)}return Router.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),this.navigateByUrl(this.location.path(!0))},Object.defineProperty(Router.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(Router.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(Router.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),Router.prototype.resetConfig=function(t){c.validateConfig(t),this.config=t},Router.prototype.ngOnDestroy=function(){this.dispose()},Router.prototype.dispose=function(){this.locationSubscription.unsubscribe()},Router.prototype.createUrlTree=function(t,e){var n=void 0===e?{}:e,r=n.relativeTo,o=n.queryParams,s=n.fragment,i=n.preserveQueryParams,a=n.preserveFragment,c=r?r:this.routerState.root,u=i?this.currentUrlTree.queryParams:o,p=a?this.currentUrlTree.fragment:s;return l.createUrlTree(c,this.currentUrlTree,t,u,p)},Router.prototype.navigateByUrl=function(t,e){if(void 0===e&&(e={skipLocationChange:!1}),t instanceof g.UrlTree)return this.scheduleNavigation(t,e);var n=this.urlSerializer.parse(t);return this.scheduleNavigation(n,e)},Router.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),this.scheduleNavigation(this.createUrlTree(t,e),e)},Router.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},Router.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},Router.prototype.isActive=function(t,e){if(t instanceof g.UrlTree)return g.containsTree(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return g.containsTree(this.currentUrlTree,n,e)},Router.prototype.scheduleNavigation=function(t,e){var n=this,r=++this.navigationId;return this.routerEvents.next(new b(r,this.serializeUrl(t))),Promise.resolve().then(function(o){return n.runNavigate(t,e.skipLocationChange,r)})},Router.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url);return t.currentUrlTree.toString()!==n.toString()?t.scheduleNavigation(n,e.pop):null}))},Router.prototype.runNavigate=function(t,e,n){var r=this;return n!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new R(n,this.serializeUrl(t))),Promise.resolve(!1)):new Promise(function(o,s){var c,l,f,h,m=r.currentRouterState,v=r.currentUrlTree;a.applyRedirects(r.injector,r.configLoader,t,r.config).mergeMap(function(t){return h=t,p.recognize(r.rootComponentType,r.config,h,r.serializeUrl(h))}).mergeMap(function(e){return r.routerEvents.next(new S(n,r.serializeUrl(t),r.serializeUrl(h),e)),d.resolve(r.resolver,e)}).map(function(t){return u.createRouterState(t,r.currentRouterState)}).map(function(t){c=t,f=new A(c.snapshot,r.currentRouterState.snapshot,r.injector),f.traverse(r.outletMap)}).mergeMap(function(t){return f.checkGuards()}).mergeMap(function(t){return t?f.resolveData().map(function(){return t}):i.of(t)}).forEach(function(o){if(!o||n!==r.navigationId)return r.routerEvents.next(new R(n,r.serializeUrl(t))),void(l=!1);if(r.currentUrlTree=h,r.currentRouterState=c,new P(c,m).activate(r.outletMap),!e){var s=r.urlSerializer.serialize(h);r.location.isCurrentPathEqualTo(s)?r.location.replaceState(s):r.location.go(s)}l=!0}).then(function(){r.navigated=!0,r.routerEvents.next(new T(n,r.serializeUrl(t),r.serializeUrl(h))),o(l)},function(e){r.currentRouterState=m,r.currentUrlTree=v,r.routerEvents.next(new C(n,r.serializeUrl(t),e)),s(e)})})},Router}();e.Router=_;var E=function(){function CanActivate(t){this.path=t}return Object.defineProperty(CanActivate.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),CanActivate}(),k=function(){function CanDeactivate(t,e){this.component=t,this.route=e}return CanDeactivate}(),A=function(){function PreActivation(t,e,n){this.future=t,this.curr=e,this.injector=n,this.checks=[]}return PreActivation.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},PreActivation.prototype.checkGuards=function(){var t=this;return 0===this.checks.length?i.of(!0):s.from(this.checks).map(function(e){if(e instanceof E)return y.andObservables(s.from([t.runCanActivate(e.route),t.runCanActivateChild(e.path)]));if(e instanceof k){var n=e;return t.runCanDeactivate(n.component,n.route)}throw new Error("Cannot be reached")}).mergeAll().every(function(t){return t===!0})},PreActivation.prototype.resolveData=function(){var t=this;return 0===this.checks.length?i.of(null):s.from(this.checks).mergeMap(function(e){return e instanceof E?t.runResolve(e.route):i.of(null)}).reduce(function(t,e){return t})},PreActivation.prototype.traverseChildRoutes=function(t,e,n,r){var o=this,s=nodeChildrenAsMap(e);t.children.forEach(function(t){o.traverseRoutes(t,s[t.value.outlet],n,r.concat([t.value])),delete s[t.value.outlet]}),y.forEach(s,function(t,e){return o.deactivateOutletAndItChildren(t,n._outlets[e])})},PreActivation.prototype.traverseRoutes=function(t,e,n,r){var o=t.value,s=e?e.value:null,i=n?n._outlets[t.value.outlet]:null;s&&o._routeConfig===s._routeConfig?(y.shallowEqual(o.params,s.params)||this.checks.push(new k(i.component,s),new E(r)),o.component?this.traverseChildRoutes(t,e,i?i.outletMap:null,r):this.traverseChildRoutes(t,e,n,r)):(s&&(s.component?this.deactivateOutletAndItChildren(s,i):this.deactivateOutletMap(n)),this.checks.push(new E(r)),o.component?this.traverseChildRoutes(t,null,i?i.outletMap:null,r):this.traverseChildRoutes(t,null,n,r))},PreActivation.prototype.deactivateOutletAndItChildren=function(t,e){e&&e.isActivated&&(this.deactivateOutletMap(e.outletMap),this.checks.push(new k(e.component,t)))},PreActivation.prototype.deactivateOutletMap=function(t){var e=this;y.forEach(t._outlets,function(t){t.isActivated&&e.deactivateOutletAndItChildren(t.activatedRoute.snapshot,t)})},PreActivation.prototype.runCanActivate=function(t){var e=this,n=t._routeConfig?t._routeConfig.canActivate:null;if(!n||0===n.length)return i.of(!0);var r=s.from(n).map(function(n){var r=e.getToken(n,t,e.future);return r.canActivate?y.wrapIntoObservable(r.canActivate(t,e.future)):y.wrapIntoObservable(r(t,e.future))});return y.andObservables(r)},PreActivation.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return y.andObservables(s.from(r).map(function(t){var r=s.from(t.guards).map(function(t){var r=e.getToken(t,t.node,e.future);return r.canActivateChild?y.wrapIntoObservable(r.canActivateChild(n,e.future)):y.wrapIntoObservable(r(n,e.future))});return y.andObservables(r)}))},PreActivation.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},PreActivation.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e._routeConfig?e._routeConfig.canDeactivate:null;return r&&0!==r.length?s.from(r).map(function(r){var o=n.getToken(r,e,n.curr);return o.canDeactivate?y.wrapIntoObservable(o.canDeactivate(t,e,n.curr)):y.wrapIntoObservable(o(t,e,n.curr))}).mergeAll().every(function(t){return t===!0}):i.of(!0)},PreActivation.prototype.runResolve=function(t){var e=t._resolve;return this.resolveNode(e.current,t).map(function(n){return e.resolvedData=n,t.data=y.merge(t.data,e.flattenedResolvedData),null})},PreActivation.prototype.resolveNode=function(t,e){var n=this;return y.waitForMap(t,function(t,r){var o=n.getToken(r,e,n.future);return o.resolve?y.wrapIntoObservable(o.resolve(e,n.future)):y.wrapIntoObservable(o(e,n.future))})},PreActivation.prototype.getToken=function(t,e,n){var r=closestLoadedConfig(n,e),o=r?r.injector:this.injector;return o.get(t)},PreActivation}(),P=function(){function ActivateRoutes(t,e){this.futureState=t,this.currState=e}return ActivateRoutes.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;m.advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(e,n,t)},ActivateRoutes.prototype.activateChildRoutes=function(t,e,n){var r=this,o=nodeChildrenAsMap(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n),delete o[t.value.outlet]}),y.forEach(o,function(t,e){return r.deactivateOutletAndItChildren(n._outlets[e])})},ActivateRoutes.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(m.advanceActivatedRoute(r),r.component){var s=getOutlet(n,t.value);this.activateChildRoutes(t,e,s.outletMap)}else this.activateChildRoutes(t,e,n);else{if(o)if(o.component){var s=getOutlet(n,t.value);this.deactivateOutletAndItChildren(s)}else this.deactivateOutletMap(n);if(r.component){m.advanceActivatedRoute(r);var s=getOutlet(n,t.value),i=new h.RouterOutletMap;this.placeComponentIntoOutlet(i,r,s),this.activateChildRoutes(t,null,i)}else m.advanceActivatedRoute(r),this.activateChildRoutes(t,null,n)}},ActivateRoutes.prototype.placeComponentIntoOutlet=function(t,e,n){var o=[{provide:m.ActivatedRoute,useValue:e},{provide:h.RouterOutletMap,useValue:t}],s=closestLoadedConfig(this.futureState.snapshot,e.snapshot),i=null,a=null;s&&(i=s.factoryResolver,a=s.injector,o.push({provide:r.ComponentFactoryResolver,useValue:i})),n.activate(e,i,a,r.ReflectiveInjector.resolve(o),t)},ActivateRoutes.prototype.deactivateOutletAndItChildren=function(t){t&&t.isActivated&&(this.deactivateOutletMap(t.outletMap),t.deactivate())},ActivateRoutes.prototype.deactivateOutletMap=function(t){var e=this;y.forEach(t._outlets,function(t){return e.deactivateOutletAndItChildren(t)})},ActivateRoutes}()},function(t,e){"use strict";var n=function(){function RouterOutletMap(){this._outlets={}}return RouterOutletMap.prototype.registerOutlet=function(t,e){this._outlets[t]=e},RouterOutletMap.prototype.removeOutlet=function(t){this._outlets[t]=void 0},RouterOutletMap}();e.RouterOutletMap=n},,,,function(t,e,n){
"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(451)),__export(n(697)),__export(n(452))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(1),o=n(186),s=n(45);e.ROUTER_CONFIG=new r.OpaqueToken("ROUTER_CONFIG"),e.ROUTES=new r.OpaqueToken("ROUTES");var i=function(){function LoadedRouterConfig(t,e,n){this.routes=t,this.injector=e,this.factoryResolver=n}return LoadedRouterConfig}();e.LoadedRouterConfig=i;var a=function(){function RouterConfigLoader(t){this.loader=t}return RouterConfigLoader.prototype.load=function(t,n){return o.fromPromise(this.loader.load(n).then(function(n){var r=n.create(t);return new i(s.flatten(r.injector.get(e.ROUTES)),r.injector,r.componentFactoryResolver)}))},RouterConfigLoader}();e.RouterConfigLoader=a},,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function ProjectActions(){}return ProjectActions.prototype.createProject=function(t){return{type:ProjectActions.CREATE_PROJECT,payload:{project:t}}},ProjectActions.prototype.createProjectFailed=function(t){return{type:ProjectActions.CREATE_PROJECT_FAILED,payload:t}},ProjectActions.prototype.createProjectFulfilled=function(t){return{type:ProjectActions.CREATE_PROJECT_FULFILLED,payload:{project:t}}},ProjectActions.prototype.fetchProjects=function(){return{type:ProjectActions.FETCH_PROJECTS}},ProjectActions.prototype.fetchProjectsFailed=function(t){return{type:ProjectActions.FETCH_PROJECTS_FAILED,payload:t}},ProjectActions.prototype.fetchProjectsFulfilled=function(t,e){return{type:ProjectActions.FETCH_PROJECTS_FULFILLED,payload:{projects:t,meta:e}}},ProjectActions.prototype.updateProject=function(t,e){return{type:ProjectActions.UPDATE_PROJECT,payload:{changes:e,projectId:t}}},ProjectActions.prototype.updateProjectFailed=function(t){return{type:ProjectActions.UPDATE_PROJECT_FAILED,payload:t}},ProjectActions.prototype.updateProjectFulfilled=function(t){return{type:ProjectActions.UPDATE_PROJECT_FULFILLED,payload:{project:t}}},ProjectActions.prototype.deleteProject=function(t){return{type:ProjectActions.DELETE_PROJECT,payload:{projectId:t}}},ProjectActions.prototype.deleteProjectFailed=function(t){return{type:ProjectActions.DELETE_PROJECT_FAILED,payload:t}},ProjectActions.prototype.deleteProjectFulfilled=function(t){return{type:ProjectActions.DELETE_PROJECT_FULFILLED,payload:{project:t}}},ProjectActions.CREATE_PROJECT="CREATE_PROJECT",ProjectActions.CREATE_PROJECT_FAILED="CREATE_PROJECT_FAILED",ProjectActions.CREATE_PROJECT_FULFILLED="CREATE_PROJECT_FULFILLED",ProjectActions.FETCH_PROJECTS="FETCH_PROJECTS",ProjectActions.FETCH_PROJECTS_FAILED="FETCH_PROJECTS_FAILED",ProjectActions.FETCH_PROJECTS_FULFILLED="FETCH_PROJECTS_FULFILLED",ProjectActions.UPDATE_PROJECT="UPDATE_PROJECT",ProjectActions.UPDATE_PROJECT_FAILED="UPDATE_PROJECT_FAILED",ProjectActions.UPDATE_PROJECT_FULFILLED="UPDATE_PROJECT_FULFILLED",ProjectActions.DELETE_PROJECT="DELETE_PROJECT",ProjectActions.DELETE_PROJECT_FAILED="DELETE_PROJECT_FAILED",ProjectActions.DELETE_PROJECT_FULFILLED="DELETE_PROJECT_FULFILLED",ProjectActions=r([s.Injectable(),o("design:paramtypes",[])],ProjectActions)}();e.ProjectActions=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function setupRouter(t,e,n,r,o,i,a,c,u){if(void 0===u&&(u={}),0==t.componentTypes.length)throw new Error("Bootstrap at least one component before injecting Router.");var p=t.componentTypes[0],d=new s.Router(p,e,n,r,o,i,a,l.flatten(c));return u.enableTracing&&d.events.subscribe(function(t){console.group("Router Event: "+t.constructor.name),console.log(t.toString()),console.log(t),console.groupEnd()}),d}function rootRoute(t){return t.routerState.root}function initialRouterNavigation(t){return function(){t.initialNavigation()}}function provideRouter(t,n){return void 0===n&&(n={}),[provideRoutes(t),{provide:e.ROUTER_CONFIGURATION,useValue:n},r.Location,{provide:r.LocationStrategy,useClass:r.PathLocationStrategy},{provide:u.UrlSerializer,useClass:u.DefaultUrlSerializer},{provide:s.Router,useFactory:setupRouter,deps:[o.ApplicationRef,o.ComponentResolver,u.UrlSerializer,a.RouterOutletMap,r.Location,o.Injector,o.NgModuleFactoryLoader,i.ROUTES,e.ROUTER_CONFIGURATION]},a.RouterOutletMap,{provide:c.ActivatedRoute,useFactory:rootRoute,deps:[s.Router]},provideRouterInitializer(),{provide:o.NgModuleFactoryLoader,useClass:o.SystemJsNgModuleLoader}]}function provideRouterInitializer(){return{provide:o.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:initialRouterNavigation,deps:[s.Router]}}function provideRoutes(t){return[{provide:o.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:i.ROUTES,multi:!0,useValue:t}]}function provideRouterConfig(t){return{provide:e.ROUTER_CONFIGURATION,useValue:t}}var r=n(25),o=n(1),s=n(76),i=n(118),a=n(77),c=n(52),u=n(44),l=n(45);e.ROUTER_CONFIGURATION=new o.OpaqueToken("ROUTER_CONFIGURATION"),e.setupRouter=setupRouter,e.rootRoute=rootRoute,e.initialRouterNavigation=initialRouterNavigation,e.provideRouter=provideRouter,e.provideRouterInitializer=provideRouterInitializer,e.provideRoutes=provideRoutes,e.provideRouterConfig=provideRouterConfig},function(t,e,n){"use strict";function toBool(t){return""===t||!!t}var r=n(25),o=n(1),s=n(76),i=n(52),a=function(){function RouterLink(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[]}return Object.defineProperty(RouterLink.prototype,"routerLink",{set:function(t){Array.isArray(t)?this.commands=t:this.commands=[t]},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(t,e,n){return!(0===t&&!e&&!n)||(this.router.navigateByUrl(this.urlTree),!1)},Object.defineProperty(RouterLink.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:toBool(this.preserveQueryParams),preserveFragment:toBool(this.preserveFragment)})},enumerable:!0,configurable:!0}),RouterLink.decorators=[{type:o.Directive,args:[{selector:":not(a)[routerLink]"}]}],RouterLink.ctorParameters=[{type:s.Router},{type:i.ActivatedRoute},{type:r.LocationStrategy}],RouterLink.propDecorators={queryParams:[{type:o.Input}],fragment:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],preserveFragment:[{type:o.Input}],routerLink:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},RouterLink}();e.RouterLink=a;var c=function(){function RouterLinkWithHref(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof s.NavigationEnd&&r.updateTargetUrlAndHref()})}return Object.defineProperty(RouterLinkWithHref.prototype,"routerLink",{set:function(t){Array.isArray(t)?this.commands=t:this.commands=[t]},enumerable:!0,configurable:!0}),RouterLinkWithHref.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},RouterLinkWithHref.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkWithHref.prototype.onClick=function(t,e,n){return!(0===t&&!e&&!n)||("string"==typeof this.target&&"_self"!=this.target||(this.router.navigateByUrl(this.urlTree),!1))},RouterLinkWithHref.prototype.updateTargetUrlAndHref=function(){this.urlTree=this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:toBool(this.preserveQueryParams),preserveFragment:toBool(this.preserveFragment)}),this.urlTree&&(this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)))},RouterLinkWithHref.decorators=[{type:o.Directive,args:[{selector:"a[routerLink]"}]}],RouterLinkWithHref.ctorParameters=[{type:s.Router},{type:i.ActivatedRoute},{type:r.LocationStrategy}],RouterLinkWithHref.propDecorators={target:[{type:o.Input}],queryParams:[{type:o.Input}],fragment:[{type:o.Input}],routerLinkOptions:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],preserveFragment:[{type:o.Input}],href:[{type:o.HostBinding}],routerLink:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},RouterLinkWithHref}();e.RouterLinkWithHref=c},function(t,e){"use strict";function findNode(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var o=r[n],s=findNode(t,o);if(s)return s}return null}function findPath(t,e,n){if(n.push(e),t===e.value)return n;for(var r=0,o=e.children;r<o.length;r++){var s=o[r],i=n.slice(0),a=findPath(t,s,i);if(a.length>0)return a}return[]}var n=function(){function Tree(t){this._root=t}return Object.defineProperty(Tree.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),Tree.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},Tree.prototype.children=function(t){var e=findNode(t,this._root);return e?e.children.map(function(t){return t.value}):[]},Tree.prototype.firstChild=function(t){var e=findNode(t,this._root);return e&&e.children.length>0?e.children[0].value:null},Tree.prototype.siblings=function(t){var e=findPath(t,this._root,[]);if(e.length<2)return[];var n=e[e.length-2].children.map(function(t){return t.value});return n.filter(function(e){return e!==t})},Tree.prototype.pathFromRoot=function(t){return findPath(t,this._root,[]).map(function(t){return t.value})},Tree}();e.Tree=n;var r=function(){function TreeNode(t,e){this.value=t,this.children=e}return TreeNode.prototype.toString=function(){return"TreeNode("+this.value+")"},TreeNode}();e.TreeNode=r},,,,function(t,e,n){"use strict";var r=n(185);e.fromPromise=r.PromiseObservable.create},,,,,,function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=function(t){function EmptyError(){t.call(this,"no elements in sequence"),this.name="EmptyError"}return n(EmptyError,t),EmptyError}(Error);e.EmptyError=r},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function EnvironmentActions(){}return EnvironmentActions.prototype.search=function(t){return{type:EnvironmentActions.SEARCH,payload:{keyWord:t}}},EnvironmentActions.prototype.toggleNav=function(){return{type:EnvironmentActions.TOGGLE_NAV}},EnvironmentActions.prototype.toggleSearch=function(){return{type:EnvironmentActions.TOGGLE_SEARCH}},EnvironmentActions.prototype.hideNav=function(){return{type:EnvironmentActions.HIDE_NAV}},EnvironmentActions.SEARCH="SEARCH",EnvironmentActions.TOGGLE_NAV="TOGGLE_NAV",EnvironmentActions.TOGGLE_SEARCH="TOGGLE_SEARCH",EnvironmentActions.HIDE_NAV="HIDE_NAV",EnvironmentActions=r([s.Injectable(),o("design:paramtypes",[])],EnvironmentActions)}();e.EnvironmentActions=i},function(t,e,n){"use strict";var r=n(678);e.DateFormatPipe=r.DateFormatPipe;var o=n(677);e.DateDurationPipe=o.DateDurationPipe;var s=n(680);e.TextTransformPipe=s.TextTransformPipe;var i=n(681);e.ValuesPipe=i.ValuesPipe;var a=n(446);e.KeysPipe=a.KeysPipe;var c=n(679);e.LocalizedNamePipe=c.LocalizedNamePipe},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(3),c=n(37),u=n(63),l=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),p=function(){function ProjectService(t,e){this.http=t,this.translate=e}return ProjectService.prototype.getProjectStatusTypes=function(){return this.translate.get(["draft","processed","finished"]).map(function(t){return[{value:"DRAFT",text:t.draft,"default":!0},{value:"PROCESSED",text:t.processed},{value:"FINISHED",text:t.finished}]})},ProjectService.prototype.fetchProjects=function(t){return void 0===t&&(t={}),this.http.get("p?id=project-view",{headers:l,search:u.createURLSearchParams(t)}).map(function(t){return t.json().objects[0]}).map(function(t){return{projects:t.list,meta:t.meta}})},ProjectService.prototype.fetchProjectById=function(t){var e="p?id=project-form&projectId="+("new"!==t?t:"");return this.http.get(e,{headers:l}).map(function(t){var e=u.parseResponseObjects(t.json().objects),n=e.project;return n.id||(n.id=""),e.fsid&&(n.fsid=e.fsid),e.ACL&&(n.acl=e.ACL),e.attachment&&(n.attachments=e.attachment.list),n})},ProjectService.prototype.saveProject=function(t){var e="p?id=project-form&projectId="+(t.id?t.id:"");return this.http.post(e,u.serializeObj(t),{headers:l}).map(function(t){return u.transformPostResponse(t)}).catch(function(t){return a.Observable.throw(u.transformPostResponse(t))})},ProjectService.prototype.deleteProject=function(t){return this.http.delete("p?id=project-view&projectIds="+t.map(function(t){return t.id}).join(","),{headers:l}).catch(function(t){return a.Observable.throw(u.transformPostResponse(t))})},ProjectService.prototype.deleteProjectAttachment=function(t,e){return this.http.delete("p?id=project-form&projectId="+t.id+"&attachmentId="+e.id,{headers:l}).catch(function(t){return a.Observable.throw(u.transformPostResponse(t))})},ProjectService=r([s.Injectable(),o("design:paramtypes",[i.Http,c.TranslateService])],ProjectService)}();e.ProjectService=p},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(63),c=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),u=function(){function StaffService(t){this.http=t}return StaffService.prototype.fetchOrganizations=function(t){return void 0===t&&(t={}),this.http.get("/Staff/p?id=get-organizations",{headers:c,search:a.createURLSearchParams(t)}).map(function(t){return t.json().objects[0]}).map(function(t){return{organizations:t.list,meta:t.meta}})},StaffService.prototype.fetchEmployees=function(){return this.http.get("/Staff/p?id=employees",{headers:c}).map(function(t){return t.json().objects[0]}).map(function(t){return{employees:t.list}})},StaffService=r([s.Injectable(),o("design:paramtypes",[i.Http])],StaffService)}();e.StaffService=u},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=function(){function TranslateService(t){this.http=t}return TranslateService.prototype.fetchTranslations=function(){var t=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"});return this.http.get("p?id=common-captions",{headers:t}).map(function(t){return t.json().captions})},TranslateService=r([s.Injectable(),o("design:paramtypes",[i.Http])],TranslateService)}();e.TranslateService=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(306),a=n(433),c=function(){function MarkdownConverter(){}return MarkdownConverter.prototype.toMarkdown=function(t){return a(t,{gfm:!0})},MarkdownConverter.prototype.toHtml=function(t){return i(t)},MarkdownConverter=r([s.Injectable(),o("design:paramtypes",[])],MarkdownConverter)}();e.MarkdownConverter=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(1),o=n(76),s=n(181),i=function(){function RouterLinkActive(t,e,n){var r=this;this.router=t,this.element=e,this.renderer=n,this.classes=[],this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof o.NavigationEnd&&r.update()})}return RouterLinkActive.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(RouterLinkActive.prototype,"routerLinkActive",{set:function(t){Array.isArray(t)?this.classes=t:this.classes=t.split(" ")},enumerable:!0,configurable:!0}),RouterLinkActive.prototype.ngOnChanges=function(t){this.update()},RouterLinkActive.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkActive.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.reduceList(this.links),n=this.reduceList(this.linksWithHrefs);this.classes.forEach(function(r){return t.renderer.setElementClass(t.element.nativeElement,r,e||n)})}},RouterLinkActive.prototype.reduceList=function(t){var e=this;return t.reduce(function(t,n){return t||e.router.isActive(n.urlTree,e.routerLinkActiveOptions.exact)},!1)},RouterLinkActive.decorators=[{type:r.Directive,args:[{selector:"[routerLinkActive]"}]}],RouterLinkActive.ctorParameters=[{type:o.Router},{type:r.ElementRef},{type:r.Renderer}],RouterLinkActive.propDecorators={links:[{type:r.ContentChildren,args:[s.RouterLink,{descendants:!0}]}],linksWithHrefs:[{type:r.ContentChildren,args:[s.RouterLinkWithHref,{descendants:!0}]}],routerLinkActiveOptions:[{type:r.Input}],routerLinkActive:[{type:r.Input}]},RouterLinkActive}();e.RouterLinkActive=i},function(t,e,n){"use strict";var r=n(1),o=n(77),s=n(36),i=function(){function RouterOutlet(t,e,n,o){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=o,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,t.registerOutlet(o?o:s.PRIMARY_OUTLET,this)}return RouterOutlet.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:s.PRIMARY_OUTLET)},Object.defineProperty(RouterOutlet.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),RouterOutlet.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this.deactivateEvents.emit(t)}},RouterOutlet.prototype.activate=function(t,e,n,o,s){this.outletMap=s,this._activatedRoute=t;var i,a=t._futureSnapshot,c=a._routeConfig.component;try{i="string"==typeof c?a._resolvedComponentFactory:e?e.resolveComponentFactory(c):this.resolver.resolveComponentFactory(c)}catch(u){if(!(u instanceof r.NoComponentFactoryError))throw u;var l=c?c.name:null;console.warn("'"+l+"' not found in entryComponents array.  To ensure all components referred\n          to by the Routes are compiled, you must add '"+l+"' to the\n          'entryComponents' array of your application component. This will be required in a future\n          release of the router."),i=a._resolvedComponentFactory}var p=n?n:this.location.parentInjector,d=r.ReflectiveInjector.fromResolvedProviders(o,p);this.activated=this.location.createComponent(i,this.location.length,d,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},RouterOutlet.decorators=[{type:r.Directive,args:[{selector:"router-outlet"}]}],RouterOutlet.ctorParameters=[{type:o.RouterOutletMap},{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:void 0,decorators:[{type:r.Attribute,args:["name"]}]}],RouterOutlet.propDecorators={activateEvents:[{type:r.Output,args:["activate"]}],deactivateEvents:[{type:r.Output,args:["deactivate"]}]},RouterOutlet}();e.RouterOutlet=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(24),s=n(432),i=n(429),a=function(t){function BehaviorSubject(e){t.call(this),this._value=e}return r(BehaviorSubject,t),BehaviorSubject.prototype.getValue=function(){if(this.hasErrored)s.throwError(this.errorValue);else{if(!this.isUnsubscribed)return this._value;s.throwError(new i.ObjectUnsubscribedError)}},Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.isUnsubscribed&&e.next(this._value),n},BehaviorSubject.prototype._next=function(e){t.prototype._next.call(this,this._value=e)},BehaviorSubject.prototype._error=function(e){this.hasErrored=!0,t.prototype._error.call(this,this.errorValue=e)},BehaviorSubject}(o.Subject);e.BehaviorSubject=a},,,,function(t,e,n){"use strict";var r=n(3),o=n(615);r.Observable.prototype.concatAll=o.concatAll},,,,function(t,e,n){"use strict";var r=n(610);e.from=r.FromObservable.create},,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function AppActions(){}return AppActions.prototype.fetchUserProfile=function(){return{type:AppActions.FETCH_USER_PROFILE}},AppActions.prototype.fetchUserProfileFailed=function(t){return{type:AppActions.FETCH_USER_PROFILE_FAILED,payload:t}},AppActions.prototype.fetchUserProfileFulfilled=function(t){return{type:AppActions.FETCH_USER_PROFILE_FULFILLED,payload:t}},AppActions.prototype.updateUserProfile=function(t){return{type:AppActions.UPDATE_USER_PROFILE,payload:{userProfile:t}}},AppActions.prototype.updateUserProfileFailed=function(t){return{type:AppActions.UPDATE_USER_PROFILE_FAILED,payload:t}},AppActions.prototype.updateUserProfileFulfilled=function(t){return{type:AppActions.UPDATE_USER_PROFILE_FULFILLED,payload:{userProfile:t}}},AppActions.FETCH_USER_PROFILE="FETCH_USER_PROFILE",AppActions.FETCH_USER_PROFILE_FAILED="FETCH_USER_PROFILE_FAILED",AppActions.FETCH_USER_PROFILE_FULFILLED="FETCH_USER_PROFILE_FULFILLED",AppActions.UPDATE_USER_PROFILE="UPDATE_USER_PROFILE",AppActions.UPDATE_USER_PROFILE_FAILED="UPDATE_USER_PROFILE_FAILED",AppActions.UPDATE_USER_PROFILE_FULFILLED="UPDATE_USER_PROFILE_FULFILLED",AppActions=r([s.Injectable(),o("design:paramtypes",[])],AppActions)}();e.AppActions=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function ReferenceActions(){}return ReferenceActions.prototype.fetchTaskTypes=function(t){return{type:ReferenceActions.FETCH_TASK_TYPES,payload:{taskTypes:t}}},ReferenceActions.prototype.fetchRequestTypes=function(t){return{type:ReferenceActions.FETCH_REQUEST_TYPES,payload:{requestTypes:t}}},ReferenceActions.prototype.fetchTags=function(t){return{type:ReferenceActions.FETCH_TAGS,payload:{tags:t}}},ReferenceActions.prototype.fetchReferenceFailed=function(t){return{type:ReferenceActions.FETCH_REFERENCE_FAILED,payload:t}},ReferenceActions.FETCH_TASK_TYPES="FETCH_TASK_TYPES",ReferenceActions.FETCH_REQUEST_TYPES="FETCH_REQUEST_TYPES",ReferenceActions.FETCH_TAGS="FETCH_TAGS",ReferenceActions.FETCH_REFERENCE_FAILED="FETCH_REFERENCE_FAILED",ReferenceActions=r([s.Injectable(),o("design:paramtypes",[])],ReferenceActions)}();e.ReferenceActions=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(39),c=function(){function AuthGuard(t,e){this.appService=t,this.router=e}return AuthGuard.prototype.canActivate=function(t,e){return this.appService.isLogged,!0},AuthGuard=r([s.Injectable(),o("design:paramtypes",[a.AppService,i.Router])],AuthGuard)}();e.AuthGuard=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(63),c=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),u=function(){function DashboardComponent(t){this.http=t,this.fetchDashboardProjects()}return DashboardComponent.prototype.fetchDashboardProjects=function(){var t=this;this.http.get("p?id=dashboard",{headers:c}).map(function(t){return a.parseResponseObjects(t.json().objects).project}).subscribe(function(e){t.projects=e?e.list:[]})},DashboardComponent.prototype.addProjectToDashboard=function(){var t=this;this.http.post("p?id=dashboard","projectId="+this.projectId,{headers:c}).map(function(t){return t.json()}).subscribe(function(e){t.fetchDashboardProjects()})},DashboardComponent.prototype.deleteProjectFromDashboard=function(t){var e=this;this.http.delete("p?id=dashboard&projectId="+t,{headers:c}).map(function(t){return t.json()}).subscribe(function(t){e.fetchDashboardProjects()})},DashboardComponent.prototype.selectProject=function(t){this.projectId=t.id,document.body.click()},DashboardComponent=r([s.Component({selector:"[dashboard]",template:'\n        <div class="content-header">\n            <h1 class="header-title">\n                {{\'dashboard\' | translate}}\n            </h1>\n        </div>\n        <div class="content-body">\n            Здесь что-то будет\n            <!-- <div class="dashboard" *ngFor="let project of projects">\n                <header>\n                    <span>{{project.name}}</span>\n                    <button (click)="deleteProjectFromDashboard(project.id)">delete</button>\n                </header>\n                <section>\n                    project data\n                </section>\n            </div>\n            <div class="span3">\n                <project-input editable="true" (select)="selectProject($event)"></project-input>\n                <button class="btn" type="button" (click)="addProjectToDashboard()">{{\'dashboard_add_project\' | translate}}</button>\n            </div> -->\n        </div>\n    '}),o("design:paramtypes",[i.Http])],DashboardComponent)}();e.DashboardComponent=u},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function LoginComponent(){window.location.href="Logout"}return LoginComponent=r([s.Component({selector:"[login]",template:""}),o("design:paramtypes",[])],LoginComponent)}();e.LoginComponent=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(17),c=n(37),u=n(194),l=n(81),p=n(39),d=n(30),f=function(){function ProjectComponent(t,e,n,r,o,s){this.store=t,this.router=e,this.route=n,this.translate=r,this.projectService=o,this.notifyService=s,this.isReady=!1,this.isNew=!0,this.isEditable=!1,this.isValid=!0,this.errors={}}return ProjectComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.route.params.subscribe(function(e){t.projectService.fetchProjectById(e.projectId).subscribe(function(e){t.project=e,t.isNew=""==t.project.id,t.isEditable=t.isNew||t.project.editable,t.isReady=!0,t.isValid=!0,t.loadData()},function(e){return t.handleXhrError(e)})})},ProjectComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},Object.defineProperty(ProjectComponent.prototype,"title",{get:function(){return this.isNew?"new_project":"project"},enumerable:!0,configurable:!0
}),ProjectComponent.prototype.loadData=function(){var t=this;this.projectService.getProjectStatusTypes().subscribe(function(e){return t.projectStatusTypes=e})},ProjectComponent.prototype.saveProject=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_document_save")).show();this.projectService.saveProject(this.project).subscribe(function(n){return e.set({type:"success",message:n.message}),t.close(),n},function(n){return e.remove(),t.handleXhrError(n),t.handleValidationError(n),n},function(){return e.remove(1500)})},ProjectComponent.prototype.deleteProject=function(){var t=this;this.projectService.deleteProject([this.project]).subscribe(function(e){return t.close()},function(e){return t.handleXhrError(e)})},ProjectComponent.prototype.close=function(){this.router.navigate(["/projects"])},ProjectComponent.prototype.handleValidationError=function(t){var e={};if(t.validation){this.isValid=!1;for(var n=0,r=t.validation.errors;n<r.length;n++){var o=r[n];e[o.field]={message:o.message,error:o.error}}}this.errors=e},ProjectComponent.prototype.handleXhrError=function(t){console.log(t),401===t.status?this.router.navigate(["/login"]):this.notifyService.error(t.message).show().remove(2e3)},ProjectComponent.prototype.setStatus=function(t){this.project.status=t,this.validateForm("status")},ProjectComponent.prototype.setCustomer=function(t){this.project.customerId=t.id,this.validateForm("customerId")},ProjectComponent.prototype.setManager=function(t){this.project.managerUserId=t[0].userID,this.validateForm("managerUserId")},ProjectComponent.prototype.setProgrammer=function(t){this.project.programmerUserId=t[0].userID,this.validateForm("programmerUserId")},ProjectComponent.prototype.setTester=function(t){this.project.testerUserId=t[0].userID,this.validateForm("testerUserId")},ProjectComponent.prototype.setObserver=function(t){this.project.observerUserIds=t.map(function(t){return t.userID}),this.validateForm("observerUserIds")},ProjectComponent.prototype.removeObserver=function(t,e){var n=this;this.project.observerUserIds.forEach(function(e,r){e===t.userID&&n.project.observerUserIds.splice(r,1)}),e.stopPropagation()},ProjectComponent.prototype.setFinishDate=function(t){this.project.finishDate=t,this.validateForm("finishDate")},ProjectComponent.prototype.setProjectComment=function(t){this.project.comment=t,this.validateForm("comment")},ProjectComponent.prototype.addAttachment=function(t){var e=new d.Attachment;e.realFileName=t.files[0],this.project.attachments||(this.project.attachments=[]),this.project.fsid||(this.project.fsid=""+Date.now()),this.project.attachments.push(e)},ProjectComponent.prototype.deleteAttachment=function(t){var e=this;this.projectService.deleteProjectAttachment(this.project,t).subscribe(function(n){e.project.attachments=e.project.attachments.filter(function(e){return e.id!=t.id})})},ProjectComponent.prototype.validateForm=function(t){for(var e in this.errors)this.project[e]&&(this.errors[e]=!1);var n=!0;for(var e in this.errors)if(this.errors[e]!==!1){n=!1;break}this.isValid=n},ProjectComponent=r([s.Component({selector:"project",template:n(567),pipes:[u.KeysPipe,u.ValuesPipe]}),o("design:paramtypes",[a.Store,i.Router,i.ActivatedRoute,c.TranslateService,p.ProjectService,l.NotificationService])],ProjectComponent)}();e.ProjectComponent=f},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(17),c=n(196),u=n(195),l=n(126),p=function(){function ProjectsComponent(t,e,n,r,o){this.store=t,this.router=e,this.projectActions=n,this.projectService=r,this.staffService=o,this.subs=[],this.title="projects",this.meta={},this.keyWord="",this.loading=!0,this.params={}}return ProjectsComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("environment").subscribe(function(e){t.keyWord!=e.keyWord&&t.loadData({keyWord:e.keyWord}),t.keyWord=e.keyWord})),this.subs.push(this.store.select("projects").subscribe(function(e){e&&(t.projects=e.projects,t.meta=e.meta,t.loading=e.loading)})),this.loadData()},ProjectsComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},ProjectsComponent.prototype.loadData=function(t){var e=this;this.params=t,this.store.dispatch(this.projectActions.fetchProjects()),this.projectService.fetchProjects(t).subscribe(function(t){var n=t.projects.map(function(t){return t.customerId});e.staffService.fetchOrganizations({ids:n}).subscribe(function(n){var r=n.organizations;t.projects.map(function(t){t.customerId&&(t.customer=r.filter(function(e){return e.id==t.customerId})[0])}),e.store.dispatch(e.projectActions.fetchProjectsFulfilled(t.projects,t.meta))},function(t){return e.store.dispatch(e.projectActions.fetchProjectsFailed(t))})})},ProjectsComponent.prototype.refresh=function(){this.loadData(this.params)},ProjectsComponent.prototype.goToPage=function(t){this.loadData({page:t.page,keyWord:this.keyWord})},ProjectsComponent.prototype.newProject=function(){this.router.navigate(["/projects","new"])},ProjectsComponent.prototype.deleteProject=function(){},ProjectsComponent=r([s.Component({selector:"projects",template:n(568)}),o("design:paramtypes",[a.Store,i.Router,l.ProjectActions,u.ProjectService,c.StaffService])],ProjectsComponent)}();e.ProjectsComponent=p},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(17),c=n(37),u=n(81),l=n(38),p=n(39),d=n(30),f=function(){function RequestComponent(t,e,n,r,o,i){this.store=t,this.router=e,this.route=n,this.translate=r,this.notifyService=o,this.taskService=i,this.send=new s.EventEmitter,this.subs=[],this.isReady=!1,this.isNew=!0,this.dueDate="",this.editable=!0,this.isResolveAction=!1}return RequestComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.route.params.subscribe(function(e){t.isReady=!1,t.isNew="new"===e.requestId,t.editable=t.isNew,t.isResolveAction=!1,t.taskService.fetchRequestById(e.requestId).subscribe(function(n){t.request=n,t.isNew?t.request.taskId=e.task:t.isResolveAction="UNKNOWN"==t.request.resolution&&"prolong"===t.request.requestType.name,t.taskService.fetchTaskById(t.request.taskId).subscribe(function(e){t.task=e,t.isReady=!0})},function(e){return t.handleXhrError(e)})}))},RequestComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},RequestComponent.prototype.handleXhrError=function(t){401===t.status?this.router.navigate(["/login"]):this.notifyService.error(t.message).show().remove(3e3)},RequestComponent.prototype.close=function(){window.history.back()},RequestComponent.prototype.cancel=function(){this.store.dispatch({type:l.TaskActions.TASK_REQUEST_CANCEL})},RequestComponent.prototype.sendRequest=function(){var t=this;this.taskService.sendTaskRequest(this.request).subscribe(function(e){t.notifyService.info(t.translate.instant("request_send_success")).show().remove(3e3),t.close(),t.send.emit({requestSendSuccess:!0})})},RequestComponent.prototype.doAccept=function(t){var e=this;this.taskService.doRequestResolution(t,"ACCEPT",{dueDate:this.dueDate}).subscribe(function(t){e.store.dispatch(t),e.close()})},RequestComponent.prototype.doDecline=function(t){var e=this;this.taskService.doRequestResolution(t,"DECLINE").subscribe(function(t){e.close()})},RequestComponent.prototype.setRequestType=function(t){this.request.requestTypeId=t.id},RequestComponent.prototype.setComment=function(t){this.request.comment=t},RequestComponent.prototype.setDueDate=function(t){this.dueDate=t},RequestComponent.prototype.addAttachment=function(t){var e=new d.Attachment;e.realFileName=t.files[0],this.request.attachments||(this.request.attachments=[]),this.request.attachments.push(e)},RequestComponent.prototype.deleteAttachment=function(t){this.request.attachments=this.request.attachments.filter(function(e){return e.id!=t.id})},r([s.Output(),o("design:type",Object)],RequestComponent.prototype,"send",void 0),RequestComponent=r([s.Component({selector:"request",template:n(569)}),o("design:paramtypes",[a.Store,i.Router,i.ActivatedRoute,c.TranslateService,u.NotificationService,p.TaskService])],RequestComponent)}();e.RequestComponent=f},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(17),c=n(37),u=n(194),l=n(652),p=n(81),d=n(38),f=n(39),h=n(30),m=function(){function TaskComponent(t,e,n,r,o,s,i){var a=this;this.store=t,this.router=e,this.route=n,this.translate=r,this.taskActions=o,this.taskService=s,this.notifyService=i,this.subs=[],this.isReady=!1,this.isNew=!0,this.isEditable=!1,this.isValid=!0,this.isSubtask=!1,this.subTasks=[],this.acl={},this.rights={addSubtask:!1,doRequest:!1,doResolution:!1,addComment:!1,removeTask:!1},this.FEATURE_FLAGS={subTask:!0,comments:!1},this.showPropertyTabTitle=!0,this.showProperty=!0,this.showSubtasks=!1,this.showRequests=!1,this.showACLTabTitle=!1,this.showACL=!1,this.hasUnResolvedRequest=!0,this.hasAcceptedRequestResolution=!1,this.errors={},this.subs.push(this.store.select("task").subscribe(function(t){a.comments=t.comments,a.requests=t.requests,a.requests?(a.hasUnResolvedRequest=!1,a.hasAcceptedRequestResolution=!1,a.requests.forEach(function(t){"UNKNOWN"==t.resolution&&(a.hasUnResolvedRequest=!0),"ACCEPT"==t.resolution&&(a.hasAcceptedRequestResolution=!0)})):a.hasUnResolvedRequest=!1}))}return TaskComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.route.params.subscribe(function(e){t.isReady=!1,t.task=null,t.showProperty=!0,t.showSubtasks=!1,t.showRequests=!1,t.hasUnResolvedRequest=!0,t.hasAcceptedRequestResolution=!1,t.isNew="new"===e.taskId||e.taskId&&"new"===e.new,t.isSubtask=e.taskId&&"new"===e.new,t.showPropertyTabTitle=!t.isNew,t.showACLTabTitle=t.showPropertyTabTitle,t.taskService.fetchTaskById(e.taskId).subscribe(function(e){t.isSubtask?(t.parentTask=e,t.task=new h.Task,t.task.parentTaskId=t.parentTask.id):(t.task=e,t.isSubtask=!!t.task.parentTaskId),t.isNew||(t.loadComments(1),t.loadRequests(1),t.loadSubtasks()),t.parentTask=null,t.task.parentTaskId&&!t.task.parentTask?t.taskService.fetchTaskById(t.task.parentTaskId).subscribe(function(e){t.parentTask=e,t.isNew&&t.isSubtask&&t.copyValueFromTask(t.parentTask),t.isReady=!0}):t.isReady=!0,t.isEditable=t.isNew||t.task.editable,t.isValid=!0},function(e){return t.handleXhrError(e)})})),this.taskService.getTaskStatusTypes().subscribe(function(e){return t.taskStatusTypes=e}),this.taskService.getTaskPriorityTypes().subscribe(function(e){return t.taskPriorityTypes=e})},TaskComponent.prototype.ngOnDestroy=function(){this.store.dispatch({type:d.TaskActions.TASK_UNLOAD}),this.subs.map(function(t){return t.unsubscribe()})},Object.defineProperty(TaskComponent.prototype,"title",{get:function(){return this.isNew&&this.isSubtask?"new_subtask":this.isNew?"new_task":this.isSubtask?"subtask":"task"},enumerable:!0,configurable:!0}),TaskComponent.prototype.copyValueFromTask=function(t){this.task.title=t.title,this.task.priority=t.priority,this.task.startDate=t.startDate,this.task.dueDate=t.dueDate,this.task.tagIds=t.tagIds},TaskComponent.prototype.toggleShowProperty=function(){this.showProperty=!0,this.showRequests=!1,this.showSubtasks=!1,this.showACL=!1},TaskComponent.prototype.toggleShowSubtasks=function(){this.showSubtasks=!0,this.showRequests=!1,this.showProperty=!1,this.showACL=!1},TaskComponent.prototype.toggleShowRequests=function(){this.showRequests=!0,this.showSubtasks=!1,this.showProperty=!1,this.showACL=!1},TaskComponent.prototype.toggleShowACL=function(){this.showACL=!0,this.showSubtasks=!1,this.showProperty=!1,this.showRequests=!1},TaskComponent.prototype.saveTask=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_document_save")).show();this.taskService.saveTask(this.task).subscribe(function(n){e.set({type:"success",message:n.message}).remove(1500),t.close()},function(n){e.remove(),t.handleXhrError(n),t.handleValidationError(n)})},TaskComponent.prototype.completeTask=function(){var t=this,e=this.notifyService.process(this.translate.instant("wait_while_process")).show();this.taskService.completeTask(this.task).subscribe(function(n){e.set({type:"success",message:n.message}).remove(1500),t.close()},function(n){e.remove(),t.handleXhrError(n)})},TaskComponent.prototype.deleteTask=function(){var t=this;this.taskService.deleteTask([this.task]).subscribe(function(e){t.close()},function(e){t.handleXhrError(e)})},TaskComponent.prototype.canAddSubTask=function(){return this.FEATURE_FLAGS.subTask&&!this.isNew&&"FINISHED"!=this.task.status},TaskComponent.prototype.addSubtask=function(){this.router.navigate(["/task",this.task.id,"new"])},TaskComponent.prototype.showComments=function(){return this.hasFutureComments()&&!this.isNew},TaskComponent.prototype.hasFutureComments=function(){return this.FEATURE_FLAGS.comments},TaskComponent.prototype.loadComments=function(t){var e=this;void 0===t&&(t=1),this.taskService.fetchComments(this.task,t).subscribe(function(t){e.store.dispatch({type:d.TaskActions.FETCH_TASK_COMMENTS_FULFILLED,payload:t})})},TaskComponent.prototype.saveComment=function(t){var e=this;this.taskService.saveComment(this.task,t).subscribe(function(t){e.loadComments(1)})},TaskComponent.prototype.deleteComment=function(t){var e=this;this.taskService.deleteComment(t).subscribe(function(t){e.loadComments(1)})},TaskComponent.prototype.loadRequests=function(t){var e=this;void 0===t&&(t=1),this.taskService.fetchTaskRequests(this.task,t).subscribe(function(t){e.store.dispatch({type:d.TaskActions.FETCH_TASK_REQUESTS_FULFILLED,payload:t})})},TaskComponent.prototype.acceptRequest=function(t){var e=this;"prolong"==t.requestType.name?this.store.dispatch({type:d.TaskActions.TASK_REQUEST_ACCEPTANCE,payload:{task:this.task,request:t}}):this.taskService.doRequestResolution(t,"ACCEPT").subscribe(function(t){e.store.dispatch(t),e.loadRequests(1)})},TaskComponent.prototype.declineRequest=function(t){var e=this;this.taskService.doRequestResolution(t,"DECLINE").subscribe(function(t){e.store.dispatch(t),e.loadRequests(1)})},TaskComponent.prototype.hasRequests=function(){return this.task.hasRequests},TaskComponent.prototype.loadSubtasks=function(){var t=this;this.taskService.fetchTasks({parentTaskId:this.task.id}).subscribe(function(e){t.subTasks=e.tasks})},TaskComponent.prototype.hasSubTasks=function(){return this.subTasks&&this.subTasks.length},TaskComponent.prototype.close=function(){window.history.back()},TaskComponent.prototype.handleValidationError=function(t){var e={};if(t.validation){this.isValid=!1;for(var n=0,r=t.validation.errors;n<r.length;n++){var o=r[n];e[o.field]={message:o.message,error:o.error}}}this.errors=e},TaskComponent.prototype.handleXhrError=function(t){401===t.status?this.router.navigate(["/login"]):this.notifyService.error(t.message).show().remove(3e3)},TaskComponent.prototype.canSaveTask=function(){return this.isEditable},TaskComponent.prototype.canDoStatusWaiting=function(){return!0},TaskComponent.prototype.canDoStatusProcessed=function(){return!0},TaskComponent.prototype.canCompleteTask=function(){return!this.isNew&&this.isEditable&&"FINISHED"!=this.task.status},TaskComponent.prototype.canRequestAction=function(){return this.task&&this.task.id&&"FINISHED"!=this.task.status&&!this.hasUnResolvedRequest},TaskComponent.prototype.newRequest=function(){this.router.navigate(["/requests","new",{task:this.task.id}])},TaskComponent.prototype.onSendRequest=function(t){var e=t.requestSendSuccess;e&&this.close()},TaskComponent.prototype.setStatus=function(t){this.task.status=t,this.validateForm()},TaskComponent.prototype.setPriority=function(t){this.task.priority=t,this.validateForm()},TaskComponent.prototype.setProject=function(t){this.task.projectId=t.id,this.validateForm()},TaskComponent.prototype.setTaskType=function(t){this.task.taskTypeId=t.id,this.validateForm()},TaskComponent.prototype.setAssigneeUser=function(t){this.task.assigneeUserId=t[0].userID,this.validateForm()},TaskComponent.prototype.setStartDate=function(t){this.task.startDate=t,this.validateForm()},TaskComponent.prototype.setDueDate=function(t){this.task.dueDate=t,this.validateForm()},TaskComponent.prototype.updateTaskBody=function(t){this.task.body=t,this.validateForm()},TaskComponent.prototype.setTags=function(t){this.task.tagIds=t.map(function(t){return t.id}),this.validateForm()},TaskComponent.prototype.addAttachment=function(t){var e=new h.Attachment;e.realFileName=t.files[0],this.task.attachments||(this.task.attachments=[]),this.task.fsid||(this.task.fsid=""+Date.now()),this.task.attachments.push(e)},TaskComponent.prototype.deleteAttachment=function(t){var e=this;this.taskService.deleteTaskAttachment(this.task,t).subscribe(function(n){e.task.attachments=e.task.attachments.filter(function(e){return e.id!=t.id})})},TaskComponent.prototype.validateForm=function(t){for(var e in this.errors)this.task[e]&&(this.errors[e]=!1);var n=!0;for(var e in this.errors)if(this.errors[e]!==!1){n=!1;break}this.isValid=n},TaskComponent=r([s.Component({selector:"task",template:n(572),directives:[l.CommentsComponent],pipes:[u.KeysPipe,u.ValuesPipe]}),o("design:paramtypes",[a.Store,i.Router,i.ActivatedRoute,c.TranslateService,d.TaskActions,f.TaskService,p.NotificationService])],TaskComponent)}();e.TaskComponent=m},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(17),c=n(449),u=n(38),l=function(){function TasksComponent(t,e,n,r,o){this.store=t,this.router=e,this.route=n,this.taskActions=r,this.taskService=o,this.subs=[],this.meta={},this.keyWord="",this.filter={},this.loading=!0,this.params={}}return TasksComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("environment").subscribe(function(e){t.keyWord!=e.keyWord&&t.loadData({keyWord:e.keyWord}),t.keyWord=e.keyWord})),this.subs.push(this.store.select("tasks").subscribe(function(e){e&&(t.tasks=e.tasks,t.meta=e.meta,t.loading=e.loading)})),this.subs.push(this.route.params.subscribe(function(e){var n=e.for;e.projectId;switch(n){case"inbox":t.title="tasks_assigned_to_me";break;case"my":t.title="my_tasks";break;default:t.title="tasks"}t.loadData(Object.assign({},e,t.filter))}))},TasksComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},TasksComponent.prototype.loadData=function(t){var e=this;this.params=t,this.store.dispatch(this.taskActions.fetchTasks()),this.taskService.fetchTasks(t).subscribe(function(t){e.store.dispatch(e.taskActions.fetchTasksFulfilled(t.tasks,t.meta))},function(t){return e.store.dispatch(e.taskActions.fetchTasksFailed(t))})},TasksComponent.prototype.refresh=function(){this.loadData(this.params)},TasksComponent.prototype.goToPage=function(t){this.loadData(Object.assign({},t,this.filter))},TasksComponent.prototype.changeFilter=function(t){this.filter=t,this.loadData(t)},TasksComponent.prototype.newTask=function(){this.router.navigate(["/task","new"])},TasksComponent.prototype.deleteTask=function(t){this.taskService.deleteTask([t]).subscribe()},TasksComponent=r([s.Component({selector:"tasks",template:n(573)}),o("design:paramtypes",[a.Store,i.Router,i.ActivatedRoute,u.TaskActions,c.TaskService])],TasksComponent)}();e.TasksComponent=l},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(29),c=n(25),u=n(17),l=n(37),p=n(81),d=n(446),f=n(448),h=n(197),m=n(63),v=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),g=function(){function UserProfileComponent(t,e,n,r,o,s,i,a){var c=this;this.store=t,this.http=e,this.router=n,this.formBuilder=r,this.ng2Translate=o,this.appService=s,this.translateService=i,this.notifyService=a,this.user=null,this.changePassword=!1,this.language="RUS",this.pageSizes=[10,20,30,40,50],this.errors={},this.sub=this.store.select("authed").subscribe(function(t){c.user=t.userProfile,c.pageSize=t.pageSize,c.language=t.language,c.languages=t.languages,c.user&&(c.form=r.group({login:[c.user.name],pwd:[],pwd_new:[],pwd_confirm:[],email:[c.user.email]}))})}return UserProfileComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},UserProfileComponent.prototype.toggleChangePassword=function(){this.changePassword=!this.changePassword},UserProfileComponent.prototype.updateUserProfile=function(){var t=this,e=this.notifyService.process(this.ng2Translate.instant("wait_while_document_save")).show();this.appService.updateUserProfile(this.form.value).subscribe(function(n){t.errors={},e.remove(),t.router.navigate(["/tasks"])},function(n){if(t.errors={},e.remove(),n.validation)for(var r=0,o=n.validation.errors;r<o.length;r++){var s=o[r];t.errors[s.field]=s.message}})},UserProfileComponent.prototype.changeLang=function(t){var e=this,n=t.target.value,r="/Staff/p?id=change-session-val-action&lang="+n;return this.http.post(r,{},{headers:v}).map(function(t){return t.json()}).subscribe(function(t){e.ng2Translate.reloadLang(n).subscribe(function(t){e.ng2Translate.use(n)}),m.createCookie("lang",n,365),window.location.reload()})},UserProfileComponent.prototype.close=function(){window.history.back()},UserProfileComponent=r([s.Component({selector:"[user-profile]",template:n(574),directives:[c.FORM_DIRECTIVES],providers:[c.FormBuilder],pipes:[d.KeysPipe]}),o("design:paramtypes",[u.Store,i.Http,a.Router,c.FormBuilder,l.TranslateService,f.AppService,h.TranslateService,p.NotificationService])],UserProfileComponent)}();e.UserProfileComponent=g},function(t,e){"use strict";var n=function(){function User(){this.id="",this.name="@anonymous"}return User}();e.User=n},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function KeysPipe(){}return KeysPipe.prototype.transform=function(t,e){var n=[];for(var r in t)n.push(r);return n},KeysPipe=r([s.Pipe({name:"keys"}),o("design:paramtypes",[])],KeysPipe)}();e.KeysPipe=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=function(){function RedirectGuard(t){this.router=t}return RedirectGuard.prototype.canActivate=function(t,e){if("/"===e.url){var n="id=project-form&projectId=",r=location.search.indexOf(n);if(r!=-1){var o=location.search.substring(r+n.length,location.search.length);return location.href=location.protocol+"//"+location.host+location.pathname+"#/projects/"+o,!1}if(n="id=task-form&taskId=",r=location.search.indexOf(n),r!=-1){var o=location.search.substring(r+n.length,location.search.length);return location.href=location.protocol+"//"+location.host+location.pathname+"#/task/"+o,!1}}return!0},RedirectGuard=r([s.Injectable(),o("design:paramtypes",[i.Router])],RedirectGuard)}();e.RedirectGuard=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(3),c=n(63),u=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),l=function(){function AppService(t){this.http=t,this.isLogged=!1,this.language="RUS";var e=document.cookie.match("(lang)=(.*?)($|;|,(?! ))");e&&(this.language=e[2])}return AppService.prototype.fetchUserProfile=function(){var t=this;return this.http.get("p?id=userprofile",{headers:u}).map(function(e){var n=c.parseResponseObjects(e.json().objects),r=20;return n[0].pagesize&&(r=n[0].pagesize),t.isLogged=!0,{userProfile:n.employee,languages:n.language.list[0].localizedName,pageSize:r,language:t.language}},function(e){t.isLogged=!1})},AppService.prototype.updateUserProfile=function(t){return this.http.post("p?id=userprofile",c.serializeObj(t),{headers:u}).map(function(t){return t.json()}).catch(function(t){return a.Observable.throw(c.transformPostResponse(t))})},AppService.prototype.logout=function(){return this.http.delete("/")},AppService=r([s.Injectable(),o("design:paramtypes",[i.Http])],AppService)}();e.AppService=l},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(3),c=n(37),u=n(2),l=n(30),p=n(63),d=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),f=function(){function TaskService(t,e){this.http=t,this.translate=e}return TaskService.prototype.getTaskPriorityTypes=function(){return this.translate.get(["urgent","high","medium","normal"]).map(function(t){return[{value:"NORMAL",text:t.normal,"default":!0},{value:"MEDIUM",text:t.medium},{value:"HIGH",text:t.high},{value:"URGENT",text:t.urgent}]})},TaskService.prototype.getTaskStatusTypes=function(){return this.translate.get(["draft","waiting","processed","finished"]).map(function(t){return[{value:"DRAFT",text:t.draft,"default":!0},{value:"WAITING",text:t.waiting},{value:"PROCESSED",text:t.processed},{value:"FINISHED",text:t.finished}]})},TaskService.prototype.fetchTasks=function(t){return void 0===t&&(t={}),this.http.get("p?id=task-view",{headers:d,search:p.createURLSearchParams(t)}).map(function(t){return t.json().objects[0]}).map(function(t){return{tasks:t.list,meta:t.meta}})},TaskService.prototype.fetchTaskStream=function(t){return this.http.get("p?id=task-view",{headers:d,search:p.createURLSearchParams({taskId:t.id,stream:1})}).map(function(t){return t.json().objects}).map(function(t){var e=[];return t.map(function(t){return e=e.concat(t.list)}),e=e.sort(function(t,e){var n=u(t.regDate,"DD.MM.YYYY HH:mm").valueOf(),r=u(e.regDate,"DD.MM.YYYY HH:mm").valueOf();return n-r})})},TaskService.prototype.fetchTaskById=function(t){var e="p?id=task-form&taskId="+("new"!==t?t:"");return this.http.get(e,{headers:d}).map(function(t){var e=p.parseResponseObjects(t.json().objects),n=e.task;return n.id||(n.id=""),e.fsid&&(n.fsid=e.fsid),e.ACL&&(n.acl=e.ACL),e.attachment&&(n.attachments=e.attachment.list),n})},TaskService.prototype.saveTask=function(t){var e="p?id=task-form&taskId="+(t.id?t.id:"");return this.http.post(e,p.serializeObj(t),{headers:d}).map(function(t){return p.transformPostResponse(t)}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.completeTask=function(t){return this.http.put("p?id=task-form&taskId="+t.id+"&_action=complete","",{headers:d}).map(function(t){return p.transformPostResponse(t)}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.deleteTask=function(t){return this.http.delete("p?id=task-view&taskIds="+t.map(function(t){return t.id}).join(","),{headers:d}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.deleteTaskAttachment=function(t,e){return this.http.delete("p?id=task-form&taskId="+t.id+"&attachmentId="+e.id,{headers:d}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.fetchTaskRequests=function(t,e){return void 0===e&&(e=0),this.http.get("p?id=task-requests&taskId="+t.id,{headers:d}).map(function(t){return p.parseResponseObjects(t.json().objects).request||{}}).map(function(t){return{requests:t.list,meta:t.meta}})},TaskService.prototype.fetchRequestById=function(t){return"new"===t?a.Observable.of(new l.Request):this.http.get("p?id=task-requests&requestId="+t,{headers:d}).map(function(t){var e=p.parseResponseObjects(t.json().objects),n=e.request;return e.fsid&&(n.fsid=e.fsid),e.attachment&&(n.attachments=e.attachment.list),n})},TaskService.prototype.sendTaskRequest=function(t){var e="p?id=task-requests&taskId="+t.taskId;return this.http.post(e,p.serializeObj(t),{headers:d}).map(function(t){return p.transformPostResponse(t)}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.doRequestResolution=function(t,e,n){var r="p?id=task-requests&requestId="+t.id+"&resolution="+e+"&fsid="+t.fsid+"&"+p.serializeObj(n);return this.http.put(r,"",{headers:d}).map(function(t){return p.transformPostResponse(t)}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.deleteRequest=function(t){return this.http.delete("p?id=task-requests&requestId="+t.id,{headers:d}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.deleteRequestAttachment=function(t,e){
return this.http.delete("p?id=task-requests&requestId="+t.id+"&attachmentId="+e.id,{headers:d}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.fetchComments=function(t,e){return void 0===e&&(e=0),this.http.get("p?id=comments&taskId="+t.id,{headers:d}).map(function(t){return p.parseResponseObjects(t.json().objects).comment||{}}).map(function(t){return{comments:t.list,meta:t.meta}})},TaskService.prototype.saveComment=function(t,e){var n="p?id=comments&taskId="+t.id+(e.id?"&commentId="+e.id:"");return this.http.post(n,p.serializeObj(e),{headers:d}).map(function(t){return p.transformPostResponse(t)}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.deleteComment=function(t){return this.http.delete("p?id=comments&commentId="+t.id,{headers:d}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService.prototype.deleteCommentAttachment=function(t,e){return this.http.delete("p?id=comments&commentId="+t.id+"&attachmentId="+e.id,{headers:d}).catch(function(t){return a.Observable.throw(p.transformPostResponse(t))})},TaskService=r([s.Injectable(),o("design:paramtypes",[i.Http,c.TranslateService])],TaskService)}();e.TaskService=f},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function DropdownToggleComponent(){this.toggle=new s.EventEmitter}return DropdownToggleComponent.prototype.onClick=function(t){t.preventDefault(),this.toggle.emit(t)},r([s.HostBinding("class.dropdown-toggle"),o("design:type",Object)],DropdownToggleComponent.prototype,"true",void 0),r([s.HostListener("click",["$event"]),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],DropdownToggleComponent.prototype,"onClick",null),DropdownToggleComponent=r([s.Component({selector:"[dropdown-toggle]",template:"<ng-content></ng-content>"}),o("design:paramtypes",[])],DropdownToggleComponent)}();e.DropdownToggleComponent=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(452),a=function(){function NotificationService(){this.emitter=new s.EventEmitter}return NotificationService.prototype.getEmitter=function(){return this.emitter},NotificationService.prototype.info=function(t){return this.add({type:"info",message:t})},NotificationService.prototype.success=function(t){return this.add({type:"success",message:t})},NotificationService.prototype.error=function(t){return this.add({type:"error",message:t})},NotificationService.prototype.process=function(t){return this.add({type:"process",message:t})},NotificationService.prototype.add=function(t){var e=new i.Notification(t.type,t.message);return this.emitter.emit({command:"add",notify:e}),e},NotificationService.prototype.removeAll=function(){this.emitter.emit({command:"cleanAll"})},NotificationService=r([s.Injectable(),o("design:paramtypes",[])],NotificationService)}();e.NotificationService=a},function(t,e,n){"use strict";var r=n(1),o=function(){function Notification(t,e){this.emitter=new r.EventEmitter,this.display=!1,this.type=t,this.message=e}return Notification.prototype.getEmitter=function(){return this.emitter},Notification.prototype.show=function(){return this.display=!0,this},Notification.prototype.hide=function(){return this.display=!1,this},Notification.prototype.set=function(t){for(var e in t)"message"===e?this.message=t[e]:"type"===e&&(this.type=t[e]);return this},Notification.prototype.dismiss=function(){"click"===this.delay&&this.emitter.emit({dismiss:!0,notify:this,promise:this.promise})},Notification.prototype.remove=function(t){var e=this;return void 0===t&&(t=0),this.delay=t,"click"===t||(t>0?setTimeout(function(){e.emitter.emit({dismiss:!0,notify:e,promise:e.promise})},t):this.emitter.emit({dismiss:!0,notify:this,promise:this.promise})),this.promise},Notification}();e.Notification=o},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function Tab(){this.active=!1,this.pinned=!1,this.select=new s.EventEmitter}return r([s.Input("tabTitle"),o("design:type",String)],Tab.prototype,"title",void 0),r([s.Input(),o("design:type",String)],Tab.prototype,"icon",void 0),r([s.Input(),o("design:type",Boolean)],Tab.prototype,"active",void 0),r([s.Input(),o("design:type",Boolean)],Tab.prototype,"pinned",void 0),r([s.Output(),o("design:type",Object)],Tab.prototype,"select",void 0),Tab=r([s.Component({selector:"tab",template:'\n      <div [hidden]="!active && !pinned">\n        <ng-content></ng-content>\n      </div>\n    '}),o("design:paramtypes",[])],Tab)}();e.Tab=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function noMatch(t){return new r.Observable(function(e){return e.error(new p(t))})}function absoluteRedirect(t){return new r.Observable(function(e){return e.error(new d(t))})}function canLoadFails(t){return new r.Observable(function(e){return e.error(new Error("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function applyRedirects(t,e,n,r){return new f(t,e,n,r).apply()}function runGuards(t,e){var n=e.canLoad;if(!n||0===n.length)return s.of(!0);var r=o.from(n).map(function(n){var r=t.get(n);return r.canLoad?l.wrapIntoObservable(r.canLoad(e)):l.wrapIntoObservable(r(e))});return l.andObservables(r)}function match(t,e,n){var r={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return(e.terminal||"full"===e.pathMatch)&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};for(var o=e.path,s=o.split("/"),i={},a=[],c=0,u=0;u<s.length;++u){if(c>=n.length)return r;var l=n[c],p=s[u],d=p.startsWith(":");if(!d&&p!==l.path)return r;d&&(i[p.substring(1)]=l),a.push(l),c++}return e.terminal&&(t.hasChildren()||c<n.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:a,lastChild:c,positionalParamSegments:i}}function applyRedirectCommands(t,e,n){var r=e.startsWith("/")?e.substring(1):e;return""===r?[]:createSegments(e,r.split("/"),t,n)}function createSegments(t,e,n,r){return e.map(function(e){return e.startsWith(":")?findPosParam(e,r,t):findOrCreateSegment(e,n)})}function findPosParam(t,e,n){var r=t.substring(1),o=e[r];if(!o)throw new Error("Cannot redirect to '"+n+"'. Cannot find '"+t+"'.");return o}function findOrCreateSegment(t,e){for(var n=0,r=0,o=e;r<o.length;r++){var s=o[r];if(s.path===t)return e.splice(n),s;n++}return new u.UrlSegment(t,{})}function split(t,e,n,r){if(n.length>0&&containsEmptyPathRedirectsWithNamedOutlets(t,n,r)){var o=new u.UrlSegmentGroup(e,createChildrenForEmptySegments(r,new u.UrlSegmentGroup(n,t.children)));return{segmentGroup:mergeTrivialChildren(o),slicedSegments:[]}}if(0===n.length&&containsEmptyPathRedirects(t,n,r)){var o=new u.UrlSegmentGroup(t.segments,addEmptySegmentsToChildrenIfNeeded(t,n,r,t.children));return{segmentGroup:mergeTrivialChildren(o),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function mergeTrivialChildren(t){if(1===t.numberOfChildren&&t.children[c.PRIMARY_OUTLET]){var e=t.children[c.PRIMARY_OUTLET];return new u.UrlSegmentGroup(t.segments.concat(e.segments),e.children)}return t}function addEmptySegmentsToChildrenIfNeeded(t,e,n,r){for(var o={},s=0,i=n;s<i.length;s++){var a=i[s];emptyPathRedirect(t,e,a)&&!r[getOutlet(a)]&&(o[getOutlet(a)]=new u.UrlSegmentGroup([],{}))}return l.merge(r,o)}function createChildrenForEmptySegments(t,e){var n={};n[c.PRIMARY_OUTLET]=e;for(var r=0,o=t;r<o.length;r++){var s=o[r];""===s.path&&getOutlet(s)!==c.PRIMARY_OUTLET&&(n[getOutlet(s)]=new u.UrlSegmentGroup([],{}))}return n}function containsEmptyPathRedirectsWithNamedOutlets(t,e,n){return n.filter(function(n){return emptyPathRedirect(t,e,n)&&getOutlet(n)!==c.PRIMARY_OUTLET}).length>0}function containsEmptyPathRedirects(t,e,n){return n.filter(function(n){return emptyPathRedirect(t,e,n)}).length>0}function emptyPathRedirect(t,e,n){return(!(t.hasChildren()||e.length>0)||!n.terminal&&"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function getOutlet(t){return t.outlet?t.outlet:c.PRIMARY_OUTLET}n(592),n(414),n(415);var r=n(3),o=n(419),s=n(78),i=n(192),a=n(118),c=n(36),u=n(44),l=n(45),p=function(){function NoMatch(t){void 0===t&&(t=null),this.segmentGroup=t}return NoMatch}(),d=function(){function AbsoluteRedirect(t){this.segments=t}return AbsoluteRedirect}();e.applyRedirects=applyRedirects;var f=function(){function ApplyRedirects(t,e,n,r){this.injector=t,this.configLoader=e,this.urlTree=n,this.config=r,this.allowRedirects=!0}return ApplyRedirects.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,c.PRIMARY_OUTLET).map(function(e){return t.createUrlTree(e)}).catch(function(e){if(e instanceof d){t.allowRedirects=!1;var n=new u.UrlSegmentGroup([],(r={},r[c.PRIMARY_OUTLET]=new u.UrlSegmentGroup(e.segments,{}),r));return t.match(n)}throw e instanceof p?t.noMatchError(e):e;var r})},ApplyRedirects.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.injector,this.config,t,c.PRIMARY_OUTLET).map(function(t){return e.createUrlTree(t)}).catch(function(t){throw t instanceof p?e.noMatchError(t):t})},ApplyRedirects.prototype.noMatchError=function(t){return new Error("Cannot match any routes: '"+t.segmentGroup+"'")},ApplyRedirects.prototype.createUrlTree=function(t){var e=t.segments.length>0?new u.UrlSegmentGroup([],(n={},n[c.PRIMARY_OUTLET]=t,n)):t;return new u.UrlTree(e,this.urlTree.queryParams,this.urlTree.fragment);var n},ApplyRedirects.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).map(function(t){return new u.UrlSegmentGroup([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},ApplyRedirects.prototype.expandChildren=function(t,e,n){var r=this;return l.waitForMap(n.children,function(n,o){return r.expandSegmentGroup(t,e,o,n)})},ApplyRedirects.prototype.expandSegment=function(t,e,n,r,o,a){var c=this,u=s.of.apply(void 0,n).map(function(i){return c.expandSegmentAgainstRoute(t,e,n,i,r,o,a).catch(function(t){if(t instanceof p)return s.of(null);throw t})}).concatAll();return u.first(function(t){return!!t}).catch(function(t,n){throw t instanceof i.EmptyError?new p(e):t})},ApplyRedirects.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,s,i){return getOutlet(r)!==s?noMatch(e):void 0===r.redirectTo||i&&this.allowRedirects?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s):noMatch(e)},ApplyRedirects.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s)},ApplyRedirects.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t){var e=applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?absoluteRedirect(e):s.of(new u.UrlSegmentGroup(e,{}))},ApplyRedirects.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,s){var i=match(e,r,o),a=i.matched,c=i.consumedSegments,u=i.lastChild,l=i.positionalParamSegments;if(!a)return noMatch(e);var p=applyRedirectCommands(c,r.redirectTo,l);return r.redirectTo.startsWith("/")?absoluteRedirect(p):this.expandSegment(t,e,n,p.concat(o.slice(u)),s,!1)},ApplyRedirects.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return s.of(new u.UrlSegmentGroup(r,{}));var i=match(e,n,r),a=i.matched,l=i.consumedSegments,p=i.lastChild;if(!a)return noMatch(e);var d=r.slice(p);return this.getChildConfig(t,n).mergeMap(function(t){var n=t.injector,r=t.routes,i=split(e,l,d,r),a=i.segmentGroup,p=i.slicedSegments;return 0===p.length&&a.hasChildren()?o.expandChildren(n,r,a).map(function(t){return new u.UrlSegmentGroup(l,t)}):0===r.length&&0===p.length?s.of(new u.UrlSegmentGroup(l,{})):o.expandSegment(n,a,r,p,c.PRIMARY_OUTLET,!0).map(function(t){return new u.UrlSegmentGroup(l.concat(t.segments),t.children)})})},ApplyRedirects.prototype.getChildConfig=function(t,e){var n=this;return e.children?s.of(new a.LoadedRouterConfig(e.children,t,null)):e.loadChildren?runGuards(t,e).mergeMap(function(r){return r?n.configLoader.load(t,e.loadChildren).map(function(t){return e._loadedConfig=t,t}):canLoadFails(e)}):s.of(new a.LoadedRouterConfig([],t,null))},ApplyRedirects}()},function(t,e){"use strict";function validateConfig(t){t.forEach(validateNode)}function validateNode(t){if(Array.isArray(t))throw new Error("Invalid route configuration: Array cannot be specified");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and component cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': one of the following must be provided (component or redirectTo or children or loadChildren)");if(void 0===t.path)throw new Error("Invalid route configuration: routes must have path specified");if(t.path.startsWith("/"))throw new Error("Invalid route configuration of route '"+t.path+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.terminal&&void 0===t.pathMatch){var e="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error("Invalid route configuration of route '{path: \""+t.path+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. "+e)}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+t.path+"': pathMatch can only be set to 'prefix' or 'full'")}e.validateConfig=validateConfig},function(t,e,n){"use strict";function createRouterState(t,e){var n=createNode(t._root,e?e._root:void 0);return new o.RouterState(n,t)}function createNode(t,e){if(e&&equalRouteSnapshots(e.value.snapshot,t.value)){var n=e.value;n._futureSnapshot=t.value;var r=createOrReuseChildren(t,e);return new s.TreeNode(n,r)}var n=createActivatedRoute(t.value),r=t.children.map(function(t){return createNode(t)});return new s.TreeNode(n,r)}function createOrReuseChildren(t,e){return t.children.map(function(t){for(var n=0,r=e.children;n<r.length;n++){var o=r[n];if(equalRouteSnapshots(o.value.snapshot,t.value))return createNode(t,o)}return createNode(t)})}function createActivatedRoute(t){return new o.ActivatedRoute(new r.BehaviorSubject(t.url),new r.BehaviorSubject(t.params),new r.BehaviorSubject(t.queryParams),new r.BehaviorSubject(t.fragment),new r.BehaviorSubject(t.data),t.outlet,t.component,t)}function equalRouteSnapshots(t,e){return t._routeConfig===e._routeConfig}var r=n(411),o=n(52),s=n(182);e.createRouterState=createRouterState},function(t,e,n){"use strict";function createUrlTree(t,e,n,r,s){if(0===n.length)return tree(e.root,e.root,e,r,s);var i=normalizeCommands(n);if(validateCommands(i),navigateToRoot(i))return tree(e.root,new o.UrlSegmentGroup([],{}),e,r,s);var a=findStartingPosition(i,e,t),c=a.processChildren?updateSegmentGroupChildren(a.segmentGroup,a.index,i.commands):updateSegmentGroup(a.segmentGroup,a.index,i.commands);return tree(a.segmentGroup,c,e,r,s)}function validateCommands(t){if(t.isAbsolute&&t.commands.length>0&&isMatrixParams(t.commands[0]))throw new Error("Root segment cannot have matrix parameters");var e=t.commands.filter(function(t){return"object"==typeof t&&void 0!==t.outlets});if(e.length>0&&e[0]!==t.commands[t.commands.length-1])throw new Error("{outlets:{}} has to be the last command")}function isMatrixParams(t){return"object"==typeof t&&void 0===t.outlets&&void 0===t.segmentPath}function tree(t,e,n,r,s){return n.root===t?new o.UrlTree(e,stringify(r),s):new o.UrlTree(replaceSegment(n.root,t,e),stringify(r),s)}function replaceSegment(t,e,n){var r={};return s.forEach(t.children,function(t,o){t===e?r[o]=n:r[o]=replaceSegment(t,e,n)}),new o.UrlSegmentGroup(t.segments,r)}function navigateToRoot(t){return t.isAbsolute&&1===t.commands.length&&"/"==t.commands[0]}function normalizeCommands(t){if("string"==typeof t[0]&&1===t.length&&"/"==t[0])return new i((!0),0,t);for(var e=0,n=!1,r=[],o=function(o){var i=t[o];if("object"==typeof i&&void 0!==i.outlets){var a={};return s.forEach(i.outlets,function(t,e){"string"==typeof t?a[e]=t.split("/"):a[e]=t}),r.push({outlets:a}),"continue"}if("object"==typeof i&&void 0!==i.segmentPath)return r.push(i.segmentPath),"continue";if("string"!=typeof i)return r.push(i),"continue";if(0===o)for(var c=i.split("/"),u=0;u<c.length;++u){var l=c[u];0==u&&"."==l||(0==u&&""==l?n=!0:".."==l?e++:""!=l&&r.push(l))}else r.push(i)},a=0;a<t.length;++a)o(a);return new i(n,e,r)}function findStartingPosition(t,e,n){if(t.isAbsolute)return new a(e.root,(!0),0);if(n.snapshot._lastPathIndex===-1)return new a(n.snapshot._urlSegment,(!0),0);if(n.snapshot._lastPathIndex+1-t.numberOfDoubleDots>=0)return new a(n.snapshot._urlSegment,(!1),n.snapshot._lastPathIndex+1-t.numberOfDoubleDots);throw new Error("Invalid number of '../'")}function getPath(t){return""+t}function getOutlets(t){return"object"!=typeof t[0]?(e={},e[r.PRIMARY_OUTLET]=t,e):void 0===t[0].outlets?(n={},n[r.PRIMARY_OUTLET]=t,n):t[0].outlets;var e,n}function updateSegmentGroup(t,e,n){if(t||(t=new o.UrlSegmentGroup([],{})),0===t.segments.length&&t.hasChildren())return updateSegmentGroupChildren(t,e,n);var r=prefixedWith(t,e,n),s=n.slice(r.lastIndex);return r.match&&0===s.length?new o.UrlSegmentGroup(t.segments,{}):r.match&&!t.hasChildren()?createNewSegmentGroup(t,e,n):r.match?updateSegmentGroupChildren(t,0,s):createNewSegmentGroup(t,e,n)}function updateSegmentGroupChildren(t,e,n){if(0===n.length)return new o.UrlSegmentGroup(t.segments,{});var r=getOutlets(n),i={};return s.forEach(r,function(n,r){null!==n&&(i[r]=updateSegmentGroup(t.children[r],e,n))}),s.forEach(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new o.UrlSegmentGroup(t.segments,i)}function prefixedWith(t,e,n){for(var r=0,o=e,s={match:!1,lastIndex:0};o<t.segments.length;){if(r>=n.length)return s;var i=t.segments[o],a=getPath(n[r]),c=r<n.length-1?n[r+1]:null;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!compare(a,c,i))return s;r+=2}else{if(!compare(a,{},i))return s;r++}o++}return{match:!0,lastIndex:r}}function createNewSegmentGroup(t,e,n){for(var r=t.segments.slice(0,e),s=0;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){var i=createNewSegmentChldren(n[s].outlets);return new o.UrlSegmentGroup(r,i)}if(0!==s||"object"!=typeof n[0]){var a=getPath(n[s]),c=s<n.length-1?n[s+1]:null;a&&c&&"object"==typeof c?(r.push(new o.UrlSegment(a,stringify(c))),s+=2):(r.push(new o.UrlSegment(a,{})),s++)}else{var u=t.segments[e];r.push(new o.UrlSegment(u.path,n[0])),s++}}return new o.UrlSegmentGroup(r,{})}function createNewSegmentChldren(t){var e={};return s.forEach(t,function(t,n){null!==t&&(e[n]=createNewSegmentGroup(new o.UrlSegmentGroup([],{}),0,t))}),e}function stringify(t){var e={};return s.forEach(t,function(t,n){return e[n]=""+t}),e}function compare(t,e,n){return t==n.path&&s.shallowEqual(e,n.parameters)}var r=n(36),o=n(44),s=n(45);e.createUrlTree=createUrlTree;var i=function(){function NormalizedNavigationCommands(t,e,n){this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n}return NormalizedNavigationCommands}(),a=function(){function Position(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return Position}()},function(t,e,n){"use strict";function recognize(t,e,n,r){return new d(t,e,n,r).recognize()}function sortActivatedRouteSnapshots(t){t.sort(function(t,e){return t.value.outlet===i.PRIMARY_OUTLET?-1:e.value.outlet===i.PRIMARY_OUTLET?1:t.value.outlet.localeCompare(e.value.outlet)})}function getChildConfig(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function match(t,e,n,r){if(""===e.path){if((e.terminal||"full"===e.pathMatch)&&(t.hasChildren()||n.length>0))throw new l;var o=r?r.params:{};return{consumedSegments:[],lastChild:0,parameters:o}}for(var s=e.path,i=s.split("/"),a={},u=[],p=0,d=0;d<i.length;++d){if(p>=n.length)throw new l;var f=n[p],h=i[d],m=h.startsWith(":");if(!m&&h!==f.path)throw new l;m&&(a[h.substring(1)]=f.path),u.push(f),p++}if((e.terminal||"full"===e.pathMatch)&&(t.hasChildren()||p<n.length))throw new l;var v=c.merge(a,u[u.length-1].parameters);return{consumedSegments:u,lastChild:p,parameters:v}}function checkOutletNameUniqueness(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}e[t.value.outlet]=t.value})}function getSourceSegmentGroup(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function getPathIndexShift(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function split(t,e,n,r){if(n.length>0&&containsEmptyPathMatchesWithNamedOutlets(t,n,r)){var o=new a.UrlSegmentGroup(e,createChildrenForEmptyPaths(t,e,r,new a.UrlSegmentGroup(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&containsEmptyPathMatches(t,n,r)){var o=new a.UrlSegmentGroup(t.segments,addEmptyPathsToChildrenIfNeeded(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var o=new a.UrlSegmentGroup(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function addEmptyPathsToChildrenIfNeeded(t,e,n,r){for(var o={},s=0,i=n;s<i.length;s++){var u=i[s];if(emptyPathMatch(t,e,u)&&!r[getOutlet(u)]){var l=new a.UrlSegmentGroup([],{});l._sourceSegment=t,l._segmentIndexShift=t.segments.length,o[getOutlet(u)]=l}}return c.merge(r,o)}function createChildrenForEmptyPaths(t,e,n,r){var o={};o[i.PRIMARY_OUTLET]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var s=0,c=n;s<c.length;s++){var u=c[s];if(""===u.path&&getOutlet(u)!==i.PRIMARY_OUTLET){var l=new a.UrlSegmentGroup([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,o[getOutlet(u)]=l}}return o}function containsEmptyPathMatchesWithNamedOutlets(t,e,n){return n.filter(function(n){return emptyPathMatch(t,e,n)&&getOutlet(n)!==i.PRIMARY_OUTLET}).length>0}function containsEmptyPathMatches(t,e,n){return n.filter(function(n){return emptyPathMatch(t,e,n)}).length>0}function emptyPathMatch(t,e,n){return(!(t.hasChildren()||e.length>0)||!n.terminal&&"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function getOutlet(t){return t.outlet?t.outlet:i.PRIMARY_OUTLET}function getData(t){return t.data?t.data:{}}function getResolve(t){return t.resolve?t.resolve:{}}var r=n(3),o=n(78),s=n(52),i=n(36),a=n(44),c=n(45),u=n(182),l=function(){function NoMatch(){}return NoMatch}(),p=function(){function InheritedFromParent(t,e,n,r,o){this.parent=t,this.snapshot=e,this.params=n,this.data=r,this.resolve=o}return Object.defineProperty(InheritedFromParent.prototype,"allParams",{get:function(){return this.parent?c.merge(this.parent.allParams,this.params):this.params},enumerable:!0,configurable:!0}),Object.defineProperty(InheritedFromParent.prototype,"allData",{get:function(){return this.parent?c.merge(this.parent.allData,this.data):this.data},enumerable:!0,configurable:!0}),InheritedFromParent.empty=function(t){return new InheritedFromParent(null,t,{},{},new s.InheritedResolve(null,{}))},InheritedFromParent}();e.recognize=recognize;var d=function(){function Recognizer(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return Recognizer.prototype.recognize=function(){try{var t=split(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,p.empty(null),i.PRIMARY_OUTLET),n=new s.ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},i.PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,(-1),s.InheritedResolve.empty),a=new u.TreeNode(n,e);return o.of(new s.RouterStateSnapshot(this.url,a))}catch(c){return new r.Observable(function(t){return t.error(c)})}},Recognizer.prototype.processSegmentGroup=function(t,e,n,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,0,e.segments,n,r)},Recognizer.prototype.processChildren=function(t,e,n){var r=this,o=a.mapChildrenIntoArray(e,function(e,o){return r.processSegmentGroup(t,e,n,o)});return checkOutletNameUniqueness(o),sortActivatedRouteSnapshots(o),o},Recognizer.prototype.processSegment=function(t,e,n,r,o,s){for(var i=0,a=t;i<a.length;i++){var c=a[i];try{return this.processSegmentAgainstRoute(c,e,n,r,o,s)}catch(u){if(!(u instanceof l))throw u}}throw new l},Recognizer.prototype.processSegmentAgainstRoute=function(t,e,n,r,o,a){if(t.redirectTo)throw new l;if((t.outlet?t.outlet:i.PRIMARY_OUTLET)!==a)throw new l;var d=new s.InheritedResolve(o.resolve,getResolve(t));if("**"===t.path){var f=r.length>0?c.last(r).parameters:{},h=new s.ActivatedRouteSnapshot(r,Object.freeze(c.merge(o.allParams,f)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,c.merge(o.allData,getData(t)),a,t.component,t,getSourceSegmentGroup(e),getPathIndexShift(e)+r.length,d);return[new u.TreeNode(h,[])]}var m=match(e,t,r,o.snapshot),v=m.consumedSegments,g=m.parameters,y=m.lastChild,b=r.slice(y),T=getChildConfig(t),R=split(e,v,b,T),C=R.segmentGroup,S=R.slicedSegments,_=new s.ActivatedRouteSnapshot(v,Object.freeze(c.merge(o.allParams,g)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,c.merge(o.allData,getData(t)),a,t.component,t,getSourceSegmentGroup(e),getPathIndexShift(e)+v.length,d),E=t.component?p.empty(_):new p(o,_,g,getData(t),d);if(0===S.length&&C.hasChildren()){var k=this.processChildren(T,C,E);return[new u.TreeNode(_,k)]}if(0===T.length&&0===S.length)return[new u.TreeNode(_,[])];var k=this.processSegment(T,C,n+y,S,E,i.PRIMARY_OUTLET);return[new u.TreeNode(_,k)]},Recognizer}()},function(t,e,n){"use strict";function resolve(t,e){return resolveNode(t,e._root).map(function(t){return e})}function resolveNode(t,e){if(0===e.children.length)return o.fromPromise(resolveComponent(t,e.value).then(function(t){return e.value._resolvedComponentFactory=t,e.value}));var n=e.children.map(function(e){return resolveNode(t,e).toPromise()});return r.forkJoin(n).map(function(n){return resolveComponent(t,e.value).then(function(t){return e.value._resolvedComponentFactory=t,e.value})})}function resolveComponent(t,e){return e.component&&e._routeConfig&&"string"==typeof e.component?t.resolveComponent(e.component):Promise.resolve(null)}n(120),n(603);var r=n(418),o=n(186);e.resolve=resolve},function(t,e,n){"use strict";function provideLocationStrategy(t,e,n){return void 0===n&&(n={}),n.useHash?new r.HashLocationStrategy(t,e):new r.PathLocationStrategy(t,e)}var r=n(25),o=n(1),s=n(180),i=n(181),a=n(299),c=n(300),u=n(76),l=n(118),p=n(77),d=n(52),f=n(44);e.ROUTER_DIRECTIVES=[c.RouterOutlet,i.RouterLink,i.RouterLinkWithHref,a.RouterLinkActive];({provide:r.LocationStrategy,useClass:r.PathLocationStrategy}),{provide:r.LocationStrategy,useClass:r.HashLocationStrategy};e.ROUTER_PROVIDERS=[r.Location,{provide:f.UrlSerializer,useClass:f.DefaultUrlSerializer},{provide:u.Router,useFactory:s.setupRouter,deps:[o.ApplicationRef,o.ComponentResolver,f.UrlSerializer,p.RouterOutletMap,r.Location,o.Injector,o.NgModuleFactoryLoader,l.ROUTES,s.ROUTER_CONFIGURATION]},p.RouterOutletMap,{provide:d.ActivatedRoute,useFactory:s.rootRoute,deps:[u.Router]},{provide:o.NgModuleFactoryLoader,useClass:o.SystemJsNgModuleLoader},{provide:s.ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];var h=function(){function RouterModule(){}return RouterModule.forRoot=function(t,n){return{ngModule:RouterModule,providers:[e.ROUTER_PROVIDERS,s.provideRoutes(t),{provide:s.ROUTER_CONFIGURATION,useValue:n?n:{}},{provide:r.LocationStrategy,useFactory:provideLocationStrategy,deps:[r.PlatformLocation,[new o.Inject(r.APP_BASE_HREF),new o.Optional],s.ROUTER_CONFIGURATION]},s.provideRouterInitializer()]}},RouterModule.forChild=function(t){return{ngModule:RouterModule,providers:[s.provideRoutes(t)]}},RouterModule.decorators=[{type:o.NgModule,args:[{declarations:e.ROUTER_DIRECTIVES,exports:e.ROUTER_DIRECTIVES}]}],RouterModule}();e.RouterModule=h,e.provideLocationStrategy=provideLocationStrategy},function(t,e,n){"use strict";function provideRouter(t,e){return void 0===e&&(e={}),[{provide:r.PlatformLocation,useClass:o.BrowserPlatformLocation}].concat(s.provideRouter(t,e))}var r=n(25),o=n(61),s=n(180);e.provideRouter=provideRouter},function(t,e){"use strict";e.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){if(0===t.length)return e;var n=t[t.length-1],r=t.slice(0,-1);return r.reduceRight(function(t,e){return e(t)},n(e))}}},,,,function(t,e){t.exports='<notification></notification> <div class="layout" [class.hidden]="!isReady"> <div class="content-overlay" (mousedown)="hideNav($event)" (touchstart)="hideNav($event)"></div> <navbar [user]="loggedUser"></navbar> <section class="container"> <nav data-c="nav" class="aside side-nav"></nav> <main class="content"> <router-outlet></router-outlet> </main> </section> </div> <div class="app-loading" *ngIf="!isReady"> <img class="brand-logo" alt="logo" src="{{\'img/logo.png\'}}"/>Loading... </div>'},function(t,e){t.exports='<ul> <li> <a [routerLink]="[\'/tasks\', \'my\']" class="nav-link" [class.active]="isActive([\'/tasks/my\'])"> <i class="fa fa-pencil"></i> <span>{{\'my_tasks\' | translate}}</span> </a> </li> <li> <a [routerLink]="[\'/tasks\', \'inbox\']" class="nav-link" [class.active]="isActive([\'/tasks/inbox\'])"> <i class="fa fa-inbox"></i> <span>{{\'tasks_assigned_to_me\' | translate}}</span> </a> </li> <li class="divider"></li> <li> <a [routerLink]="[\'/projects\']" class="nav-link" [class.active]="isActive([\'/projects\'])"> <i class="fa fa-puzzle-piece"></i> <span>{{\'projects\' | translate}}</span> </a> <ul> <li *ngFor="let project of projects"> <a [routerLink]="[\'/projects\', project.id, \'tasks\']" class="nav-link" [class.active]="isActive([\'/projects/\' + project.id + \'/tasks\'])"> <i class="fa fa-file-text-o"></i> <span>{{project.name}}</span> </a> </li> </ul> </li> </ul>';
},function(t,e){t.exports='<header class="header navbar"> <div class="container"> <div class="navbar-header"> <button class="btn-side-nav-toggle" type="button" (click)="toggleNav()"></button> <img class="brand-logo" alt="logo" src="{{ logoUrl }}"/> <span class="brand-title">{{ headerTitle }}</span> </div> <nav class="navbar-nav navbar-right"> <ul class="nav nav-inline navbar-right"> <li dropdown [tabIndex]="-1" class="dropdown"> <a dropdown-toggle href="#" class="dropdown-toggle"> <i class="fa fa-user"></i> </a> <ul class="dropdown-menu right"> <li *ngIf="user"> <a class="user-profile" [routerLink]="[\'/user-profile\']"> <i class="fa fa-user"></i> <span>{{ user.name }}</span> </a> </li> <li class="divider"></li> <li> <a class="ws" href="{{workspaceUrl}}"> <i class="fa fa-th"></i> <span>{{ \'workspace\' | translate }}</span> </a> </li> </ul> </li> </ul> <form class="navbar-form navbar-search"> <input type="search" class="q" name="keyword" #keyWord placeholder="{{ \'search\' | translate }}" required autocomplete="off" (keyup)="keyup$.next($event)" (focus)="searchFocus()" (blur)="searchBlur($event.target)"/> <button type="reset" (click)="search(\'\')"><i class="fa fa-times"></i></button> <input type="submit" value="search"/> </form> </nav> </div> </header>'},function(t,e){t.exports='<div class="view project-list"> <header class="entries-head" *ngIf="showHeader"> <div class="head-wrap"> <label class="entry-select"> <input type="checkbox" class="all" [checked]="isSelectedAll" (change)="toggleSelectAll()"/> </label> <div class="entry-captions"> <div class="project-list__name">{{\'name\' | translate}}</div> <div class="vw-icon"><i class="fa fa-paperclip"></i></div> <div class="project-list__status">{{\'status\' | translate}}</div> <div class="project-list__customer">{{\'customer\' | translate}}</div> <div class="project-list__manager">{{\'manager\' | translate}}</div> <div class="project-list__programmer">{{\'programmer\' | translate}}</div> <div class="project-list__tester">{{\'tester\' | translate}}</div> <div class="project-list__finish_date">{{\'finish_date\' | translate}}</div> </div> </div> </header> <div class="entries"> <div class="entry-wrap" *ngFor="let project of projects" [class.active]="isSelected(project.id)"> <div class="entry"> <label class="entry-select"> <input type="checkbox" name="project-id" value="{{project.id}}" [checked]="isSelected(project.id)" (change)="toggleSelected(project.id)"/> </label> <a class="entry-link" [routerLink]="[\'./\', project.id]"> <div class="entry-fields"> <div class="project-list__name">{{project.name}}</div> <div class="vw-icon"> <i class="fa fa-paperclip" *ngIf="project.hasAttachments"></i> </div> <div class="project-list__status"> <span class="status-{{project.status | text:\'L\'}}">{{project.status | text:\'L\' | translate}}</span> </div> <div class="project-list__customer"> <organization-input [org]="project.customer"></organization-input> </div> <div class="project-list__manager"> <employee-input [ids]="[project.managerUserId]"></employee-input> </div> <div class="project-list__programmer"> <employee-input [ids]="[project.programmerUserId]"></employee-input> </div> <div class="project-list__tester"> <employee-input [ids]="[project.testerUserId]"></employee-input> </div> <div class="project-list__finish_date"> {{project.finishDate | dateFmt:\'DD.MM.YYYY\'}} <span>{{\'now\' | dateDuration:project.finishDate}}</span> </div> </div> </a> </div> </div> </div> </div>'},function(t,e){t.exports='<form class="form" *ngIf="isReady"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" title="{{\'close\' | translate}}" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button class="btn btn-primary" type="button" *ngIf="isEditable" [disabled]="!isValid" (click)="saveProject()"> {{\'save_close\' | translate}} </button> <div *ngIf="!isNew && isEditable" dropdown class="buttons" [tabIndex]="-1"> <div dropdown-toggle> <span class="btn">...</span> </div> <div class="dropdown-menu"> <ul class="menu"> <li> <a class="menu-item" (click)="deleteProject()">{{\'delete\' | translate}}</a> </li> </ul> </div> </div> </div> <h1 class="header-title header-title-flex"> <label>{{title | translate}}</label> <input [class.invalid]="errors.name" autofocus required maxlength="140" placeholder="{{\'name\' | translate}}" [readonly]="!isEditable" (keyup)="validateForm()" [(ngModel)]="project.name"/> </h1> </header> <section class="content-body"> <tabs> <tab class="tab-pane" tabTitle="{{\'properties\' | translate}}"> <div class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'customer\' | translate}} </div> <div class="controls" [class.has-error]="errors.customerId"> <organization-input class="span8" [editable]="isEditable" [id]="project.customerId" (select)="setCustomer($event)"></organization-input> <error-message [error]="errors.customerId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'manager\' | translate}} </div> <div class="controls" [class.has-error]="errors.managerUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[project.managerUserId]" (select)="setManager($event)"></employee-input> <error-message [error]="errors.managerUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'programmer\' | translate}} </div> <div class="controls" [class.has-error]="errors.programmerUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[project.programmerUserId]" (select)="setProgrammer($event)"></employee-input> <error-message [error]="errors.programmerUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'tester\' | translate}} </div> <div class="controls" [class.has-error]="errors.testerUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[project.testerUserId]" (select)="setTester($event)"></employee-input> <error-message [error]="errors.testerUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'observers\' | translate}} </div> <div class="controls" [class.has-error]="errors.observerUserIds"> <employee-input class="span8" [editable]="isEditable" [multiple]="true" [ids]="project.observerUserIds" (select)="setObserver($event)"></employee-input> <error-message [error]="errors.observerUserIds"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'status\' | translate}} </div> <div class="controls" [class.has-error]="errors.status"> <switch-button [disabled]="!isEditable" [model]="project" value="status" [items]="projectStatusTypes"></switch-button> <error-message [error]="errors.status"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'finish_date\' | translate}} </div> <div class="controls" [class.has-error]="errors.finishDate"> <div class="span2" *ngIf="!isEditable"> <span class="input">{{project.finishDate}}</span> </div> <input class="span2" datepicker *ngIf="isEditable" (select)="setFinishDate($event)" [(ngModel)]="project.finishDate"/> <span>{{\'now\' | dateDuration:project.finishDate}}</span> <error-message [error]="errors.finishDate"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'comment\' | translate}} </div> <div class="controls" [class.has-error]="errors.comment"> <markdown-editor class="span8" [markdown]="project.comment || \'\'" [editable]="isEditable" [updateTimeout]="300" (update)="setProjectComment($event)"></markdown-editor> <error-message [error]="errors.comment"></error-message> </div> </div> </div> <attachments [editable]="isEditable" [model]="project" (upload)="addAttachment($event)" (delete)="deleteAttachment($event)"></attachments> </tab> <tab class="tab-pane" tabTitle="{{\'acl_tab_title\' | translate}}" icon="fa fa-share-alt" *ngIf="!isNew"> <div class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'editors\' | translate}} </div> <div class="controls"> <ul> <li *ngFor="let editor of project.acl.editors | values">{{editor}}</li> </ul> </div> </div> <div class="form-group"> <div class="control-label"> {{\'readers\' | translate}} </div> <div class="controls"> <ul> <li *ngFor="let reader of project.acl.readers | values">{{reader}}</li> </ul> </div> </div> </div> </tab> </tabs> </section> <footer class="content-footer"> <div class="record-author" *ngIf="project.authorId"> <span>{{\'author\' | translate}}</span> <employee-input [ids]="[project.authorId]"></employee-input> <time>{{project.regDate}}</time> </div> </footer> </form>'},function(t,e){t.exports='<div class="content-header"> <h1 class="header-title"> {{title | translate}} </h1> <div class="content-actions"> <button class="btn" type="button" (click)="newProject()"> {{\'new_project\' | translate}} </button> <button class="btn btn-refresh" type="button" (click)="refresh()"> <i class="fa fa-refresh"></i> </button> <pagination [totalPages]="meta.totalPages" [page]="meta.page" (change)="goToPage($event)"></pagination> </div> </div> <div class="content-body"> <project-list [projects]="projects"></project-list> </div> <router-outlet></router-outlet>'},function(t,e){t.exports='<form class="form" *ngIf="isReady"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" title="{{\'close\' | translate}}" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button type="button" class="btn btn-primary" *ngIf="isNew" [disabled]="!request.requestTypeId || (isResolveAction && !dueDate)" (click)="sendRequest()"> {{\'send_request\' | translate}} </button> </div> <h1 class="header-title"> <span>{{\'task_request\' | translate}}</span> <span class="request-resolution {{request.resolution | text:\'L\'}}" *ngIf="request.resolution == \'ACCEPT\'"> <i class="fa fa-check"></i> {{\'accepted\' | translate}} <time class="request__resolution_time">{{request.resolutionTime | dateFmt:\'DD.MM.YYYY\'}}</time> </span> <span class="request-resolution {{request.resolution | text:\'L\'}}" *ngIf="request.resolution == \'DECLINE\'"> <i class="fa fa-times"></i> {{\'declined\' | translate}} <time class="request__resolution_time">{{request.resolutionTime | dateFmt:\'DD.MM.YYYY\'}}</time> </span> </h1> </header> <section class="content-body"> <fieldset class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'task\' | translate}} </div> <div class="controls"> <a class="input-placeholder" [routerLink]="[\'/task\', task.id]">{{task.title}}</a> </div> </div> <div class="form-group"> <div class="control-label"> {{\'request_type\' | translate}} </div> <div class="controls"> <div class="span8"> <request-type-input [editable]="editable" placeHolder="{{\'request_type\' | translate}}" [requestType]="request.requestType" (select)="setRequestType($event)"></request-type-input> </div> </div> </div> <div class="form-group"> <div class="control-label"> {{\'comment\' | translate}} </div> <div class="controls"> <div class="span8"> <textarea [disabled]="!editable" [(ngModel)]="comment"></textarea> </div> </div> </div> </fieldset> <div *ngIf="!editable && !request.attachments"> <attachments [model]="request" [editable]="editable" (upload)="addAttachment($event)" (delete)="deleteAttachment($event)"></attachments> </div> </section> <section class="request__resol" *ngIf="task.editable && request.resolution == \'UNKNOWN\'"> <fieldset class="fieldset" *ngIf="isResolveAction"> <div class="form-group"> <div class="control-label"> {{\'due_date\' | translate}} </div> <div class="controls"> <div class="span8"> <input datepicker class="span2" (select)="setDueDate($event)"/> <div class="help"> {{\'new_due_date_help\' | translate}} </div> </div> </div> </div> </fieldset> <div class="request__buttons"> <button type="button" class="btn" (click)="doDecline(request)"> {{\'decline\' | translate}} </button> <button type="button" class="btn btn-primary" [disabled]="request.requestType.name == \'prolong\' && !dueDate" (click)="doAccept(request)"> {{\'accept\' | translate}} </button> </div> </section> <footer class="content-footer"> <div class="record-author" *ngIf="request.authorId"> <span>{{\'author\' | translate}}</span> <employee-input [ids]="[request.authorId]"></employee-input> <time>{{request.regDate}}</time> </div> </footer> </form>'},function(t,e){t.exports='<div class="view task-list"> <header class="entries-head" *ngIf="showHeader"> <div class="head-wrap"> <label class="entry-select" *ngIf="showSelect"> <input type="checkbox" class="all" [checked]="isSelectedAll" (change)="toggleSelectAll()"/> </label> <div class="entry-captions"> <div class="task-list__title">{{\'task_title\' | translate}}</div> <div class="vw-icon"><i class="fa fa-paperclip"></i></div> <div class="task-list__status">{{\'status\' | translate}}</div> <div class="task-list__priority">{{\'priority\' | translate}}</div> <div class="task-list__assignee">{{\'assignee_user\' | translate}}</div> <div class="task-list__start_date">{{\'start_date\' | translate}}</div> <div class="task-list__due_date">{{\'due_date\' | translate}}</div> <div class="task-list__tags">{{\'tags\' | translate}}</div> </div> </div> </header> <div class="entries" [class.hidden]="loading"> <div *ngFor="let task of tasks"> <div class="entry-wrap" *ngIf="!streamMode"> <div class="entry" [class.active]="isSelected(task.id)"> <label class="entry-select" *ngIf="showSelect"> <input type="checkbox" name="task-id" value="{{task.id}}" [checked]="isSelected(task.id)" (change)="toggleSelected(task.id)"/> </label> <a class="entry-link" [routerLink]="[\'/task\', task.id]"> <div class="entry-fields"> <div class="task-list__title expandable-level" [class.has-expandable]="task.hasSubtasks || task.hasRequests"> <div class="entry-expander" [class.is-expanded]="expandedIds.indexOf(task.id) != -1" (click)="toggleExpandable(task.id, $event)"> <i class="entry-expander_icon fa"></i> </div> <span>{{task.title}}</span> </div> <div class="vw-icon"> <i class="fa fa-paperclip" *ngIf="task.hasAttachments"></i> </div> <div class="task-list__status"> <span class="status-{{task.status | text:\'L\'}}">{{task.status | text:\'L\' | translate}}</span> </div> <div class="task-list__priority"> <span class="priority-{{task.priority | text:\'L\'}}">{{task.priority | text:\'L\' | translate}}</span> </div> <div class="task-list__assignee"> <employee-input [ids]="[task.assigneeUserId]"></employee-input> </div> <div class="task-list__start_date">{{task.startDate | dateFmt:\'DD.MM.YYYY\'}}</div> <div class="task-list__due_date"> <span>{{task.dueDate | dateFmt:\'DD.MM.YYYY\'}}</span> <span>{{task.startDate | dateDuration:task.dueDate}}</span> </div> <div class="task-list__tags"> <tags-input [ids]="task.tagIds"></tags-input> </div> </div> </a> </div> </div> <task-stream [expandRoot]="streamMode" [showSelect]="showSelect" [task]="task" (toggleStream)="onToggleStream($event)" (loadStreamLevel)="onLoadStreamLevel($event)"></task-stream> </div> </div> </div>'},function(t,e){t.exports='<div *ngFor="let m of stream"> <div class="entry-wrap level-{{level}}" *ngIf="m"> <div class="entry" *ngIf="m.kind == \'task\'"> <label class="entry-select" *ngIf="showSelect"> <input type="checkbox" name="task-id" value="{{m.id}}" (change)="toggleSelected(m.id)"/> </label> <a class="entry-link" [routerLink]="[\'/task\', m.id]"> <div class="entry-fields"> <div class="task-list__title expandable-level" [class.has-expandable]="m.hasSubtasks || m.hasRequests"> <div class="entry-expander" [class.is-expanded]="expandedIds.indexOf(m.id) != -1" (click)="toggleExpandable(m.id, $event)"> <i class="entry-expander_icon fa"></i> </div> <span>{{m.title}}</span> </div> <div class="vw-icon"> <i class="fa fa-paperclip" *ngIf="m.hasAttachments"></i> </div> <div class="task-list__status"> <span class="status-{{m.status | text:\'L\'}}">{{m.status | text:\'L\' | translate}}</span> </div> <div class="task-list__priority"> <span class="priority-{{m.priority | text:\'L\'}}">{{m.priority | text:\'L\' | translate}}</span> </div> <div class="task-list__assignee"> <employee-input [ids]="[m.assigneeUserId]"></employee-input> </div> <div class="task-list__start_date">{{m.startDate | dateFmt:\'DD.MM.YYYY\'}}</div> <div class="task-list__due_date"> <span>{{m.dueDate | dateFmt:\'DD.MM.YYYY\'}}</span> <span>{{m.startDate | dateDuration:m.dueDate}}</span> </div> <div class="task-list__tags"> <tags-input [ids]="m.tagIds"></tags-input> </div> </div> </a> </div> <div class="entry" *ngIf="m.kind == \'request\'"> <label class="entry-select" *ngIf="showSelect"> <input type="checkbox" value="{{m.id}}" (change)="toggleSelected(m.id)"/> </label> <a class="entry-link" [routerLink]="[\'/requests\', m.id]"> <div class="entry-fields"> <div class="task-list__request_type expandable-level"> <div class="entry-expander"> <i class="entry-expander_icon fa"></i> </div> {{m.requestType | localizedName}} </div> <div class="request__time">{{m.regDate}}</div> <div class="request__comment">{{m.comment}}</div> <div class="request__attachments" *ngIf="m.attachments && m.attachments.length"> <i class="fa fa-paperclip"></i> </div> <span class="{{m.resolution | text:\'L\'}}" *ngIf="m.resolution == \'ACCEPT\'"> <i class="fa fa-check"></i> {{\'accepted\' | translate}} </span> <span class="{{m.resolution | text:\'L\'}}" *ngIf="m.resolution == \'DECLINE\'"> <i class="fa fa-times"></i> {{\'declined\' | translate}} </span> <div class="request__resolution_time">{{m.resolutionTime | dateFmt:\'DD.MM.YYYY\'}}</div> </div> </a> </div> <div class="entry" *ngIf="m.kind == \'comment\'"> <label class="entry-select"> <input type="checkbox" value="{{m.id}}" (change)="toggleSelected(m.id)"/> </label> <div class="entry-link"> <div class="entry-fields"> <div class="task-list__comment_comment">{{m.comment}}</div> </div> </div> </div> </div> <task-stream *ngIf="m && m.kind == \'task\'" [level]="level" [showSelect]="showSelect" [task]="m" (toggleStream)="onToggleStream($event)" (loadStreamLevel)="onLoadStreamLevel($event)"></task-stream> </div>'},function(t,e){t.exports='<form class="form" *ngIf="isReady"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" title="{{\'close\' | translate}}" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button class="btn btn-primary" type="button" *ngIf="canSaveTask()" [disabled]="!isValid" (click)="saveTask()"> {{\'save_close\' | translate}} </button> <button class="btn" type="button" *ngIf="canRequestAction()" (click)="newRequest($event)"> {{\'new_request\' | translate}} </button> <button class="btn" type="button" *ngIf="canAddSubTask()" (click)="addSubtask($event)"> {{\'add_subtask\' | translate}} </button> <button class="btn" type="button" *ngIf="canCompleteTask()" (click)="completeTask()"> <span>{{\'complete_task\' | translate}}</span> </button> <div *ngIf="!isNew && isEditable" dropdown class="buttons" [tabIndex]="-1"> <div dropdown-toggle> <span class="btn">...</span> </div> <div class="dropdown-menu"> <ul class="menu"> <li> <a class="menu-item" (click)="deleteTask()">{{\'delete\' | translate}}</a> </li> </ul> </div> </div> </div> <h1 class="header-title task-header-title"> <a *ngIf="parentTask" [routerLink]="[\'/task\', parentTask.id]" class="parent-task-link">{{parentTask.title}}</a> <div class="header-title-flex"> <label>{{title | translate}}</label> <input [class.invalid]="errors.title" autofocus required maxlength="140" placeholder="{{\'task_title\' | translate}}" [readonly]="!isEditable" (keyup)="validateForm()" [(ngModel)]="task.title" ngControl="title"/> <span class="task-status status-{{task.status | text:\'L\'}}">{{task.status | text:\'L\' | translate}}</span> </div> </h1> </header> <section class="content-body"> <div class="task-tabs noselect" *ngIf="hasSubTasks() || hasRequests() || showACLTabTitle"> <div class="task-tab__title" [class.active]="showProperty" [class.hidden]="!showPropertyTabTitle" (click)="toggleShowProperty()">{{\'properties\' | translate}}</div> <div class="task-tab__title" [class.active]="showSubtasks" [class.hidden]="!hasSubTasks() && !hasRequests()" (click)="toggleShowSubtasks()"> <i class="fa fa-align-left"></i> <span>{{\'execution\' | translate}}</span> </div> <div class="task-tab__title" [class.active]="showACL" [class.hidden]="!showACLTabTitle" (click)="toggleShowACL()"> <i class="fa fa-share-alt"></i> {{\'acl_tab_title\' | translate}} </div> </div> <div class="task-tab" [class.active]="showSubtasks" *ngIf="!isNew"> <task-list [streamMode]="true" [showSelect]="false" [tasks]="[task]"></task-list> </div> <div class="task-tab" [class.active]="showACL" *ngIf="!isNew"> <div class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'editors\' | translate}} </div> <div class="controls"> <ul> <li *ngFor="let editor of task.acl.editors | values">{{editor}}</li> </ul> </div> </div> <div class="form-group"> <div class="control-label"> {{\'readers\' | translate}} </div> <div class="controls"> <ul> <li *ngFor="let reader of task.acl.readers | values">{{reader}}</li> </ul> </div> </div> </div> </div> <div class="task-tab" [class.active]="showProperty"> <fieldset class="fieldset"> <div class="form-group" *ngIf="!isSubtask"> <div class="control-label"> {{\'project\' | translate}} </div> <div class="controls" [class.has-error]="errors.projectId"> <project-input class="span8" [editable]="isEditable" [id]="task.projectId" (select)="setProject($event)"></project-input> <error-message [error]="errors.projectId"></error-message> </div> </div> <div class="form-group" *ngIf="!isSubtask"> <div class="control-label"> {{\'task_type\' | translate}} </div> <div class="controls" [class.has-error]="errors.taskTypeId"> <task-type-input class="span8" [editable]="isEditable" [id]="task.taskTypeId" (select)="setTaskType($event)"></task-type-input> <error-message [error]="errors.taskTypeId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'priority\' | translate}} </div> <div class="controls" [class.has-error]="errors.priority"> <switch-button [disabled]="!isEditable" [model]="task" value="priority" [items]="taskPriorityTypes"></switch-button> <error-message [error]="errors.priority"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'assignee_user\' | translate}} </div> <div class="controls" [class.has-error]="errors.assigneeUserId"> <employee-input class="span8" [editable]="isEditable" [ids]="[task.assigneeUserId]" (select)="setAssigneeUser($event)"></employee-input> <error-message [error]="errors.assigneeUserId"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'start_date\' | translate}} </div> <div class="controls" [class.has-error]="errors.startDate"> <div class="span2" *ngIf="!isEditable"> <span class="input">{{task.startDate}}</span> </div> <input datepicker class="span2" *ngIf="isEditable" (select)="setStartDate($event)" [(ngModel)]="task.startDate"/> <error-message [error]="errors.startDate"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'due_date\' | translate}} </div> <div class="controls" [class.has-error]="errors.dueDate"> <div class="span2" *ngIf="!isEditable"> <span class="input">{{task.dueDate}}</span> </div> <input datepicker class="span2" *ngIf="isEditable" (select)="setDueDate($event)" [(ngModel)]="task.dueDate"/> <span>{{task.startDate | dateDuration:task.dueDate}}</span> <error-message [error]="errors.dueDate"></error-message> </div> </div> <div class="form-group"> <div class="control-label"> {{\'tags\' | translate}} </div> <div class="controls" [class.has-error]="errors.tagIds"> <tags-input class="span8" [editable]="isEditable" [ids]="task.tagIds" (select)="setTags($event)"></tags-input> <error-message [error]="errors.tagIds"></error-message> </div> </div> <div class="form-group"> <div class="control-label"></div> <div class="controls"> <label class="input" [class.disabled]="!isEditable"> <input type="checkbox" name="customerObservation" value="1" [disabled]="!isEditable" [(ngModel)]="task.customerObservation"/> <span>{{\'publish_to_customer\' | translate}}</span> </label> </div> </div> <div class="form-group" [class.has-error]="errors.body"> <markdown-editor placeHolder="{{\'body\' | translate}}" [markdown]="task.body || \'\'" [editable]="isEditable" [updateTimeout]="300" (update)="updateTaskBody($event)"></markdown-editor> <error-message [error]="errors.body"></error-message> </div> </fieldset> <attachments [editable]="isEditable" [model]="task" (upload)="addAttachment($event)" (delete)="deleteAttachment($event)"></attachments> </div> <comments *ngIf="showComments()" [comments]="comments" (add)="saveComment($event)" (update)="saveComment($event)" (delete)="deleteComment($event)"></comments> </section> <footer class="content-footer"> <div class="record-author" *ngIf="task.authorId"> <span>{{\'author\' | translate}}</span> <employee-input [editable]="false" [ids]="[task.authorId]"></employee-input> <time>{{task.regDate}}</time> </div> </footer> </form>'},function(t,e){t.exports='<div class="content-header"> <h1 class="header-title"> {{title | translate}} </h1> <div class="content-actions"> <button class="btn" type="button" (click)="newTask()"> {{\'new_task\' | translate}} </button> <button class="btn btn-refresh" type="button" (click)="refresh()"> <i class="fa fa-refresh"></i> </button> <task-filter (change)="changeFilter($event)"></task-filter> <pagination [totalPages]="meta.totalPages" [page]="meta.page" (change)="goToPage($event)"></pagination> </div> </div> <div class="content-body" [class.load]="loading"> <task-list [tasks]="tasks" (toggleStream)="onToggleStream($event)"></task-list> </div> <router-outlet></router-outlet>'},function(t,e){t.exports='<form class="form form-userprofile" autocomplete="off" [ngFormModel]="form" *ngIf="user"> <header class="content-header"> <div class="content-actions"> <button class="btn-back" type="button" (click)="close($event)"> <i class="fa fa-chevron-left"></i> <span>{{\'close\' | translate}}</span> </button> <button class="btn btn-primary" type="button" [disabled]="!form.valid" (click)="updateUserProfile()"> {{\'save_close\' | translate}} </button> </div> <h1 class="header-title"> {{\'employee\' | translate}} / {{user.name}} </h1> </header> <section class="content-body"> <tabs> <tab class="tab-pane" tabTitle="{{\'properties\' | translate}}"> <fieldset class="fieldset fieldset-user-fields"> <div class="form-group"> <div class="control-label"> {{\'login_name\' | translate}} </div> <div class="controls"> <input type="text" class="span4" ngControl="login"/> </div> </div> <div class="form-group" *ngIf="!changePassword"> <div class="control-label"></div> <div class="controls"> <span class="btn btn-xs" (click)="toggleChangePassword()">{{\'change_password\' | translate}}</span> </div> </div> <div class="form-group" *ngIf="changePassword"> <div class="control-label"> {{\'password\' | translate}} </div> <div class="controls" [class.has-error]="errors.pwd"> <input type="password" class="span4" [class.invalid]="errors.pwd" ngControl="pwd"/> </div> </div> <div class="form-group" *ngIf="changePassword"> <div class="control-label"> {{\'password_new\' | translate}} </div> <div class="controls" [class.has-error]="errors.pwd_new"> <input type="password" class="span4" [class.invalid]="errors.pwd_new" ngControl="pwd_new"/> </div> </div> <div class="form-group" *ngIf="changePassword"> <div class="control-label"> {{\'password_confirm\' | translate}} </div> <div class="controls" [class.has-error]="errors.pwd_confirm"> <input type="password" class="span4" [class.invalid]="errors.pwd_confirm" ngControl="pwd_confirm"/> </div> </div> <div class="form-group"> <div class="control-label"> {{\'email\' | translate}} </div> <div class="controls" [class.has-error]="errors.email"> <input type="email" class="span4" [class.invalid]="errors.email" ngControl="email"/> <div class="error-message">{{errors.email | translate}}</div> </div> </div> <div class="form-group" *ngIf="user.organization"> <div class="control-label"> {{\'org_name\' | translate}} </div> <div class="controls"> <span class="input-placeholder"> {{user.organization}} </span> </div> </div> <div class="form-group" *ngIf="user.department"> <div class="control-label"> {{\'department\' | translate}} </div> <div class="controls"> <span class="input-placeholder"> {{user.department}} </span> </div> </div> <div class="form-group" *ngIf="user.position"> <div class="control-label"> {{\'position\' | translate}} </div> <div class="controls"> <span class="input-placeholder"> {{user.position}} </span> </div> </div> <div class="form-group" *ngIf="user.roles"> <div class="control-label"> {{\'roles\' | translate}} </div> <div class="controls"> <ul class="input-placeholder list-style-none"> <li *ngFor="let role of user.roles">{{role.localizedName[language]}}</li> </ul> </div> </div> </fieldset> </tab> <tab class="tab-pane" tabTitle="{{\'interface\' | translate}}"> <fieldset class="fieldset"> <div class="form-group"> <div class="control-label"> {{\'limit_view\' | translate}} </div> <div class="controls"> <select name="pagesize" class="span2" (change)="changePageSize($event)"> <option value="{{ps}}" [selected]="ps == pageSize" *ngFor="let ps of pageSizes">{{ps}}</option> </select> </div> </div> <div class="form-group"> <div class="control-label"> {{\'interface_lang\' | translate}} </div> <div class="controls"> <select name="lang" class="span2" (change)="changeLang($event)"> <option value="{{langCode}}" [selected]="langCode == language" *ngFor="let langCode of languages | keys"> {{languages[langCode]}} </option> </select> </div> </div> </fieldset> </tab> </tabs> </section> </form>'},,function(t,e){"use strict";var n=console,r="@ngrx/store/init",o=function(t,e){return new Array(e+1).join(t)},s=function(t,e){return o("0",e-t.toString().length)+t},i=function(t){return"@ "+s(t.getHours(),2)+":"+s(t.getMinutes(),2)+":"+s(t.getSeconds(),2)+"."+s(t.getMilliseconds(),3)},a="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date,c=function(t,e,n,r){switch(typeof t){case"object":return"function"==typeof t[r]?t[r].apply(t,n):t[r];case"function":return t(e);default:return t}},u=function(t){return function(e){var r=t.actionTransformer,o=t.collapsed,s=t.colors,a=t.timestamp,u=t.duration,l=t.level;e.forEach(function(t,p){var d=t.started,f=t.startedTime,h=t.action,m=t.error,v=t.prevState.nextState?t.prevState.nextState:"(Empty)",g=t.took,y=t.nextState,b=e[p+1];b&&(y=b.prevState,g=b.started-d);var T=r(h),R="function"==typeof o?o(function(){return y},h):o,C=i(f),S=s.title?"color: "+s.title(T)+";":null,_="action "+(a?C:"")+" "+T.type+" "+(u?"(in "+g.toFixed(2)+" ms)":"");try{R?s.title?n.groupCollapsed("%c "+_,S):n.groupCollapsed(_):s.title?n.group("%c "+_,S):n.group(_)}catch(E){n.log(_)}var k=c(l,T,[v],"prevState"),A=c(l,T,[T],"action"),P=c(l,T,[m,v],"error"),O=c(l,T,[y],"nextState");k&&(s.prevState?n[k]("%c prev state","color: "+s.prevState(v)+"; font-weight: bold",v):n[k]("prev state",v)),A&&(s.action?n[A]("%c action","color: "+s.action(T)+"; font-weight: bold",T):n[A]("action",T)),m&&P&&(s.error?n[P]("%c error","color: "+s.error(m,v)+"; font-weight: bold",m):n[P]("error",m)),O&&(s.nextState?n[O]("%c next state","color: "+s.nextState(y)+"; font-weight: bold",y):n[O]("next state",y));try{n.groupEnd()}catch(E){n.log("—— log end ——")}}),e.length=0}};e.storeLogger=function(t){return void 0===t&&(t={}),function(e){var n={},o=window&&window.navigator.userAgent?window.navigator.userAgent:"",s=!1,i=o.indexOf("MSIE "),c=o.indexOf("Trident/");(i>-1||c>-1)&&(s=!0);var l={level:"log",collapsed:!1,duration:!0,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},colors:s?{}:{title:function(){return"#000000";
},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}},p=Object.assign({},l,t),d=p.stateTransformer,f=u(p);return function(t,o){var s={started:a.now(),startedTime:new Date,prevState:d(n),action:o},i=e(t,o),c={took:a.now()-s.started,nextState:d(i)};return n=Object.assign({},s,c),o.type!==r&&f([n]),i}}}},,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(3),o=n(618);r.Observable.prototype.every=o.every},,,function(t,e,n){"use strict";var r=n(3),o=n(621);r.Observable.prototype.first=o.first},function(t,e,n){"use strict";var r=n(3),o=n(622);r.Observable.prototype.last=o.last},,function(t,e,n){"use strict";var r=n(3),o=n(188);r.Observable.prototype.mergeAll=o.mergeAll},,function(t,e,n){"use strict";var r=n(3),o=n(625);r.Observable.prototype.reduce=o.reduce},,,,,,function(t,e,n){"use strict";var r=n(3),o=n(425);r.Observable.prototype.toPromise=o.toPromise},,,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(3),s=n(417),i=n(122),a=function(t){function ArrayLikeObservable(e,n,r,o){t.call(this),this.arrayLike=e,this.scheduler=o,n||o||1!==e.length||(this._isScalar=!0,this.value=e[0]),n&&(this.mapFn=n.bind(r))}return r(ArrayLikeObservable,t),ArrayLikeObservable.create=function(t,e,n,r){var o=t.length;return 0===o?new i.EmptyObservable:1!==o||e?new ArrayLikeObservable(t,e,n,r):new s.ScalarObservable(t[0],r)},ArrayLikeObservable.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,o=t.mapFn,s=t.subscriber;if(!s.isUnsubscribed){if(n>=r)return void s.complete();var i=o?o(e[n],n):e[n];s.next(i),t.index=n+1,this.schedule(t)}},ArrayLikeObservable.prototype._subscribe=function(t){var e=0,n=this,r=n.arrayLike,o=n.mapFn,s=n.scheduler,i=r.length;if(s)return s.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:r,index:e,length:i,mapFn:o,subscriber:t});for(var a=0;a<i&&!t.isUnsubscribed;a++){var c=o?o(r[a],a):r[a];t.next(c)}t.complete()},ArrayLikeObservable}(o.Observable);e.ArrayLikeObservable=a},,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(80),s=n(123),i=n(431),a=n(124),c=n(185),u=n(611),l=n(121),p=n(606),d=n(190),f=n(3),h=n(423),m=n(184),v=function(t){return t&&"number"==typeof t.length},g=function(t){function FromObservable(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(FromObservable,t),FromObservable.create=function(t,e,n,r){var h=null,g=null;if(s.isFunction(e)?(h=r||null,g=e):a.isScheduler(h)&&(h=e),null!=t){if("function"==typeof t[m])return t instanceof f.Observable&&!h?t:new FromObservable(t,h);if(o.isArray(t))return new l.ArrayObservable(t,h);if(i.isPromise(t))return new c.PromiseObservable(t,h);if("function"==typeof t[d.$$iterator]||"string"==typeof t)return new u.IteratorObservable(t,null,null,h);if(v(t))return new p.ArrayLikeObservable(t,g,n,h)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},FromObservable.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[m]().subscribe(t):e[m]().subscribe(new h.ObserveOnSubscriber(t,n,0))},FromObservable}(f.Observable);e.FromObservable=g},function(t,e,n){"use strict";function getIterator(t){var e=t[u.$$iterator];if(!e&&"string"==typeof t)return new d(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("Object is not iterable");return t[u.$$iterator]()}function toLength(t){var e=+t.length;return isNaN(e)?0:0!==e&&numberIsFinite(e)?(e=sign(e)*Math.floor(Math.abs(e)),e<=0?0:e>h?h:e):e}function numberIsFinite(t){return"number"==typeof t&&o.root.isFinite(t)}function sign(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(46),s=n(430),i=n(125),a=n(3),c=n(123),u=n(190),l=n(79),p=function(t){function IteratorObservable(e,n,r,o){if(t.call(this),null==e)throw new Error("iterator cannot be null.");if(s.isObject(n))this.thisArg=n,this.scheduler=r;else if(c.isFunction(n))this.project=n,this.thisArg=r,this.scheduler=o;else if(null!=n)throw new Error("When provided, `project` must be a function.");this.iterator=getIterator(e)}return r(IteratorObservable,t),IteratorObservable.create=function(t,e,n,r){return new IteratorObservable(t,e,n,r)},IteratorObservable.dispatch=function(t){var e=t.index,n=t.hasError,r=t.thisArg,o=t.project,s=t.iterator,a=t.subscriber;if(n)return void a.error(t.error);var c=s.next();return c.done?void a.complete():(o?(c=i.tryCatch(o).call(r,c.value,e),c===l.errorObject?(t.error=l.errorObject.e,t.hasError=!0):(a.next(c),t.index=e+1)):(a.next(c.value),t.index=e+1),void(a.isUnsubscribed||this.schedule(t)))},IteratorObservable.prototype._subscribe=function(t){var e=0,n=this,r=n.iterator,o=n.project,s=n.thisArg,a=n.scheduler;if(a)return a.schedule(IteratorObservable.dispatch,0,{index:e,thisArg:s,project:o,iterator:r,subscriber:t});for(;;){var c=r.next();if(c.done){t.complete();break}if(o){if(c=i.tryCatch(o).call(s,c.value,e++),c===l.errorObject){t.error(l.errorObject.e);break}t.next(c)}else t.next(c.value);if(t.isUnsubscribed)break}},IteratorObservable}(a.Observable);e.IteratorObservable=p;var d=function(){function StringIterator(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return StringIterator.prototype[u.$$iterator]=function(){return this},StringIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},StringIterator}(),f=function(){function ArrayIterator(t,e,n){void 0===e&&(e=0),void 0===n&&(n=toLength(t)),this.arr=t,this.idx=e,this.len=n}return ArrayIterator.prototype[u.$$iterator]=function(){return this},ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},ArrayIterator}(),h=Math.pow(2,53)-1},,,,function(t,e,n){"use strict";function concatAll(){return this.lift(new r.MergeAllOperator(1))}var r=n(188);e.concatAll=concatAll},,,function(t,e,n){"use strict";function every(t,e){return this.lift(new s(t,e,this))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(14);e.every=every;var s=function(){function EveryOperator(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return EveryOperator.prototype.call=function(t,e){return e._subscribe(new i(t,this.predicate,this.thisArg,this.source))},EveryOperator}(),i=function(t){function EverySubscriber(e,n,r,o){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=o,this.index=0,this.thisArg=r||this}return r(EverySubscriber,t),EverySubscriber.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},EverySubscriber.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(o.Subscriber)},,,function(t,e,n){"use strict";function first(t,e,n){return this.lift(new i(t,e,n,this))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(14),s=n(192);e.first=first;var i=function(){function FirstOperator(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return FirstOperator.prototype.call=function(t,e){return e._subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},FirstOperator}(),a=function(t){function FirstSubscriber(e,n,r,o,s){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=s,this.index=0,this.hasCompleted=!1}return r(FirstSubscriber,t),FirstSubscriber.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},FirstSubscriber.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(r){return void this.destination.error(r)}n&&this._emit(t,e)},FirstSubscriber.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},FirstSubscriber.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(r){return void this.destination.error(r)}this._emitFinal(n)},FirstSubscriber.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},FirstSubscriber.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},FirstSubscriber}(o.Subscriber)},function(t,e,n){"use strict";function last(t,e,n){return this.lift(new i(t,e,n,this))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(14),s=n(192);e.last=last;var i=function(){function LastOperator(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return LastOperator.prototype.call=function(t,e){return e._subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},LastOperator}(),a=function(t){function LastSubscriber(e,n,r,o,s){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=s,this.hasValue=!1,this.index=0,"undefined"!=typeof o&&(this.lastValue=o,this.hasValue=!0)}return r(LastSubscriber,t),LastSubscriber.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},LastSubscriber.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(r){return void this.destination.error(r)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},LastSubscriber.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(r){return void this.destination.error(r)}this.lastValue=n,this.hasValue=!0},LastSubscriber.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},LastSubscriber}(o.Subscriber)},,,function(t,e,n){"use strict";function reduce(t,e){return this.lift(new s(t,e))}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(14);e.reduce=reduce;var s=function(){function ReduceOperator(t,e){this.project=t,this.seed=e}return ReduceOperator.prototype.call=function(t,e){return e._subscribe(new i(t,this.project,this.seed))},ReduceOperator}();e.ReduceOperator=s;var i=function(t){function ReduceSubscriber(e,n,r){t.call(this,e),this.hasValue=!1,this.acc=r,this.project=n,this.hasSeed="undefined"!=typeof r}return r(ReduceSubscriber,t),ReduceSubscriber.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},ReduceSubscriber.prototype._tryReduce=function(t){var e;try{e=this.project(this.acc,t)}catch(n){return void this.destination.error(n)}this.acc=e},ReduceSubscriber.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},ReduceSubscriber}(o.Subscriber);e.ReduceSubscriber=i},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function StaffActions(){}return StaffActions.prototype.fetchOrganizations=function(t){return{type:StaffActions.FETCH_ORGANIZATIONS,payload:{organizations:t}}},StaffActions.prototype.fetchEmployees=function(t){return{type:StaffActions.FETCH_EMPLOYEES,payload:{employees:t}}},StaffActions.FETCH_ORGANIZATIONS="FETCH_ORGANIZATIONS",StaffActions.FETCH_EMPLOYEES="FETCH_EMPLOYEES",StaffActions=r([s.Injectable(),o("design:paramtypes",[])],StaffActions)}();e.StaffActions=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function TaskActions(){}return TaskActions.prototype.createTask=function(t){return{type:TaskActions.CREATE_TASK,payload:{task:t}}},TaskActions.prototype.createTaskFailed=function(t){return{type:TaskActions.CREATE_TASK_FAILED,payload:t}},TaskActions.prototype.createTaskFulfilled=function(t){return{type:TaskActions.CREATE_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.fetchTasks=function(){return{type:TaskActions.FETCH_TASKS}},TaskActions.prototype.fetchTasksFailed=function(t){return{type:TaskActions.FETCH_TASKS_FAILED,payload:t}},TaskActions.prototype.fetchTasksFulfilled=function(t,e){return{type:TaskActions.FETCH_TASKS_FULFILLED,payload:{tasks:t,meta:e}}},TaskActions.prototype.fetchTask=function(t){return{type:TaskActions.FETCH_TASK}},TaskActions.prototype.fetchTaskFailed=function(t){return{type:TaskActions.FETCH_TASK_FAILED,payload:t}},TaskActions.prototype.fetchTaskFulfilled=function(t){return{type:TaskActions.FETCH_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.updateTask=function(t,e){return{type:TaskActions.UPDATE_TASK,payload:{changes:e,taskId:t}}},TaskActions.prototype.updateTaskFailed=function(t){return{type:TaskActions.UPDATE_TASK_FAILED,payload:t}},TaskActions.prototype.updateTaskFulfilled=function(t){return{type:TaskActions.UPDATE_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.deleteTask=function(t){return{type:TaskActions.DELETE_TASK,payload:{taskId:t}}},TaskActions.prototype.deleteTaskFailed=function(t){return{type:TaskActions.DELETE_TASK_FAILED,payload:t}},TaskActions.prototype.deleteTaskFulfilled=function(t){return{type:TaskActions.DELETE_TASK_FULFILLED,payload:{task:t}}},TaskActions.prototype.toggleStreamExpand=function(t){return{type:TaskActions.TOGGLE_STREAM_EXPAND,payload:t}},TaskActions.CREATE_TASK="CREATE_TASK",TaskActions.CREATE_TASK_FAILED="CREATE_TASK_FAILED",TaskActions.CREATE_TASK_FULFILLED="CREATE_TASK_FULFILLED",TaskActions.TASK_UNLOAD="TASK_UNLOAD",TaskActions.FETCH_TASKS="FETCH_TASKS",TaskActions.FETCH_TASKS_FAILED="FETCH_TASKS_FAILED",TaskActions.FETCH_TASKS_FULFILLED="FETCH_TASKS_FULFILLED",TaskActions.FETCH_TASK="FETCH_TASK",TaskActions.FETCH_TASK_FAILED="FETCH_TASK_FAILED",TaskActions.FETCH_TASK_FULFILLED="FETCH_TASK_FULFILLED",TaskActions.UPDATE_TASK="UPDATE_TASK",TaskActions.UPDATE_TASK_FAILED="UPDATE_TASK_FAILED",TaskActions.UPDATE_TASK_FULFILLED="UPDATE_TASK_FULFILLED",TaskActions.DELETE_TASK="DELETE_TASK",TaskActions.DELETE_TASK_FAILED="DELETE_TASK_FAILED",TaskActions.DELETE_TASK_FULFILLED="DELETE_TASK_FULFILLED",TaskActions.TOGGLE_STREAM_EXPAND="TOGGLE_STREAM_EXPAND",TaskActions.CREATE_TASK_COMMENT="CREATE_COMMENT_TASK",TaskActions.CREATE_TASK_COMMENT_FAILED="CREATE_TASK_COMMENT_FAILED",TaskActions.CREATE_TASK_COMMENT_FULFILLED="CREATE_TASK_COMMENT_FULFILLED",TaskActions.FETCH_TASK_COMMENTS="FETCH_TASK_COMMENTS",TaskActions.FETCH_TASK_COMMENTS_FAILED="FETCH_TASK_COMMENTS_FAILED",TaskActions.FETCH_TASK_COMMENTS_FULFILLED="FETCH_TASK_COMMENTS_FULFILLED",TaskActions.UPDATE_TASK_COMMENT="UPDATE_TASK_COMMENT",TaskActions.UPDATE_TASK_COMMENT_FAILED="UPDATE_TASK_COMMENT_FAILED",TaskActions.UPDATE_TASK_COMMENT_FULFILLED="UPDATE_TASK_COMMENT_FULFILLED",TaskActions.DELETE_TASK_COMMENT="DELETE_TASK_COMMENT",TaskActions.DELETE_TASK_COMMENT_FAILED="DELETE_TASK_COMMENT_FAILED",TaskActions.DELETE_TASK_COMMENT_FULFILLED="DELETE_TASK_COMMENT_FULFILLED",TaskActions.TASK_REQUEST_ACCEPTANCE="TASK_REQUEST_ACCEPTANCE",TaskActions.TASK_REQUEST_NEW="TASK_REQUEST_NEW",TaskActions.TASK_REQUEST_CANCEL="TASK_REQUEST_CANCEL",TaskActions.CREATE_TASK_REQUEST="CREATE_REQUEST_TASK",TaskActions.CREATE_TASK_REQUEST_FAILED="CREATE_TASK_REQUEST_FAILED",TaskActions.CREATE_TASK_REQUEST_FULFILLED="CREATE_TASK_REQUEST_FULFILLED",TaskActions.FETCH_TASK_REQUESTS="FETCH_TASK_REQUESTS",TaskActions.FETCH_TASK_REQUESTS_FAILED="FETCH_TASK_REQUESTS_FAILED",TaskActions.FETCH_TASK_REQUESTS_FULFILLED="FETCH_TASK_REQUESTS_FULFILLED",TaskActions=r([s.Injectable(),o("design:paramtypes",[])],TaskActions)}();e.TaskActions=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(61),a=n(22),c=n(1),u=n(25),l=n(37),p=n(649),d=n(437),f=n(440),h=n(439),m=n(656),v=n(443),g=n(442),y=n(665),b=n(666),T=n(664),R=n(441),C=n(444),S=n(438),_=n(658),E=n(650),k=n(653),A=n(698),P=n(691),O=n(693),I=n(702),j=n(700),w=n(81),L=n(694),D=n(194),F=n(648),U=n(197),N=n(39),M=n(704),x=n(38),q=n(436),H=n(447),z=function(){function AppModule(){}return AppModule=r([s.NgModule({declarations:[p.AppComponent,d.DashboardComponent,f.ProjectsComponent,h.ProjectComponent,m.ProjectListComponent,v.TasksComponent,g.TaskComponent,y.TaskListComponent,b.TaskStreamComponent,T.TaskFilterComponent,R.RequestComponent,C.UserProfileComponent,S.LoginComponent,k.ErrorMessageComponent,E.AttachmentsComponent,_.OrganizationInputComponent,_.EmployeeInputComponent,_.ProjectInputComponent,_.TaskTypeInputComponent,_.TagsInputComponent,_.RequestTypeInputComponent,A.PaginationComponent,w.NotificationComponent,P.DatepickerDirective,I.TAB_DIRECTIVES,O.DROPDOWN_DIRECTIVES,L.MarkdownEditorComponent,L.MarkedPipe,j.SwitchButtonComponent,l.TranslatePipe,D.DateFormatPipe,D.DateDurationPipe,D.TextTransformPipe,D.LocalizedNamePipe],imports:[i.BrowserModule,a.HttpModule,F.APP_ROUTING],providers:[c.provide(u.LocationStrategy,{useClass:u.HashLocationStrategy}),l.TranslateService,l.TRANSLATE_PROVIDERS,c.provide(l.TranslateLoader,{useFactory:function(t){return new G(t)},deps:[U.TranslateService]}),w.NotificationService,L.MarkdownConverter,N.APP_SERVICES,M.APP_STORE,x.APP_STORE_ACTIONS,q.AuthGuard,H.RedirectGuard],bootstrap:[p.AppComponent]}),o("design:paramtypes",[])],AppModule)}();e.AppModule=z;var G=function(){function CustomTranslateLoader(t){this.translateService=t}return CustomTranslateLoader.prototype.getTranslation=function(t){return this.translateService.fetchTranslations()},CustomTranslateLoader}();c.enableProdMode()},function(t,e,n){"use strict";var r=n(29),o=n(436),s=n(447),i=n(437),a=n(440),c=n(439),u=n(443),l=n(442),p=n(441),d=n(444),f=n(438),h=[{path:"",component:u.TasksComponent,canActivate:[s.RedirectGuard,o.AuthGuard]},{path:"dashboard",component:i.DashboardComponent,canActivate:[o.AuthGuard]},{path:"projects/:projectId/tasks",component:u.TasksComponent,canActivate:[o.AuthGuard]},{path:"projects/:projectId",component:c.ProjectComponent,canActivate:[o.AuthGuard]},{path:"projects",component:a.ProjectsComponent,canActivate:[o.AuthGuard]},{path:"tasks/:for",component:u.TasksComponent,canActivate:[o.AuthGuard]},{path:"tasks",component:u.TasksComponent,canActivate:[o.AuthGuard]},{path:"task/:taskId/:new",component:l.TaskComponent,canActivate:[o.AuthGuard]},{path:"task/:taskId",component:l.TaskComponent,canActivate:[o.AuthGuard]},{path:"requests/:requestId",component:p.RequestComponent,canActivate:[o.AuthGuard]},{path:"user-profile",component:d.UserProfileComponent,canActivate:[o.AuthGuard]},{path:"login",component:f.LoginComponent},{path:"**",component:u.TasksComponent,canActivate:[o.AuthGuard]}];e.APP_ROUTING=r.RouterModule.forRoot(h)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=n(37),c=n(655),u=n(654),l=n(38),p=n(39),d=n(30),f=function(){function AppComponent(t,e,n,r,o,s,i,a){var c=this;this.store=t,this.appActions=e,this.referenceActions=n,this.staffActions=r,this.appService=o,this.referenceService=s,this.staffService=i,this.translate=a,this.subs=[],this.isReady=!1,this.loggedUser=new d.User,this.HEADER_TITLE="Projects",this.isNavCollapsed=!1,this.isSearchOpen=!1,this.isMobileDevice=!1,this.subs.push(this.store.select("authed").subscribe(function(t){c.loggedUser=t.userProfile})),this.subs.push(this.store.select("reference")),this.subs.push(this.store.select("environment").subscribe(function(t){c.isSearchOpen=t.isSearchOpen,c.isNavCollapsed=!t.isNavOpen}))}return AppComponent.prototype.resize=function(t){this.onResize(t)},Object.defineProperty(AppComponent.prototype,"device",{get:function(){return this.isMobileDevice},enumerable:!0,configurable:!0}),Object.defineProperty(AppComponent.prototype,"toggleNavVisible",{get:function(){return this.isNavCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(AppComponent.prototype,"toggleSearch",{get:function(){return this.isSearchOpen},enumerable:!0,configurable:!0}),AppComponent.prototype.ngOnInit=function(){var t=this;this.appService.fetchUserProfile().subscribe(function(e){t.store.dispatch(t.appActions.fetchUserProfileFulfilled(e)),t.isReady=!0}),this.referenceService.fetchTags().subscribe(function(e){t.store.dispatch(t.referenceActions.fetchTags(e.tags))}),this.referenceService.fetchTaskTypes().subscribe(function(e){t.store.dispatch(t.referenceActions.fetchTaskTypes(e.taskTypes))}),this.referenceService.fetchRequestTypes().subscribe(function(e){t.store.dispatch(t.referenceActions.fetchRequestTypes(e.requestTypes))}),this.staffService.fetchOrganizations().subscribe(function(e){t.store.dispatch(t.staffActions.fetchOrganizations(e.organizations))}),this.staffService.fetchEmployees().subscribe(function(e){t.store.dispatch(t.staffActions.fetchEmployees(e.employees))}),this.isMobileDevice=this.isMobile();var e=navigator.language.split("-")[0];e=/(ru|en)/gi.test(e)?e:"en",this.translate.setDefaultLang("en"),this.translate.use("en"),this.translate.get("brand").subscribe(function(e){return t.HEADER_TITLE=e})},AppComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},AppComponent.prototype.hideNav=function(t){this.store.dispatch({type:l.EnvironmentActions.HIDE_NAV}),t.preventDefault()},AppComponent.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},AppComponent.prototype.onResize=function(t){this.isMobileDevice=t.innerWidth<=1024||this.isMobile()},r([s.HostListener("window:resize",["$event.target"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],AppComponent.prototype,"resize",null),r([s.HostBinding("class.phone"),o("design:type",Object)],AppComponent.prototype,"device",null),r([s.HostBinding("class.side-nav-toggle"),o("design:type",Object)],AppComponent.prototype,"toggleNavVisible",null),r([s.HostBinding("class.search-open"),o("design:type",Object)],AppComponent.prototype,"toggleSearch",null),AppComponent=r([s.Component({selector:"app",template:n(563),directives:[c.NavbarComponent,u.NavComponent]}),o("design:paramtypes",[i.Store,l.AppActions,l.ReferenceActions,l.StaffActions,p.AppService,p.ReferenceService,p.StaffService,a.TranslateService])],AppComponent)}();e.AppComponent=f},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=n(39),c=function(){function AttachmentsComponent(t,e){this.http=t,this.uploadService=e,this.editable=!1,this.upload=new s.EventEmitter,this.delete=new s.EventEmitter,this.progress=0}return AttachmentsComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.uploadService.progress$.subscribe(function(e){e&&e<100?t.progress=e:t.progress=0})},AttachmentsComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},Object.defineProperty(AttachmentsComponent.prototype,"isHidden",{get:function(){return!this.editable&&!this.model.attachments},enumerable:!0,configurable:!0}),AttachmentsComponent.prototype.uploadFile=function(t){var e=this;this.uploadService.makeFileRequest("UploadFile?time="+Date.now(),{fsid:this.model.fsid},t).subscribe(function(t){e.upload.emit(t)})},r([s.Input(),o("design:type",Object)],AttachmentsComponent.prototype,"model",void 0),r([s.Input(),o("design:type",Boolean)],AttachmentsComponent.prototype,"editable",void 0),r([s.Output(),o("design:type",Object)],AttachmentsComponent.prototype,"upload",void 0),r([s.Output(),o("design:type",Object)],AttachmentsComponent.prototype,"delete",void 0),AttachmentsComponent=r([s.Component({selector:"attachments",template:'\n        <div class="attachments">\n            <i class="fa fa-paperclip" *ngIf="!editable"></i>\n            <label class="btn btn-upload" title="{{\'attach_file\' | translate}}" *ngIf="editable">\n                <i class="fa fa-paperclip"></i>\n                <span>{{ \'attach_file\' | translate }}</span>\n                <input type="file" (change)="uploadFile($event.target.files)" style="display:none;"/>\n            </label>\n            <div class="attachment-list" *ngIf="!isHidden">\n                <div class="attachment-list__item" *ngFor="let att of model.attachments">\n                    <div class="attachment">\n                        <a class="attachment__link" href="{{model.url}}&attachment={{att.id}}">{{ att.realFileName }}</a>\n                        <span class="attachment__size"></span>\n                        <button type="button" class="btn btn-sm btn-link btn-remove" *ngIf="editable" (click)="delete.emit(att)">\n                            <i class="fa fa-times"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',providers:[a.UploadService],host:{"[class.hidden]":"isHidden"}}),o("design:paramtypes",[i.Http,a.UploadService])],AttachmentsComponent)}();e.AttachmentsComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(30),a=function(){function CommentComponent(){this.editable=!1,this.save=new s.EventEmitter,this.delete=new s.EventEmitter,this.saving=!1,this.edit=!1}return CommentComponent.prototype.toggleEdit=function(){this.edit=this.editable&&!this.edit,this.edit?this.commentText=this.comment.comment:this.commentText=""},CommentComponent.prototype.setCommentText=function(t){this.commentText=t},CommentComponent.prototype.saveComment=function(){this.comment.comment=this.commentText,this.saving=!0,this.save.emit(this.comment)},r([s.Input(),o("design:type",i.Comment)],CommentComponent.prototype,"comment",void 0),r([s.Input(),o("design:type",Boolean)],CommentComponent.prototype,"editable",void 0),r([s.Output(),o("design:type",Object)],CommentComponent.prototype,"save",void 0),r([s.Output(),o("design:type",Object)],CommentComponent.prototype,"delete",void 0),CommentComponent=r([s.Component({selector:"comment",template:'\n        <div class="comment" [class.edit]="edit" [class.saving]="saving">\n            <div class="comment__avatar"></div>\n            <div class="comment__details">\n                <span class="comment__author">\n                    <employee-input [editable]="false" [ids]="[comment.authorId]"></employee-input>\n                </span>\n                <span class="comment__time">{{comment.regDate}}</span>\n                <p class="comment__text" *ngIf="!edit" innerHTML="{{comment.comment | marked}}"></p>\n                <div class="comment__editor" *ngIf="edit">\n                    <markdown-editor\n                        markdown="{{comment.comment}}"\n                        editable="true"\n                        placeHolder="{{\'add_comment\' | translate}}"\n                        (update)="setCommentText($event)">\n                    </markdown-editor>\n                    <button type="button" class="btn btn-cancel" [disabled]="saving" (click)="toggleEdit()">{{\'cancel\' | translate}}</button>\n                    <button type="button" class="btn btn-primary btn-save" [disabled]="saving" (click)="saveComment()">{{\'save\' | translate}}</button>\n                </div>\n                <!-- <attachments\n                    [model]="comment"\n                    (upload)="addAttachment($event)"\n                    (delete)="deleteAttachment($event)">\n                </attachments> -->\n            </div>\n            <div class="comment__buttons" *ngIf="editable">\n                <button type="button" class="btn btn-sm" *ngIf="!edit" (click)="toggleEdit()">\n                    <i class="fa fa-pencil"></i>{{\'edit\' | translate}}\n                </button>\n                <button type="button" class="btn btn-sm" title="{{\'delete\' | translate}}" (click)="delete.emit(comment)">\n                    <i class="fa fa-remove"></i>\n                </button>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[])],CommentComponent)}();e.CommentComponent=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i;
},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(651),a=n(30),c=function(){function CommentsComponent(){this.add=new s.EventEmitter,this.update=new s.EventEmitter,this.delete=new s.EventEmitter,this.commentText=""}return CommentsComponent.prototype.onEditorFocus=function(){this.isEdit=!0},CommentsComponent.prototype.onEditorBlur=function(){this.isEdit=this.commentText.length>0},CommentsComponent.prototype.setCommentText=function(t){this.commentText=t},CommentsComponent.prototype.addComment=function(){var t=new a.Comment;t.comment=this.commentText,this.add.emit(t),this.commentText=""},CommentsComponent.prototype.updateComment=function(t){this.update.emit(t)},CommentsComponent.prototype.deleteComment=function(t){this.delete.emit(t)},r([s.Input(),o("design:type",Array)],CommentsComponent.prototype,"comments",void 0),r([s.Output(),o("design:type",Object)],CommentsComponent.prototype,"add",void 0),r([s.Output(),o("design:type",Object)],CommentsComponent.prototype,"update",void 0),r([s.Output(),o("design:type",Object)],CommentsComponent.prototype,"delete",void 0),CommentsComponent=r([s.Component({selector:"comments",template:'\n        <div class="comments-wrap">\n            <section class="comments">\n                <comment *ngFor="let comment of comments"\n                    [comment]="comment"\n                    [editable]="true"\n                    (save)="updateComment($event)"\n                    (delete)="deleteComment($event)">\n                </comment>\n            </section>\n            <section class="comment-composer" [class.edit]="isEdit">\n                <div class="comment-composer__editor">\n                    <markdown-editor\n                        editable="true"\n                        placeHolder="{{\'comment\' | translate}}"\n                        (update)="setCommentText($event)"\n                        (focus)="onEditorFocus($event)"\n                        (blur)="onEditorBlur($event)">\n                    </markdown-editor>\n                </div>\n                <button class="btn btn-add-comment"\n                    (click)="addComment()"\n                    [disabled]="!commentText">\n                    {{\'add_comment\' | translate}}\n                </button>\n            </section>\n        </div>\n    ',directives:[i.CommentComponent]}),o("design:paramtypes",[])],CommentsComponent)}();e.CommentsComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function ErrorMessageComponent(){this.error={}}return r([s.Input(),o("design:type",Object)],ErrorMessageComponent.prototype,"error",void 0),ErrorMessageComponent=r([s.Component({selector:"error-message",template:'\n        <div class="error-message__message" *ngIf="error">\n            {{error.message | translate}}\n        </div>\n    ',host:{"[class.error-message]":"true","[class.show]":"error"}}),o("design:paramtypes",[])],ErrorMessageComponent)}();e.ErrorMessageComponent=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(29),a=n(17),c=n(126),u=n(195),l=function(){function NavComponent(t,e,n,r){this.router=t,this.store=e,this.projectActions=n,this.projectService=r,this.subs=[]}return NavComponent.prototype.ngOnInit=function(){var t=this;this.subs.push(this.store.select("projects").subscribe(function(e){t.projects=e.projects})),this.loadNavProjects()},NavComponent.prototype.ngOnDestroy=function(){this.subs.map(function(t){return t.unsubscribe()})},NavComponent.prototype.isActive=function(t){return this.router.isActive(this.router.createUrlTree(t),!0)},NavComponent.prototype.loadNavProjects=function(){var t=this;this.projectService.fetchProjects().subscribe(function(e){t.store.dispatch(t.projectActions.fetchProjectsFulfilled(e.projects,e.meta))})},NavComponent=r([s.Component({selector:"[data-c=nav]",template:n(564)}),o("design:paramtypes",[i.Router,a.Store,c.ProjectActions,u.ProjectService])],NavComponent)}();e.NavComponent=l},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(24),a=n(17),c=n(193),u=n(445),l=function(){function NavbarComponent(t,e){this.store=t,this.environmentActions=e,this.keyup$=new i.Subject,this.headerTitle="Projects",this.workspaceUrl="Logout",this.logoUrl="img/logo.png"}return NavbarComponent.prototype.ngOnInit=function(){var t=this;this.keyup$.debounceTime(300).map(function(t){return t.target.value}).distinctUntilChanged().subscribe(function(e){return t.search(e)})},NavbarComponent.prototype.searchFocus=function(){this.store.dispatch(this.environmentActions.toggleSearch())},NavbarComponent.prototype.searchBlur=function(){this.store.dispatch(this.environmentActions.hideNav())},NavbarComponent.prototype.search=function(t){this.store.dispatch(this.environmentActions.search(t))},NavbarComponent.prototype.toggleNav=function(){this.store.dispatch(this.environmentActions.toggleNav())},NavbarComponent.prototype.logout=function(t){t.preventDefault(),window.location.href="Logout"},r([s.Input(),o("design:type",u.User)],NavbarComponent.prototype,"user",void 0),NavbarComponent=r([s.Component({selector:"navbar",template:n(565)}),o("design:paramtypes",[a.Store,c.EnvironmentActions])],NavbarComponent)}();e.NavbarComponent=l},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function ProjectListComponent(){this.showHeader=!0,this.selectedIds=[],this.isSelectedAll=!1}return Object.defineProperty(ProjectListComponent.prototype,"_projects",{set:function(t){this.projects=t,this.selectedIds=[],this.isSelectedAll=!1},enumerable:!0,configurable:!0}),ProjectListComponent.prototype.isSelected=function(t){return this.selectedIds.indexOf(t)!=-1},ProjectListComponent.prototype.toggleSelectAll=function(){this.selectedIds.length?(this.selectedIds=[],this.isSelectedAll=!1):(this.selectedIds=this.projects.map(function(t){return t.id}),this.isSelectedAll=!0)},ProjectListComponent.prototype.toggleSelected=function(t){var e=this.selectedIds.indexOf(t);e!=-1?this.selectedIds.push(t):(this.selectedIds.splice(e),this.selectedIds.length||(this.isSelectedAll=!1))},r([s.Input("projects"),o("design:type",Array),o("design:paramtypes",[Array])],ProjectListComponent.prototype,"_projects",null),r([s.Input(),o("design:type",Boolean)],ProjectListComponent.prototype,"showHeader",void 0),ProjectListComponent=r([s.Component({selector:"project-list",template:n(566)}),o("design:paramtypes",[])],ProjectListComponent)}();e.ProjectListComponent=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=function(){function EmployeeInputComponent(t){this.store=t,this.placeHolder="",this.multiple=!1,this.editable=!1,this.searchable=!1,this.allowClear=!1,this.select=new s.EventEmitter,this.employees=[],this.selectedEmps=[]}return EmployeeInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("staff").subscribe(function(e){t.employees=e.employees,t.ids&&(t.selectedEmps=e.employees.filter(function(e){return t.ids.indexOf(e.userID)!=-1})),t.searchable=t.employees.length>13})},EmployeeInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},EmployeeInputComponent.prototype.getEmps=function(){var t=this;return this.multiple&&this.ids?this.employees.filter(function(e){return t.ids.indexOf(e.userID)==-1}):this.employees},EmployeeInputComponent.prototype.search=function(t){console.log(t)},EmployeeInputComponent.prototype.clear=function(t){t.stopPropagation(),this.selectedEmps=[],this.ids=[],this.select.emit(this.selectedEmps)},EmployeeInputComponent.prototype.add=function(t){this.multiple?(this.selectedEmps.push(t),this.ids=this.selectedEmps.map(function(t){return t.userID})):(this.selectedEmps=[t],this.ids=[t.userID],document.body.click()),this.select.emit(this.selectedEmps)},EmployeeInputComponent.prototype.remove=function(t,e){this.multiple&&(e.stopPropagation(),this.selectedEmps=this.selectedEmps.filter(function(e){return e.userID!=t.userID}),this.ids=this.selectedEmps.map(function(t){return t.userID}),this.select.emit(this.selectedEmps))},EmployeeInputComponent.prototype.onScroll=function(t){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&console.log("scroll end")},r([s.Input(),o("design:type",Array)],EmployeeInputComponent.prototype,"ids",void 0),r([s.Input(),o("design:type",String)],EmployeeInputComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Boolean)],EmployeeInputComponent.prototype,"multiple",void 0),r([s.Input(),o("design:type",Boolean)],EmployeeInputComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",Boolean)],EmployeeInputComponent.prototype,"searchable",void 0),r([s.Input(),o("design:type",Boolean)],EmployeeInputComponent.prototype,"allowClear",void 0),r([s.Output(),o("design:type",s.EventEmitter)],EmployeeInputComponent.prototype,"select",void 0),EmployeeInputComponent=r([s.Component({selector:"employee-input",template:'\n        <span class="input employee-input" *ngIf="!editable">\n            <span [class.tag]="multiple" *ngFor="let m of selectedEmps">\n                {{m?.name}}\n            </span>\n        </span>\n        <div dropdown class="select employee-input" [class.allow-clear]="allowClear" [class.has-selected]="selectedEmps.length" *ngIf="editable">\n            <div dropdown-toggle class="select-selection input">\n                <span [class.tag]="multiple" *ngFor="let m of selectedEmps" (click)="remove(m, $event)">\n                    {{m?.name}}\n                </span>\n                <span class="placeholder">{{placeHolder}}</span>\n                <div class="clear" *ngIf="allowClear && selectedEmps.length" (click)="clear($event)">\n                    <i class="fa fa-times"></i>\n                </div>\n            </div>\n            <div class="dropdown-menu select-dropdown">\n                <div class="select-search" *ngIf="searchable">\n                    <input placeholder="{{\'search\' | translate}}" #searchInput (keyup)="search($event.target.value)" />\n                    <button type="button" class="btn select-search-reset" *ngIf="searchInput.value" (click)="searchInput.value = \'\' && search(\'\')">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </div>\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" [class.selected]="ids && ids.indexOf(m.userID) !=- 1" *ngFor="let m of getEmps()" (click)="add(m)">\n                        {{m.name}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.Store])],EmployeeInputComponent)}();e.EmployeeInputComponent=a},function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(659)),__export(n(660)),__export(n(661)),__export(n(662)),__export(n(663)),__export(n(657))},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(196),a=n(30),c=function(){function OrganizationInputComponent(t){this.staffService=t,this.placeHolder="",this.editable=!1,this.searchable=!1,this.allowClear=!1,this.select=new s.EventEmitter,this.organizations=[],this.keyWord="",this.allLoaded=!1,this.firstLoad=!0}return OrganizationInputComponent.prototype.ngOnInit=function(){var t=this;!this.org&&this.id&&this.staffService.fetchOrganizations({ids:this.id}).subscribe(function(e){t.org=e.organizations[0]})},OrganizationInputComponent.prototype.startLoad=function(){this.firstLoad&&(this.loadOrganizations(),this.firstLoad=!1)},OrganizationInputComponent.prototype.loadOrganizations=function(t){var e=this;void 0===t&&(t=1),this.staffService.fetchOrganizations({page:t,keyWord:this.keyWord}).subscribe(function(t){e.organizations=e.organizations.concat(t.organizations),e.meta=t.meta,e.searchable||(e.searchable=e.organizations.length>13)})},OrganizationInputComponent.prototype.getOrganizations=function(){var t=this;return this.keyWord?this.organizations.filter(function(e){return e.name.toLowerCase().indexOf(t.keyWord)!=-1}):this.organizations},OrganizationInputComponent.prototype.search=function(t){this.keyWord=t.toLowerCase()},OrganizationInputComponent.prototype.clear=function(t){t.stopPropagation(),this.onSelect(null)},OrganizationInputComponent.prototype.onSelect=function(t){this.org=t,this.select.emit(this.org),document.body.click()},OrganizationInputComponent.prototype.onScroll=function(t){if(!this.allLoaded){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&(this.meta&&this.meta.page<this.meta.totalPages?this.loadOrganizations(this.meta.page+1):this.allLoaded=!0)}},r([s.Input(),o("design:type",String)],OrganizationInputComponent.prototype,"id",void 0),r([s.Input(),o("design:type",a.Organization)],OrganizationInputComponent.prototype,"org",void 0),r([s.Input(),o("design:type",String)],OrganizationInputComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Boolean)],OrganizationInputComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",Boolean)],OrganizationInputComponent.prototype,"searchable",void 0),r([s.Input(),o("design:type",Boolean)],OrganizationInputComponent.prototype,"allowClear",void 0),r([s.Output(),o("design:type",s.EventEmitter)],OrganizationInputComponent.prototype,"select",void 0),OrganizationInputComponent=r([s.Component({selector:"organization-input",template:'\n        <span class="input organization-input" *ngIf="!editable">\n            {{org?.name}}\n        </span>\n        <div dropdown class="select organization-input" [class.allow-clear]="allowClear" [class.has-selected]="org" *ngIf="editable" (dropdownToggle)="startLoad()">\n            <div dropdown-toggle class="select-selection input">\n                <span>{{org?.name}}</span>\n                <span class="placeholder">{{placeHolder}}</span>\n                <div class="clear" *ngIf="allowClear && org" (click)="clear($event)">\n                    <i class="fa fa-times"></i>\n                </div>\n            </div>\n            <div class="dropdown-menu select-dropdown">\n                <div class="select-search" *ngIf="searchable">\n                    <input placeholder="{{\'search\' | translate}}" #searchInput (keyup)="search($event.target.value)" />\n                    <!-- <button type="button" class="btn select-search-reset" *ngIf="searchInput.value" (click)="searchInput.value = \'\' && search(\'\')">\n                        <i class="fa fa-times"></i>\n                    </button> -->\n                </div>\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" [class.selected]="org?.id == m.id" *ngFor="let m of getOrganizations()" (click)="onSelect(m)">\n                        {{m.name}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.StaffService])],OrganizationInputComponent)}();e.OrganizationInputComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=function(){function ProjectInputComponent(t){this.store=t,this.placeHolder="",this.editable=!1,this.searchable=!1,this.allowClear=!1,this.select=new s.EventEmitter,this.projects=[],this.keyWord=""}return ProjectInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("projects").subscribe(function(e){t.projects=e.projects,t.project=e.projects.filter(function(e){return e.id==t.id})[0],t.searchable=t.projects.length>13})},ProjectInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},ProjectInputComponent.prototype.getProjects=function(){var t=this;return this.keyWord?this.projects.filter(function(e){return e.name.toLowerCase().indexOf(t.keyWord)!=-1}):this.projects},ProjectInputComponent.prototype.search=function(t){this.keyWord=t.toLowerCase()},ProjectInputComponent.prototype.clear=function(t){t.stopPropagation(),this.onSelect(null)},ProjectInputComponent.prototype.onSelect=function(t){this.project=t,this.select.emit(this.project),document.body.click()},ProjectInputComponent.prototype.onScroll=function(t){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&console.log("scroll end")},r([s.Input(),o("design:type",String)],ProjectInputComponent.prototype,"id",void 0),r([s.Input(),o("design:type",String)],ProjectInputComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Boolean)],ProjectInputComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",Boolean)],ProjectInputComponent.prototype,"searchable",void 0),r([s.Input(),o("design:type",Boolean)],ProjectInputComponent.prototype,"allowClear",void 0),r([s.Output(),o("design:type",s.EventEmitter)],ProjectInputComponent.prototype,"select",void 0),ProjectInputComponent=r([s.Component({selector:"project-input",template:'\n        <span class="input project-input" *ngIf="!editable">\n            {{project?.name}}\n        </span>\n        <div dropdown class="select project-input" [class.allow-clear]="allowClear" [class.has-selected]="project" *ngIf="editable">\n            <div dropdown-toggle class="select-selection input">\n                <span>{{project?.name}}</span>\n                <span class="placeholder">{{placeHolder}}</span>\n                <div class="clear" *ngIf="allowClear && project" (click)="clear($event)">\n                    <i class="fa fa-times"></i>\n                </div>\n            </div>\n            <div class="dropdown-menu select-dropdown">\n                <div class="select-search" *ngIf="searchable">\n                    <input placeholder="{{\'search\' | translate}}" #searchInput (keyup)="search($event.target.value)" />\n                    <!-- <button type="button" class="btn select-search-reset" *ngIf="searchInput.value" (click)="searchInput.value = \'\' && search(\'\')">\n                        <i class="fa fa-times"></i>\n                    </button> -->\n                </div>\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" [class.selected]="project?.id == m.id" *ngFor="let m of getProjects()" (click)="onSelect(m)">\n                        {{m.name}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.Store])],ProjectInputComponent)}();e.ProjectInputComponent=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=n(30),c=function(){function RequestTypeInputComponent(t){var e=this;this.store=t,this.placeHolder="",this.editable=!1,this.searchable=!1,this.allowClear=!1,this.select=new s.EventEmitter,this.sub=this.store.select("reference").subscribe(function(t){e.requestTypes=t.requestTypes,e.searchable=e.requestTypes.length>13})}return RequestTypeInputComponent.prototype.ngOnInit=function(){this.requestType||this.onSelect(this.requestTypes.filter(function(t){return"implement"==t.name})[0])},RequestTypeInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},RequestTypeInputComponent.prototype.search=function(t){console.log(t)},RequestTypeInputComponent.prototype.clear=function(t){t.stopPropagation(),this.onSelect(null)},RequestTypeInputComponent.prototype.onSelect=function(t){this.requestType=t,this.select.emit(this.requestType),document.body.click()},RequestTypeInputComponent.prototype.onScroll=function(t){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&console.log("scroll end")},r([s.Input(),o("design:type",a.RequestType)],RequestTypeInputComponent.prototype,"requestType",void 0),r([s.Input(),o("design:type",String)],RequestTypeInputComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Boolean)],RequestTypeInputComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",Boolean)],RequestTypeInputComponent.prototype,"searchable",void 0),r([s.Input(),o("design:type",Boolean)],RequestTypeInputComponent.prototype,"allowClear",void 0),r([s.Output(),o("design:type",s.EventEmitter)],RequestTypeInputComponent.prototype,"select",void 0),RequestTypeInputComponent=r([s.Component({selector:"request-type-input",template:'\n        <span class="input request-type-input" *ngIf="!editable">\n            {{requestType | localizedName}}\n        </span>\n        <div dropdown class="select request-type-input" [class.allow-clear]="allowClear" [class.has-selected]="requestType" *ngIf="editable">\n            <div dropdown-toggle class="select-selection input">\n                <span *ngIf="requestType">\n                    {{requestType | localizedName}}\n                </span>\n                <span class="placeholder">{{placeHolder}}</span>\n                <div class="clear" *ngIf="allowClear && requestType" (click)="clear($event)">\n                    <i class="fa fa-times"></i>\n                </div>\n            </div>\n            <div class="dropdown-menu select-dropdown">\n                <div class="select-search" *ngIf="searchable">\n                    <input placeholder="{{\'search\' | translate}}" #searchInput (keyup)="search($event.target.value)" />\n                    <button type="button" class="btn select-search-reset" *ngIf="searchInput.value" (click)="searchInput.value = \'\' && search(\'\')">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </div>\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" [class.selected]="requestType?.id == m.id" *ngFor="let m of requestTypes" (click)="onSelect(m)">\n                        {{m | localizedName}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.Store])],RequestTypeInputComponent)}();e.RequestTypeInputComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=function(){function TagsInputComponent(t){this.store=t,this.ids=[],this.placeHolder="",this.editable=!1,this.searchable=!1,this.allowClear=!1,this.select=new s.EventEmitter,this.tags=[],this.selectedTags=[]}return TagsInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("reference").subscribe(function(e){t.tags=e.tags,t.ids&&(t.selectedTags=e.tags.filter(function(e){return t.ids.indexOf(e.id)!=-1})),t.searchable=t.tags.length>13})},TagsInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TagsInputComponent.prototype.getTags=function(){var t=this;return this.ids?this.tags.filter(function(e){return t.ids.indexOf(e.id)==-1}):this.tags},TagsInputComponent.prototype.search=function(t){console.log(t)},TagsInputComponent.prototype.clear=function(t){t.stopPropagation(),this.selectedTags=[],this.ids=[],this.select.emit(this.selectedTags)},TagsInputComponent.prototype.add=function(t){this.selectedTags.push(t),this.ids=this.selectedTags.map(function(t){return t.id}),this.select.emit(this.selectedTags)},TagsInputComponent.prototype.remove=function(t,e){e.stopPropagation(),this.selectedTags=this.selectedTags.filter(function(e){return e.id!=t.id}),this.ids=this.selectedTags.map(function(t){return t.id}),this.select.emit(this.selectedTags)},TagsInputComponent.prototype.onScroll=function(t){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&console.log("scroll end")},r([s.Input(),o("design:type",Array)],TagsInputComponent.prototype,"ids",void 0),r([s.Input(),o("design:type",String)],TagsInputComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Boolean)],TagsInputComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",Boolean)],TagsInputComponent.prototype,"searchable",void 0),r([s.Input(),o("design:type",Boolean)],TagsInputComponent.prototype,"allowClear",void 0),r([s.Output(),o("design:type",s.EventEmitter)],TagsInputComponent.prototype,"select",void 0),TagsInputComponent=r([s.Component({selector:"tags-input",template:'\n        <span class="input tags-input" *ngIf="!editable">\n            <span\n                class="tag"\n                *ngFor="let m of selectedTags"\n                [style.color]="m.color">\n                {{m | localizedName}}\n            </span>\n        </span>\n        <div dropdown class="select tags-input" [class.allow-clear]="allowClear" [class.has-selected]="selectedTags.length" *ngIf="editable">\n            <div dropdown-toggle class="select-selection input">\n                <span\n                    class="tag"\n                    *ngFor="let m of selectedTags"\n                    [style.color]="m.color"\n                    (click)="remove(m, $event)">\n                    {{m | localizedName}}\n                </span>\n                <span class="placeholder">{{placeHolder}}</span>\n                <div class="clear" *ngIf="allowClear && selectedTags.length" (click)="clear($event)">\n                    <i class="fa fa-times"></i>\n                </div>\n            </div>\n            <div class="dropdown-menu select-dropdown">\n                <div class="select-search" *ngIf="searchable">\n                    <input placeholder="{{\'search\' | translate}}" #searchInput (keyup)="search($event.target.value)" />\n                    <button type="button" class="btn select-search-reset" *ngIf="searchInput.value" (click)="searchInput.value = \'\' && search(\'\')">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </div>\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" *ngFor="let m of getTags()" (click)="add(m)">\n                        <span [style.color]="m.color">\n                            {{m | localizedName}}\n                        </span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.Store])],TagsInputComponent)}();e.TagsInputComponent=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=function(){function TaskTypeInputComponent(t){this.store=t,this.placeHolder="",this.editable=!1,this.searchable=!1,this.allowClear=!1,this.select=new s.EventEmitter}return TaskTypeInputComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("reference").subscribe(function(e){t.taskTypes=e.taskTypes,t.taskType=e.taskTypes.filter(function(e){return e.id==t.id})[0],t.searchable=t.taskTypes.length>13})},TaskTypeInputComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TaskTypeInputComponent.prototype.search=function(t){console.log(t)},TaskTypeInputComponent.prototype.clear=function(t){t.stopPropagation(),this.onSelect(null)},TaskTypeInputComponent.prototype.onSelect=function(t){this.taskType=t,this.select.emit(this.taskType),document.body.click()},TaskTypeInputComponent.prototype.onScroll=function(t){var e=t.target,n=e.scrollHeight,r=e.clientHeight,o=e.scrollTop;n-r==o&&console.log("scroll end")},r([s.Input(),o("design:type",String)],TaskTypeInputComponent.prototype,"id",void 0),r([s.Input(),o("design:type",String)],TaskTypeInputComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Boolean)],TaskTypeInputComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",Boolean)],TaskTypeInputComponent.prototype,"searchable",void 0),
r([s.Input(),o("design:type",Boolean)],TaskTypeInputComponent.prototype,"allowClear",void 0),r([s.Output(),o("design:type",s.EventEmitter)],TaskTypeInputComponent.prototype,"select",void 0),TaskTypeInputComponent=r([s.Component({selector:"task-type-input",template:'\n        <span class="input task-type-input" *ngIf="!editable">\n            {{taskType | localizedName}}\n        </span>\n        <div dropdown class="select task-type-input" [class.allow-clear]="allowClear" [class.has-selected]="taskType" *ngIf="editable">\n            <div dropdown-toggle class="select-selection input">\n                <span>{{taskType | localizedName}}</span>\n                <span class="placeholder">{{placeHolder}}</span>\n                <div class="clear" *ngIf="allowClear && taskType" (click)="clear($event)">\n                    <i class="fa fa-times"></i>\n                </div>\n            </div>\n            <div class="dropdown-menu select-dropdown">\n                <div class="select-search" *ngIf="searchable">\n                    <input placeholder="{{\'search\' | translate}}" #searchInput (keyup)="search($event.target.value)" />\n                    <button type="button" class="btn select-search-reset" *ngIf="searchInput.value" (click)="searchInput.value = \'\' && search(\'\')">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </div>\n                <ul class="select-list scroll-shadow" (scroll)="onScroll($event)">\n                    <li class="select-option" [class.selected]="id == m.id" *ngFor="let m of taskTypes" (click)="onSelect(m)">\n                        {{m | localizedName}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.Store])],TaskTypeInputComponent)}();e.TaskTypeInputComponent=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function TaskFilterComponent(){this.change=new s.EventEmitter,this.tagIds=[]}return TaskFilterComponent.prototype.setTaskType=function(t){t?this.taskTypeId=t.id:this.taskTypeId=null,this.updateFilter()},TaskFilterComponent.prototype.setAssigneeUser=function(t){t.length?this.assigneeUserId=t[0].userID:this.assigneeUserId=null,this.updateFilter()},TaskFilterComponent.prototype.setTags=function(t){this.tagIds=t.map(function(t){return t.id}),this.updateFilter()},TaskFilterComponent.prototype.updateFilter=function(){this.change.emit({taskTypeId:this.taskTypeId,assigneeUserId:this.assigneeUserId,tagIds:this.tagIds})},r([s.HostBinding("class.task-filter"),o("design:type",Object)],TaskFilterComponent.prototype,"true",void 0),r([s.Output(),o("design:type",Object)],TaskFilterComponent.prototype,"change",void 0),TaskFilterComponent=r([s.Component({selector:"task-filter",template:'\n        <div class="task-filter__icon">\n            <i class="fa fa-filter"></i>\n        </div>\n        <task-type-input [id]="taskTypeId" editable="true" allowClear="true" placeHolder="{{\'task_type\' | translate}}" (select)="setTaskType($event)"></task-type-input>\n        <employee-input editable="true" allowClear="true" placeHolder="{{\'assignee_user\' | translate}}" (select)="setAssigneeUser($event)"></employee-input>\n        <tags-input [ids]="tagIds" editable="true" allowClear="true" placeHolder="{{\'tags\' | translate}}" (select)="setTags($event)"></tags-input>\n    '}),o("design:paramtypes",[])],TaskFilterComponent)}();e.TaskFilterComponent=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=n(38),c=function(){function TaskListComponent(t,e){var n=this;this.store=t,this.taskActions=e,this.showHeader=!0,this.showSelect=!0,this.streamMode=!1,this.selectedIds=[],this.isSelectedAll=!1,this.loading=!0,this.expandedIds=[],this.loadedExpandedCount=0,this.timeout=0,this.sub=this.store.select("tasks").subscribe(function(t){n.expandedIds=t.expandedIds})}return Object.defineProperty(TaskListComponent.prototype,"_tasks",{set:function(t){var e=this;this.tasks=t,this.selectedIds=[],this.isSelectedAll=!1,this.loadedExpandedCount=0,this.loading=!0,this.loading&&this.tasks.length>0&&(this.timeout=setTimeout(function(){e.loading=!1},300))},enumerable:!0,configurable:!0}),TaskListComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TaskListComponent.prototype.isSelected=function(t){return this.selectedIds.indexOf(t)!=-1},TaskListComponent.prototype.toggleSelectAll=function(){this.selectedIds.length?(this.selectedIds=[],this.isSelectedAll=!1):(this.selectedIds=this.tasks.map(function(t){return t.id}),this.isSelectedAll=!0)},TaskListComponent.prototype.toggleSelected=function(t){var e=this.selectedIds.indexOf(t);e!=-1?this.selectedIds.push(t):(this.selectedIds.splice(e),this.selectedIds.length||(this.isSelectedAll=!1))},TaskListComponent.prototype.onLoadStreamLevel=function(t){this.loadedExpandedCount++,this.loadedExpandedCount>=this.expandedIds.length&&(this.loading=!1,this.loadedExpandedCount--,clearTimeout(this.timeout))},TaskListComponent.prototype.onToggleStream=function(t){this.store.dispatch(this.taskActions.toggleStreamExpand(t))},TaskListComponent.prototype.toggleExpandable=function(t,e){e.preventDefault(),e.stopPropagation(),this.onToggleStream(t)},r([s.Input("tasks"),o("design:type",Array),o("design:paramtypes",[Array])],TaskListComponent.prototype,"_tasks",null),r([s.Input(),o("design:type",Boolean)],TaskListComponent.prototype,"showHeader",void 0),r([s.Input(),o("design:type",Boolean)],TaskListComponent.prototype,"showSelect",void 0),r([s.Input(),o("design:type",Boolean)],TaskListComponent.prototype,"streamMode",void 0),TaskListComponent=r([s.Component({selector:"task-list",template:n(570)}),o("design:paramtypes",[i.Store,a.TaskActions])],TaskListComponent)}();e.TaskListComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(17),a=n(39),c=n(30),u=function(){function TaskStreamComponent(t,e){this.store=t,this.taskService=e,this.showSelect=!0,this.expandRoot=!1,this.toggleStream=new s.EventEmitter,this.loadStreamLevel=new s.EventEmitter,this.expandedIds=[],this.loading=!0,this.expanded=!1,this.stream=[],this.level=1}return Object.defineProperty(TaskStreamComponent.prototype,"isHidden",{get:function(){return!this.expanded},enumerable:!0,configurable:!0}),Object.defineProperty(TaskStreamComponent.prototype,"_level",{set:function(t){this.level=1+t},enumerable:!0,configurable:!0}),TaskStreamComponent.prototype.ngOnInit=function(){var t=this;this.sub=this.store.select("tasks").subscribe(function(e){t.expandedIds=e.expandedIds,t.expandRoot||t.expandedIds.indexOf(t.task.id)!=-1?t.stream.length?(t.expanded=!0,t.onLoadStreamLevel(t.task.id)):t.loadStream(t.task):t.expanded=!1})},TaskStreamComponent.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},TaskStreamComponent.prototype.loadStream=function(t){var e=this;(t.hasSubtasks||t.hasRequests)&&(this.loading=!0,this.taskService.fetchTaskStream(this.task).subscribe(function(t){e.stream=t,e.expanded=e.stream.length>0,e.onLoadStreamLevel(e.task.id)},function(t){console.log("error")},function(){e.loading=!1}))},TaskStreamComponent.prototype.onLoadStreamLevel=function(t){this.loadStreamLevel.emit(t)},TaskStreamComponent.prototype.onToggleStream=function(t){this.toggleStream.emit(t)},TaskStreamComponent.prototype.toggleExpandable=function(t,e){e.preventDefault(),e.stopPropagation(),this.onToggleStream(t)},r([s.HostBinding("class.hidden"),o("design:type",Object)],TaskStreamComponent.prototype,"isHidden",null),r([s.HostBinding("class.stream-level"),o("design:type",Object)],TaskStreamComponent.prototype,"true",void 0),r([s.Input("level"),o("design:type",Number),o("design:paramtypes",[Number])],TaskStreamComponent.prototype,"_level",null),r([s.Input(),o("design:type",c.Task)],TaskStreamComponent.prototype,"task",void 0),r([s.Input(),o("design:type",Boolean)],TaskStreamComponent.prototype,"showSelect",void 0),r([s.Input(),o("design:type",Boolean)],TaskStreamComponent.prototype,"expandRoot",void 0),r([s.Output(),o("design:type",Object)],TaskStreamComponent.prototype,"toggleStream",void 0),r([s.Output(),o("design:type",Object)],TaskStreamComponent.prototype,"loadStreamLevel",void 0),TaskStreamComponent=r([s.Component({selector:"task-stream",template:n(571)}),o("design:paramtypes",[i.Store,a.TaskService])],TaskStreamComponent)}();e.TaskStreamComponent=u},function(t,e){"use strict";var n=function(){function Attachment(){this.id=""}return Attachment}();e.Attachment=n},function(t,e){"use strict";var n=function(){function Comment(){this.id="",this.fsid=""+Date.now()}return Comment}();e.Comment=n},function(t,e){"use strict";var n=function(){function Employee(){this.id="",this.name="@anonymous"}return Employee}();e.Employee=n},function(t,e){"use strict";var n=function(){function Organization(){this.id=""}return Organization}();e.Organization=n},function(t,e){"use strict";var n=function(){function Project(){this.id="",this.editable=!1,this.fsid=""+Date.now(),this.acl={},this.status="DRAFT"}return Project}();e.Project=n},function(t,e){"use strict";var n=function(){function RequestType(){this.id=""}return RequestType}();e.RequestType=n},function(t,e){"use strict";var n=function(){function Request(){this.id="",this.fsid=""+Date.now(),this.comment=""}return Request}();e.Request=n},function(t,e){"use strict";var n=function(){function Tag(){this.id=""}return Tag}();e.Tag=n},function(t,e){"use strict";var n=function(){function TaskType(){this.id=""}return TaskType}();e.TaskType=n},function(t,e){"use strict";var n=function(){function Task(){this.id="",this.editable=!1,this.fsid=""+Date.now(),this.acl={},this.status="DRAFT",this.priority="NORMAL",this.customerObservation=!1}return Task}();e.Task=n},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(2),a=function(){function DateDurationPipe(){}return DateDurationPipe.prototype.transform=function(t,e){if(!t&&!e)return"";var n,r,o;return n="now"===t?i():i(t,"DD.MM.YYYY"),r=i(e,"DD.MM.YYYY"),o=r.diff(n,"days"),o?"("+o.toString()+")":""},DateDurationPipe=r([s.Pipe({name:"dateDuration"}),o("design:paramtypes",[])],DateDurationPipe)}();e.DateDurationPipe=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(2),a=function(){function DateFormatPipe(){}return DateFormatPipe.prototype.transform=function(t,e){if(!t)return"";e||(e="DD.MM.YYYY HH:mm");var n=i(t,e);return n.isValid()?n.format(e):""},DateFormatPipe=r([s.Pipe({name:"dateFmt"}),o("design:paramtypes",[])],DateFormatPipe)}();e.DateFormatPipe=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(39),a=function(){function LocalizedNamePipe(t){this.appService=t}return LocalizedNamePipe.prototype.transform=function(t,e,n){return t?t.localizedName[n||this.appService.language]||t[e||"name"]:""},LocalizedNamePipe=r([s.Pipe({name:"localizedName"}),o("design:paramtypes",[i.AppService])],LocalizedNamePipe)}();e.LocalizedNamePipe=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function TextTransformPipe(){}return TextTransformPipe.prototype.transform=function(t,e){switch(e){case"L":return t.toLowerCase();case"U":return t.toUpperCase();default:return t}},TextTransformPipe=r([s.Pipe({name:"text"}),o("design:paramtypes",[])],TextTransformPipe)}();e.TextTransformPipe=i},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function ValuesPipe(){}return ValuesPipe.prototype.transform=function(t,e){return Object.keys(t).map(function(e){return t[e]})},ValuesPipe=r([s.Pipe({name:"values"}),o("design:paramtypes",[])],ValuesPipe)}();e.ValuesPipe=i},function(t,e,n){"use strict";var r=n(434),o={userProfile:null,languages:{},pageSize:20,language:"RUS"};e.authedReducer=function(t,e){void 0===t&&(t=o);var n=e.type,s=e.payload;switch(n){case r.AppActions.FETCH_USER_PROFILE_FULFILLED:return Object.assign({},t,{userProfile:s.userProfile,languages:s.languages,pageSize:s.pageSize,language:s.language});default:return t}}},function(t,e,n){"use strict";var r=n(193),o={isMobile:!1,isNavOpen:!0,isSearchOpen:!1,keyWord:""};e.environmentReducer=function(t,e){void 0===t&&(t=o);var n=e.type,s=e.payload;switch(n){case r.EnvironmentActions.SEARCH:return Object.assign({},t,{keyWord:s.keyWord});case r.EnvironmentActions.TOGGLE_NAV:return Object.assign({},t,{isNavOpen:!t.isNavOpen});case r.EnvironmentActions.TOGGLE_SEARCH:return Object.assign({},t,{isSearchOpen:!t.isSearchOpen});case r.EnvironmentActions.HIDE_NAV:return Object.assign({},t,{isNavOpen:!0,isSearchOpen:!1});default:return t}}},function(t,e,n){"use strict";var r=n(126),o={meta:{},projects:[],project:void 0,loading:!1};e.projectsReducer=function(t,e){void 0===t&&(t=o);var n=e.type,s=e.payload;switch(n){case r.ProjectActions.FETCH_PROJECTS:return Object.assign({},t,{loading:!0});case r.ProjectActions.FETCH_PROJECTS_FAILED:return Object.assign({},t,{loading:!1});case r.ProjectActions.FETCH_PROJECTS_FULFILLED:return Object.assign({},t,{projects:s.projects,meta:s.meta,loading:!1});default:return t}}},function(t,e,n){"use strict";var r=n(435),o={tags:[],taskTypes:[],requestTypes:[],fetchFail:!1};e.referenceReducer=function(t,e){void 0===t&&(t=o);var n=e.type,s=e.payload;switch(n){case r.ReferenceActions.FETCH_TAGS:return Object.assign({},t,{tags:s.tags});case r.ReferenceActions.FETCH_TASK_TYPES:return Object.assign({},t,{taskTypes:s.taskTypes});case r.ReferenceActions.FETCH_REQUEST_TYPES:return Object.assign({},t,{requestTypes:s.requestTypes});case r.ReferenceActions.FETCH_REFERENCE_FAILED:return Object.assign({},t,{fetchFail:!0});default:return t}}},function(t,e,n){"use strict";var r=n(38),o={organizations:[],employees:[]};e.staffReducer=function(t,e){void 0===t&&(t=o);var n=e.type,s=e.payload;switch(n){case r.StaffActions.FETCH_ORGANIZATIONS:return Object.assign({},t,{organizations:s.organizations});case r.StaffActions.FETCH_EMPLOYEES:return Object.assign({},t,{employees:s.employees});default:return t}}},function(t,e,n){"use strict";var r=n(38),o={task:null,request:null,requests:[],showRequest:!1,isResolveAction:!1,comments:[]};e.taskReducer=function(t,e){void 0===t&&(t=o);var n=e.type,s=e.payload;switch(n){case r.TaskActions.FETCH_TASK_REQUESTS_FULFILLED:return Object.assign({},t,{requests:s.requests});case r.TaskActions.TASK_REQUEST_ACCEPTANCE:return Object.assign({},t,{task:s.task,request:s.request,showRequest:!0,isResolveAction:!0});case r.TaskActions.TASK_REQUEST_NEW:return Object.assign({},t,{task:s,request:null,showRequest:!0,isResolveAction:!1});case r.TaskActions.TASK_REQUEST_CANCEL:return Object.assign({},t,{showRequest:!1});case r.TaskActions.FETCH_TASK_COMMENTS_FULFILLED:return Object.assign({},t,{comments:s.comments});case r.TaskActions.TASK_UNLOAD:return o;default:return t}}},function(t,e,n){"use strict";var r=n(38);e.SET_FILTER="SET_FILTER";var o={meta:{},tasks:[],expandedIds:[],loading:!1,filter:{taskType:null,assigneeEmployee:null,tags:[]}};e.tasksReducer=function(t,n){void 0===t&&(t=o);var s=n.type,i=n.payload;switch(s){case r.TaskActions.FETCH_TASKS_FULFILLED:return Object.assign({},t,{tasks:i.tasks,meta:i.meta});case r.TaskActions.FETCH_TASK_FULFILLED:return Object.assign({},t,{task:i.task});case r.TaskActions.TOGGLE_STREAM_EXPAND:var a=t.expandedIds.indexOf(i);if(a==-1){var c=[].concat(t.expandedIds);return c.push(i),Object.assign({},t,{expandedIds:c})}return Object.assign({},t,{expandedIds:t.expandedIds.filter(function(t){return t!=i})});case e.SET_FILTER:return Object.assign({},t,{filter:i});default:return t}}},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(22),a=new i.Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json"}),c=function(){function ReferenceService(t){this.http=t}return ReferenceService.prototype.fetchTags=function(){return this.http.get("/Reference/p?id=tags",{headers:a}).map(function(t){return t.json().objects[0]}).map(function(t){return{tags:t.list,meta:t.meta}})},ReferenceService.prototype.fetchTaskTypes=function(){return this.http.get("/Reference/p?id=tasktypes",{headers:a}).map(function(t){return t.json().objects[0]}).map(function(t){return{taskTypes:t.list,meta:t.meta}})},ReferenceService.prototype.fetchRequestTypes=function(){return this.http.get("/Reference/p?id=request-types",{headers:a}).map(function(t){return t.json().objects[0]}).map(function(t){return{requestTypes:t.list,meta:t.meta}})},ReferenceService=r([s.Injectable(),o("design:paramtypes",[i.Http])],ReferenceService)}();e.ReferenceService=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(3),a=function(){function UploadService(){var t=this;this.progress$=i.Observable.create(function(e){t.progressObserver=e}).share()}return UploadService.prototype.makeFileRequest=function(t,e,n){var r=this;return i.Observable.create(function(o){for(var s=new FormData,i=new XMLHttpRequest,a=0;a<n.length;a++)s.append("uploads[]",n[a],n[a].name);if(e)for(var c in e)s.append(c,e[c]);i.onreadystatechange=function(){4===i.readyState&&(200===i.status?(o.next(JSON.parse(i.response)),o.complete()):o.error(i.response))},i.upload.onprogress=function(t){var e=Math.round(t.loaded/t.total*100);r.progressObserver.next(e)},i.open("POST",t,!0),i.send(s)})},UploadService=r([s.Injectable(),o("design:paramtypes",[])],UploadService)}();e.UploadService=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(410),a=function(){function DatepickerDirective(t){this.elementRef=t,this.format="DD.MM.YYYY",this.select=new s.EventEmitter}return DatepickerDirective.prototype.ngOnInit=function(){var t=this;this.picker=new i({field:this.elementRef.nativeElement,format:this.format,onSelect:function(){t.elementRef.nativeElement.value=t.picker.toString(),t.select.emit(t.picker.toString(t.format))}})},DatepickerDirective.prototype.ngOnDestroy=function(){this.picker.destroy()},r([s.Input(),o("design:type",String)],DatepickerDirective.prototype,"format",void 0),r([s.Output(),o("design:type",Object)],DatepickerDirective.prototype,"select",void 0),DatepickerDirective=r([s.Directive({selector:"[datepicker]"}),o("design:paramtypes",[s.ElementRef])],DatepickerDirective)}();e.DatepickerDirective=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(450),a=function(){function DropdownComponent(t){var e=this;this.renderer=t,this.open=!1,this.mouseEvent=!1,this.tabIndex=0,this.dropdownToggle=new s.EventEmitter,this.selfClick=!1,this.delay=500,this.documentClickListener=this.renderer.listenGlobal("body","click",function(){e.selfClick?e.selfClick=!1:e.open=!1}),this.documentKeyupListener=this.renderer.listenGlobal("body","keyup",function(t){"Escape"===t.code&&(e.open=!1)})}return Object.defineProperty(DropdownComponent.prototype,"isOpen",{get:function(){return this.open},enumerable:!0,configurable:!0}),Object.defineProperty(DropdownComponent.prototype,"_tabIndex",{get:function(){return this.tabIndex},enumerable:!0,configurable:!0}),DropdownComponent.prototype.onMouseEnter=function(t){var e=this;this.mouseEvent&&(clearTimeout(this.time),this.time=setTimeout(function(){return e.open=!0},this.delay))},DropdownComponent.prototype.onMouseLeave=function(t){var e=this;this.mouseEvent&&(clearTimeout(this.time),this.time=setTimeout(function(){return e.open=!1},this.delay))},DropdownComponent.prototype.onClick=function(t){this.selfClick=!0},DropdownComponent.prototype.onFocus=function(t){t.preventDefault(),this.selfClick=!0},DropdownComponent.prototype.ngAfterContentInit=function(){var t=this;this.toggleComponent.forEach(function(e){return e.toggle.subscribe(function(e){t.toggleDropdown(e)})})},DropdownComponent.prototype.ngOnDestroy=function(){this.documentClickListener()},DropdownComponent.prototype.toggleDropdown=function(t){t.preventDefault(),this.open=!this.open,this.dropdownToggle.emit(this.open)},r([s.HostBinding("class.dropdown"),o("design:type",Object)],DropdownComponent.prototype,"true",void 0),r([s.HostBinding("class.open"),o("design:type",Object)],DropdownComponent.prototype,"isOpen",null),r([s.HostBinding("tabIndex"),o("design:type",Object)],DropdownComponent.prototype,"_tabIndex",null),r([s.HostListener("mouseenter",["$event"]),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],DropdownComponent.prototype,"onMouseEnter",null),r([s.HostListener("mouseleave",["$event"]),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],DropdownComponent.prototype,"onMouseLeave",null),r([s.HostListener("click",["$event"]),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],DropdownComponent.prototype,"onClick",null),r([s.HostListener("focus",["$event"]),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],DropdownComponent.prototype,"onFocus",null),r([s.ContentChildren(i.DropdownToggleComponent),o("design:type",s.QueryList)],DropdownComponent.prototype,"toggleComponent",void 0),r([s.Input(),o("design:type",Object)],DropdownComponent.prototype,"open",void 0),r([s.Input(),o("design:type",Object)],DropdownComponent.prototype,"mouseEvent",void 0),r([s.Input(),o("design:type",Object)],DropdownComponent.prototype,"tabIndex",void 0),r([s.Output(),o("design:type",Object)],DropdownComponent.prototype,"dropdownToggle",void 0),DropdownComponent=r([s.Component({selector:"[dropdown]",template:"<ng-content></ng-content>"}),o("design:paramtypes",[s.Renderer])],DropdownComponent)}();e.DropdownComponent=a},function(t,e,n){"use strict";var r=n(692),o=n(450);e.DROPDOWN_DIRECTIVES=[r.DropdownComponent,o.DropdownToggleComponent]},function(t,e,n){"use strict";var r=n(198);e.MarkdownConverter=r.MarkdownConverter;var o=n(695);e.MarkdownEditorComponent=o.MarkdownEditorComponent;var s=n(696);e.MarkedPipe=s.MarkedPipe},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(198),a=function(){function MarkdownEditorComponent(t){this.mdc=t,this.editable=!0,this.markdown="",this.klass="",this.updateTimeout=150,this.update=new s.EventEmitter,this.focus=new s.EventEmitter,this.blur=new s.EventEmitter,this.hasValue=!1}return MarkdownEditorComponent.prototype.ngOnInit=function(){this.html=this.mdc.toHtml(this.markdown),this.hasValue=this.markdown.length>0},MarkdownEditorComponent.prototype.updateValue=function(t){var e=this;clearTimeout(this.to),this.hasValue=t.innerText.trim().length>0,this.to=setTimeout(function(){e.update.emit(e.mdc.toMarkdown(t.innerHTML))},this.updateTimeout)},r([s.Input(),o("design:type",Boolean)],MarkdownEditorComponent.prototype,"editable",void 0),r([s.Input(),o("design:type",String)],MarkdownEditorComponent.prototype,"markdown",void 0),r([s.Input(),o("design:type",String)],MarkdownEditorComponent.prototype,"klass",void 0),r([s.Input(),o("design:type",String)],MarkdownEditorComponent.prototype,"placeHolder",void 0),r([s.Input(),o("design:type",Number)],MarkdownEditorComponent.prototype,"updateTimeout",void 0),r([s.Output(),o("design:type",Object)],MarkdownEditorComponent.prototype,"update",void 0),r([s.Output(),o("design:type",Object)],MarkdownEditorComponent.prototype,"focus",void 0),r([s.Output(),o("design:type",Object)],MarkdownEditorComponent.prototype,"blur",void 0),MarkdownEditorComponent=r([s.Component({selector:"markdown-editor",template:'\n        <div class="rt-editor {{klass}}" [class.edit]="editable">\n            <div class="rt-editor__placeholder" *ngIf="placeHolder && !hasValue">{{placeHolder}}</div>\n            <div class="rt-editor__area"\n                [contentEditable]="editable"\n                (keyup)="updateValue($event.target)"\n                (focus)="focus.emit($event)"\n                (blur)="blur.emit($event)"\n                innerHTML="{{html}}">\n            </div>\n        </div>\n    '}),o("design:paramtypes",[i.MarkdownConverter])],MarkdownEditorComponent)}();e.MarkdownEditorComponent=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(198),a=function(){function MarkedPipe(t){this.mdc=t}return MarkedPipe.prototype.transform=function(t){return this.mdc.toHtml(t)},MarkedPipe=r([s.Pipe({name:"marked"}),o("design:paramtypes",[i.MarkdownConverter])],MarkedPipe)}();e.MarkedPipe=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(451),a=function(){function NotificationComponent(t){this.notifyService=t,this.notifications=[]}return Object.defineProperty(NotificationComponent.prototype,"isHidden",{get:function(){return 0==this.notifications.length},enumerable:!0,configurable:!0}),NotificationComponent.prototype.ngOnInit=function(){var t=this;this.listener=this.notifyService.getEmitter().subscribe(function(e){switch(e.command){case"cleanAll":t.notifications=[];break;case"add":t.addNotify(e.notify)}})},NotificationComponent.prototype.ngOnDestroy=function(){this.listener&&(this.notifications.map(function(t){return t.getEmitter().unsubscribe()}),this.listener.unsubscribe())},NotificationComponent.prototype.addNotify=function(t){var e=this;this.notifications.push(t),t.getEmitter().subscribe(function(t){return e.notifyEmitter(t)})},NotificationComponent.prototype.notifyEmitter=function(t){if(t.dismiss){var e=this.notifications.indexOf(t.notify);
this.notifications.splice(e,1),t.notify.getEmitter().unsubscribe()}},r([s.HostBinding("class.nb-notify"),o("design:type",Object)],NotificationComponent.prototype,"true",void 0),r([s.HostBinding("class.hidden"),o("design:type",Object)],NotificationComponent.prototype,"isHidden",null),NotificationComponent=r([s.Component({selector:"notification",template:'\n        <div class="nb-notify-entry-{{notify.type}}"\n            [class.dismiss-click]="notify.delay == \'click\'"\n            [style.display]="notify.display ? \'block\': \'none\'"\n            (click)="notify.dismiss()"\n            *ngFor="let notify of notifications">\n            {{notify.message}}\n        </div>\n    '}),o("design:paramtypes",[i.NotificationService])],NotificationComponent)}();e.NotificationComponent=a},function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(699))},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function PaginationComponent(){this.maxPageControl=5,this.change=new s.EventEmitter,this.totalPages=0,this.currentPage=0,this.startPage=0,this.stopPage=0,this.pages=[]}return Object.defineProperty(PaginationComponent.prototype,"isHidden",{get:function(){return this.totalPages<2},enumerable:!0,configurable:!0}),Object.defineProperty(PaginationComponent.prototype,"_totalPages",{set:function(t){this.totalPages=t,this.currentPage=t},enumerable:!0,configurable:!0}),Object.defineProperty(PaginationComponent.prototype,"_page",{set:function(t){this.currentPage=t,this.pagination()},enumerable:!0,configurable:!0}),PaginationComponent.prototype.setPage=function(t,e){e.preventDefault(),this.change.emit({page:t})},PaginationComponent.prototype.pagination=function(){if(this.pages=[],!(this.totalPages<=1)){var t=Math.floor(this.maxPageControl/2);this.startPage=this.currentPage-t,this.stopPage=this.currentPage+t,this.startPage<=t?this.startPage=1:this.currentPage==this.totalPages&&(this.startPage=this.totalPages-this.maxPageControl),this.stopPage>this.totalPages-t?this.stopPage=this.totalPages:1==this.currentPage&&(this.stopPage=this.maxPageControl+1),this.maxPageControl+t>=this.totalPages&&(this.startPage=1,this.stopPage=this.totalPages);for(var e=this.startPage;e<=this.stopPage;e++)this.pages.push(e)}},r([s.HostBinding("hidden"),o("design:type",Object)],PaginationComponent.prototype,"isHidden",null),r([s.Input(),o("design:type",Number)],PaginationComponent.prototype,"maxPageControl",void 0),r([s.Input("totalPages"),o("design:type",Number),o("design:paramtypes",[Number])],PaginationComponent.prototype,"_totalPages",null),r([s.Input("page"),o("design:type",Number),o("design:paramtypes",[Number])],PaginationComponent.prototype,"_page",null),r([s.Output(),o("design:type",Object)],PaginationComponent.prototype,"change",void 0),PaginationComponent=r([s.Component({selector:"pagination",template:'\n        <div class="pagination" *ngIf="totalPages > 1">\n            <a href="#" *ngIf="startPage > 1" (click)="setPage(1, $event)">1</a>\n            <span *ngIf="startPage > 1">...</span>\n            <a [class.page-active]="p == currentPage" href="#" *ngFor="let p of pages" (click)="setPage(p, $event)">{{p}}</a>\n            <span *ngIf="stopPage < totalPages">...</span>\n            <a *ngIf="stopPage < totalPages" href="#" (click)="setPage(totalPages, $event)">{{totalPages}}</a>\n        </div>\n    ',changeDetection:s.ChangeDetectionStrategy.OnPush}),o("design:paramtypes",[])],PaginationComponent)}();e.PaginationComponent=i},function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(701))},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=function(){function SwitchButtonComponent(){this.class="input",this.name="swb"+Math.random(),this.multi=!1,this.disabled=!1,this.checkDefault=!0}return SwitchButtonComponent.prototype.ngAfterContentInit=function(){var t=this;[].concat(this.items).forEach(function(e){t.checkDefault&&e&&e.value==t.model[t.value]&&(t.checkDefault=!1)})},SwitchButtonComponent.prototype.select=function(t){this.model[this.value]=t},SwitchButtonComponent.prototype.isSelected=function(t){return t.value==this.model[this.value]||this.checkDefault&&t.default},r([s.HostBinding("class.switch-button"),o("design:type",Object)],SwitchButtonComponent.prototype,"true",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"model",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"value",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"items",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"class",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"name",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"multi",void 0),r([s.Input(),o("design:type",Object)],SwitchButtonComponent.prototype,"disabled",void 0),SwitchButtonComponent=r([s.Component({selector:"switch-button",template:'\n        <label\n             [ngClass]="class"\n             [class.active]="isSelected(item)"\n             [class.disabled]="disabled || item.disabled"\n             *ngFor="let item of items">\n            <input\n                type="{{multi ? \'checkbox\' : \'radio\'}}"\n                name="{{name}}"\n                value="{{item.value}}"\n                [checked]="isSelected(item)"\n                [disabled]="disabled || item.disabled"\n                (change)="select(item.value)" />\n            <i class="fa fa-{{item.icon}}" *ngIf="item.icon"></i>\n            <span>{{item.text}}</span>\n        </label>\n    '}),o("design:paramtypes",[])],SwitchButtonComponent)}();e.SwitchButtonComponent=i},function(t,e,n){"use strict";var r=n(703),o=n(453);e.TAB_DIRECTIVES=[r.Tabs,o.Tab]},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1),i=n(453),a=function(){function Tabs(){}return Tabs.prototype.ngAfterContentInit=function(){var t=this.tabs.filter(function(t){return t.active});0===t.length&&this.selectTab(this.tabs.first)},Tabs.prototype.selectTab=function(t){this.tabs.forEach(function(t){return t.active=!1}),t.active=!0,t.select.emit(!0)},r([s.ContentChildren(i.Tab),o("design:type",s.QueryList)],Tabs.prototype,"tabs",void 0),Tabs=r([s.Component({selector:"tabs",template:'\n        <ul class="nav nav-tabs">\n            <li *ngFor="let tab of tabs" (click)="selectTab(tab)" [class.pinned]="tab.pinned" [class.active]="tab.active">\n                <a href="#" (click)="$event.preventDefault()">\n                    <i class="{{tab.icon}}" *ngIf="tab.icon"></i>\n                    {{tab.title}}\n                </a>\n            </li>\n        </ul>\n        <ng-content></ng-content>\n    '}),o("design:paramtypes",[])],Tabs)}();e.Tabs=a},function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(705))},function(t,e,n){"use strict";var r=n(559),o=n(17),s=n(576),i=n(683),a=n(682),c=n(684),u=n(688),l=n(687),p=n(686),d=n(685),f=s.storeLogger({level:"log",collapsed:!1,duration:!0,timestamp:!0});e.APP_STORE=o.provideStore(r.compose(f,o.combineReducers)({environment:i.environmentReducer,authed:a.authedReducer,projects:c.projectsReducer,tasks:u.tasksReducer,task:l.taskReducer,staff:p.staffReducer,reference:d.referenceReducer}))}]);
//# sourceMappingURL=app.js.map